webpackJsonp([0],[,function(t,e,r){"use strict";function o(t){return function(e,r,o){"number"!=typeof o&&(o=void 0),u.push(function(e){return t(e,r,o)})}}function n(t,e){e.prototype._init=function(){var e=this,r=Object.getOwnPropertyNames(t);if(t.$options.props)for(var o in t.$options.props)t.hasOwnProperty(o)||r.push(o);r.forEach(function(r){"_"!==r.charAt(0)&&Object.defineProperty(e,r,{get:function(){return t[r]},set:function(e){return t[r]=e}})})};var r=new e,o={};return Object.keys(r).forEach(function(t){void 0!==r[t]&&(o[t]=r[t])}),o}function i(t,e){void 0===e&&(e={}),e.name=e.name||t._componentTag||t.name;var r=t.prototype;Object.getOwnPropertyNames(r).forEach(function(t){if("constructor"!==t){if(c.indexOf(t)>-1)return void(e[t]=r[t]);var o=Object.getOwnPropertyDescriptor(r,t);"function"==typeof o.value?(e.methods||(e.methods={}))[t]=o.value:(o.get||o.set)&&((e.computed||(e.computed={}))[t]={get:o.get,set:o.set})}}),(e.mixins||(e.mixins=[])).push({data:function(){return n(this,t)}}),u.forEach(function(t){return t(e)}),u=[];var o=Object.getPrototypeOf(t.prototype);return(o instanceof s?o.constructor:s).extend(e)}function a(t){return"function"==typeof t?i(t):function(e){return i(e,t)}}Object.defineProperty(e,"__esModule",{value:!0});var s=function(t){return t&&"object"==typeof t&&"default"in t?t.default:t}(r(0)),c=["data","beforeCreate","created","beforeMount","mounted","beforeDestroy","destroyed","beforeUpdate","updated","activated","deactivated","render"],u=[];!function(t){function e(t){c.push.apply(c,t)}t.registerHooks=e}(a||(a={}));var l=a;e.default=l,e.createDecorator=o},function(t,e,r){"use strict";function o(t){return c.createDecorator(function(e,r){void 0===e.inject&&(e.inject={}),Array.isArray(e.inject)||(e.inject[r]=t||r)})}function n(t){return c.createDecorator(function(e,r){var o=e.provide;if("function"!=typeof o||!o.managed){var n=e.provide;o=e.provide=function(){var t=Object.create(("function"==typeof n?n.call(this):n)||null);for(var e in o.managed)t[o.managed[e]]=this[e];return t},o.managed={}}o.managed[r]=t||r})}function i(t){return c.createDecorator(function(e,r){e.model={prop:r,event:t||r}})}function a(t){return void 0===t&&(t={}),function(e,r){Array.isArray(t)||void 0!==t.type||(t.type=Reflect.getMetadata("design:type",e,r)),c.createDecorator(function(e,r){(e.props||(e.props={}))[r]=t})(e,r)}}function s(t,e){void 0===e&&(e={});var r=e.deep,o=void 0!==r&&r,n=e.immediate,i=void 0!==n&&n;return c.createDecorator(function(e,r){"object"!=typeof e.watch&&(e.watch=Object.create(null)),e.watch[t]={handler:r,deep:o,immediate:i}})}Object.defineProperty(e,"__esModule",{value:!0});var c=r(1);e.Component=c.default,r(131),e.Inject=o,e.Provide=n,e.Model=i,e.Prop=a,e.Watch=s},,,function(t,e,r){"use strict";r.d(e,"a",function(){return n});var o=r(7),n=new o.a.Store({state:{pageTitle:"",title:"",pageLoader:!1,pageLoaderCounter:0},mutations:{setPageTitle:function(t,e){t.pageTitle=e},setTitle:function(t,e){t.title=e},showPageLoader:function(t){t.pageLoaderCounter++,t.pageLoader||(t.pageLoader=!0)},hidePageLoader:function(t){t.pageLoaderCounter--,t.pageLoaderCounter=Math.max(t.pageLoaderCounter,0),t.pageLoaderCounter<1&&(t.pageLoader=!1)}}})},function(t,e,r){"use strict";r.d(e,"a",function(){return s});var o=r(7),n=r(0),i=r.n(n),a=r(17);i.a.use(o.a);var s=new o.a.Store({state:{isAuth:void 0,userData:null,isTemporaryPassword:!1,roles:[]},mutations:{isAuth:function(t,e){t.isAuth=e},userData:function(t,e){t.userData=e},isTemporaryPassword:function(t,e){t.isTemporaryPassword=e},roles:function(t,e){t.roles=e}},actions:{fetchData:function(t){return new Promise(function(e,r){a.a.checkAuth().then(function(r){t.commit("isAuth",r.auth),t.commit("userData",r.user),t.commit("isTemporaryPassword",r.isTemporaryPassword),t.commit("roles",r.roles),e()},function(){return r()})})}}})},,function(t,e,r){(function(o){function n(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type)||("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))}function i(t){var r=this.useColors;if(t[0]=(r?"%c":"")+this.namespace+(r?" %c":" ")+t[0]+(r?"%c ":" ")+"+"+e.humanize(this.diff),r){var o="color: "+this.color;t.splice(1,0,o,"color: inherit");var n=0,i=0;t[0].replace(/%[a-zA-Z%]/g,function(t){"%%"!==t&&(n++,"%c"===t&&(i=n))}),t.splice(i,0,o)}}function a(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function s(t){try{null==t?e.storage.removeItem("debug"):e.storage.debug=t}catch(t){}}function c(){var t;try{t=e.storage.debug}catch(t){}return!t&&void 0!==o&&"env"in o&&(t=r.i({NODE_ENV:"production"}).DEBUG),t}e=t.exports=r(65),e.log=a,e.formatArgs=i,e.save=s,e.load=c,e.useColors=n,e.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(t){}}(),e.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],e.formatters.j=function(t){try{return JSON.stringify(t)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}},e.enable(c())}).call(e,r(25))},,function(t,e,r){"use strict";r.d(e,"a",function(){return i});var o=r(7),n=r(13),i=new o.a.Store({state:{list:[]},mutations:{addCategories:function(t,e){t.list=t.list.concat(e)},clear:function(t){t.list=[]}},actions:{fetchList:function(t){return new Promise(function(e,r){if(t.state.list.length>0)return e(t.state.list);n.a.categories().then(function(r){t.commit("addCategories",r),e(r)},function(){return r([])})})},checkCategory:function(t,e){return new Promise(function(r,o){t.dispatch("fetchList").then(function(t){for(var n=0,i=t;n<i.length;n++){var a=i[n];if(a.id==e)return r(a)}return o(null)},function(){return o(null)})})},clear:function(t){return new Promise(function(e){t.commit("clear"),e()})}}})},function(t,e,r){"use strict";r.d(e,"a",function(){return u});var o=r(0),n=r.n(o),i=r(7),a=r(17),s=r(6),c=r(51);n.a.use(i.a);var u=new i.a.Store({state:{userNotifications:[],unread:0,flashNotifications:[]},mutations:{pushFlash:function(t,e){t.flashNotifications.push(e)},removeFlash:function(t,e){var r=t.flashNotifications.indexOf(e);-1!==r&&t.flashNotifications.splice(r,1)},clearUserNotifications:function(t){t.userNotifications=[],t.unread=0},addNotification:function(t,e){t.userNotifications.push(e),e.isRead||t.unread++},addNotifications:function(t,e){t.userNotifications=t.userNotifications.concat(e);for(var r=0,o=e;r<o.length;r++){o[r].isRead||t.unread++}},markAllAsRead:function(t){for(var e=0,r=t.userNotifications;e<r.length;e++){r[e].isRead=!0}t.unread=0}},actions:{fetchAll:function(t){return new Promise(function(e){t.commit("clearUserNotifications"),a.a.notifications().then(function(r){t.commit("addNotifications",r),e(r)},function(){e([])})})},fetchNew:function(t){return new Promise(function(e){for(var r=[],o=[],n=0,i=t.state.userNotifications;n<i.length;n++){var u=i[n];o.push(u.id)}a.a.notifications().then(function(n){for(var i=0,a=n;i<a.length;i++){var u=a[i];if(-1==o.indexOf(u.id)){if(r.push(u),t.commit("addNotification",u),s.a.state.isAuth&&"manager"==s.a.state.userData.userType&&"incoming_call"==u.type)return void c.a.commit("incomingCall",u);t.dispatch("flash",{userNotify:u,type:"info"})}}e(r)},function(){e(r)})})},readAll:function(t){return new Promise(function(e){t.state.unread>0?(t.commit("markAllAsRead"),a.a.readAllNotifications().then(function(){e(!0)},function(){e(!1)})):e(!0)})},flash:function(t,e){(e.userNotify||e.title||e.text)&&(e.type||(e.type="default"),t.commit("pushFlash",e),(void 0===e.autoHide||e.autoHide)&&setTimeout(function(){t.commit("removeFlash",e)},5e3))}}})},function(t,e,r){"use strict";r.d(e,"a",function(){return c});var o=r(36),n=r.n(o),i=r(34),a=r(11),s=function(){function t(t){this.http=n.a.create({baseURL:t,headers:{"Content-Type":"application/json"}})}return t.prototype.makeRequest=function(t,e,r,o){var n=this;void 0===o&&(o=!0);var i={};if(this.csrfToken&&(i["X-CSRF-Token"]=this.csrfToken),!o){i["Content-Type"]="multipart/form-data";for(var s=new FormData,c=0,u=Object.keys(r);c<u.length;c++){var l=u[c];s.append(l,r[l])}r=s}var p=function(t){if(t&&t.headers)for(var e in t.headers)"x-csrf-token"==e.toLowerCase()&&(n.csrfToken=t.headers[e])},f={method:t,url:e,headers:i};return"GET"==t?f.params=r:f.data=r,this.http.request(f).then(function(t){return p(t),t}).catch(function(t){if(p(t.response),!(t.response.data.error&&t.response.data.error.code&&t.response.data.error.message))return t.response;var e=t.response.data.error;a.a.dispatch("flash",{type:"danger",title:e.code,text:e.message})})},t}(),c=new s(i.a.backendApiUrl)},function(t,e,r){"use strict";r.d(e,"a",function(){return i});var o=r(12),n=function(){function t(t){this.backendService=t}return t.prototype.list=function(t,e,r,o){return void 0===t&&(t=null),void 0===e&&(e=!0),void 0===r&&(r=0),void 0===o&&(o=150),this.backendService.makeRequest("GET","ticket",{category:t,opened:e?"1":"0",pageNum:r,pageSize:o}).then(function(t){return t.data})},t.prototype.createTicket=function(t){return this.backendService.makeRequest("POST","ticket",{ticket:t}).then(function(t){return t.data})},t.prototype.ticketDetails=function(t){return this.backendService.makeRequest("GET","ticket/"+t).then(function(t){return t.data})},t.prototype.createMessage=function(t,e){return this.backendService.makeRequest("POST","ticket/"+t+"/message",{ticket_message:e}).then(function(t){return t.data})},t.prototype.closeTicket=function(t){return this.backendService.makeRequest("POST","ticket/"+t+"/close").then(function(t){return t.data})},t.prototype.managers=function(t){return this.backendService.makeRequest("GET","ticket/"+t+"/managers").then(function(t){return t.data})},t.prototype.assign=function(t,e){var r={};return e&&(r.managerId=e),this.backendService.makeRequest("POST","ticket/"+t+"/assign",r).then(function(t){return t.data})},t.prototype.categories=function(){return this.backendService.makeRequest("GET","ticket/categories").then(function(t){return t.data.list})},t}(),i=new n(o.a)},function(t,e,r){function o(t){if(t)return n(t)}function n(t){for(var e in o.prototype)t[e]=o.prototype[e];return t}t.exports=o,o.prototype.on=o.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},o.prototype.once=function(t,e){function r(){this.off(t,r),e.apply(this,arguments)}return r.fn=e,this.on(t,r),this},o.prototype.off=o.prototype.removeListener=o.prototype.removeAllListeners=o.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var r=this._callbacks["$"+t];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var o,n=0;n<r.length;n++)if((o=r[n])===e||o.fn===e){r.splice(n,1);break}return this},o.prototype.emit=function(t){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),r=this._callbacks["$"+t];if(r){r=r.slice(0);for(var o=0,n=r.length;o<n;++o)r[o].apply(this,e)}return this},o.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},o.prototype.hasListeners=function(t){return!!this.listeners(t).length}},function(t,e,r){(function(t){function o(t,r){return r("b"+e.packets[t.type]+t.data.data)}function n(t,r,o){if(!r)return e.encodeBase64Packet(t,o);var n=t.data,i=new Uint8Array(n),a=new Uint8Array(1+n.byteLength);a[0]=g[t.type];for(var s=0;s<i.length;s++)a[s+1]=i[s];return o(a.buffer)}function i(t,r,o){if(!r)return e.encodeBase64Packet(t,o);var n=new FileReader;return n.onload=function(){t.data=n.result,e.encodePacket(t,r,!0,o)},n.readAsArrayBuffer(t.data)}function a(t,r,o){if(!r)return e.encodeBase64Packet(t,o);if(y)return i(t,r,o);var n=new Uint8Array(1);return n[0]=g[t.type],o(new k([n.buffer,t.data]))}function s(t){try{t=h.decode(t,{strict:!1})}catch(t){return!1}return t}function c(t,e,r){for(var o=new Array(t.length),n=d(t.length,r),i=0;i<t.length;i++)!function(t,r,n){e(r,function(e,r){o[t]=r,n(e,o)})}(i,t[i],n)}var u,l=r(72),p=r(41),f=r(59),d=r(58),h=r(73);t&&t.ArrayBuffer&&(u=r(61));var m="undefined"!=typeof navigator&&/Android/i.test(navigator.userAgent),v="undefined"!=typeof navigator&&/PhantomJS/i.test(navigator.userAgent),y=m||v;e.protocol=3;var g=e.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},b=l(g),w={type:"error",data:"parser error"},k=r(62);e.encodePacket=function(e,r,i,s){"function"==typeof r&&(s=r,r=!1),"function"==typeof i&&(s=i,i=null);var c=void 0===e.data?void 0:e.data.buffer||e.data;if(t.ArrayBuffer&&c instanceof ArrayBuffer)return n(e,r,s);if(k&&c instanceof t.Blob)return a(e,r,s);if(c&&c.base64)return o(e,s);var u=g[e.type];return void 0!==e.data&&(u+=i?h.encode(String(e.data),{strict:!1}):String(e.data)),s(""+u)},e.encodeBase64Packet=function(r,o){var n="b"+e.packets[r.type];if(k&&r.data instanceof t.Blob){var i=new FileReader;return i.onload=function(){var t=i.result.split(",")[1];o(n+t)},i.readAsDataURL(r.data)}var a;try{a=String.fromCharCode.apply(null,new Uint8Array(r.data))}catch(t){for(var s=new Uint8Array(r.data),c=new Array(s.length),u=0;u<s.length;u++)c[u]=s[u];a=String.fromCharCode.apply(null,c)}return n+=t.btoa(a),o(n)},e.decodePacket=function(t,r,o){if(void 0===t)return w;if("string"==typeof t){if("b"===t.charAt(0))return e.decodeBase64Packet(t.substr(1),r);if(o&&!1===(t=s(t)))return w;var n=t.charAt(0);return Number(n)==n&&b[n]?t.length>1?{type:b[n],data:t.substring(1)}:{type:b[n]}:w}var i=new Uint8Array(t),n=i[0],a=f(t,1);return k&&"blob"===r&&(a=new k([a])),{type:b[n],data:a}},e.decodeBase64Packet=function(t,e){var r=b[t.charAt(0)];if(!u)return{type:r,data:{base64:!0,data:t.substr(1)}};var o=u.decode(t.substr(1));return"blob"===e&&k&&(o=new k([o])),{type:r,data:o}},e.encodePayload=function(t,r,o){function n(t){return t.length+":"+t}function i(t,o){e.encodePacket(t,!!a&&r,!1,function(t){o(null,n(t))})}"function"==typeof r&&(o=r,r=null);var a=p(t);return r&&a?k&&!y?e.encodePayloadAsBlob(t,o):e.encodePayloadAsArrayBuffer(t,o):t.length?void c(t,i,function(t,e){return o(e.join(""))}):o("0:")},e.decodePayload=function(t,r,o){if("string"!=typeof t)return e.decodePayloadAsBinary(t,r,o);"function"==typeof r&&(o=r,r=null);var n;if(""===t)return o(w,0,1);for(var i,a,s="",c=0,u=t.length;c<u;c++){var l=t.charAt(c);if(":"===l){if(""===s||s!=(i=Number(s)))return o(w,0,1);if(a=t.substr(c+1,i),s!=a.length)return o(w,0,1);if(a.length){if(n=e.decodePacket(a,r,!1),w.type===n.type&&w.data===n.data)return o(w,0,1);if(!1===o(n,c+i,u))return}c+=i,s=""}else s+=l}return""!==s?o(w,0,1):void 0},e.encodePayloadAsArrayBuffer=function(t,r){function o(t,r){e.encodePacket(t,!0,!0,function(t){return r(null,t)})}if(!t.length)return r(new ArrayBuffer(0));c(t,o,function(t,e){var o=e.reduce(function(t,e){var r;return r="string"==typeof e?e.length:e.byteLength,t+r.toString().length+r+2},0),n=new Uint8Array(o),i=0;return e.forEach(function(t){var e="string"==typeof t,r=t;if(e){for(var o=new Uint8Array(t.length),a=0;a<t.length;a++)o[a]=t.charCodeAt(a);r=o.buffer}n[i++]=e?0:1;for(var s=r.byteLength.toString(),a=0;a<s.length;a++)n[i++]=parseInt(s[a]);n[i++]=255;for(var o=new Uint8Array(r),a=0;a<o.length;a++)n[i++]=o[a]}),r(n.buffer)})},e.encodePayloadAsBlob=function(t,r){function o(t,r){e.encodePacket(t,!0,!0,function(t){var e=new Uint8Array(1);if(e[0]=1,"string"==typeof t){for(var o=new Uint8Array(t.length),n=0;n<t.length;n++)o[n]=t.charCodeAt(n);t=o.buffer,e[0]=0}for(var i=t instanceof ArrayBuffer?t.byteLength:t.size,a=i.toString(),s=new Uint8Array(a.length+1),n=0;n<a.length;n++)s[n]=parseInt(a[n]);if(s[a.length]=255,k){var c=new k([e.buffer,s.buffer,t]);r(null,c)}})}c(t,o,function(t,e){return r(new k(e))})},e.decodePayloadAsBinary=function(t,r,o){"function"==typeof r&&(o=r,r=null);for(var n=t,i=[];n.byteLength>0;){for(var a=new Uint8Array(n),s=0===a[0],c="",u=1;255!==a[u];u++){if(c.length>310)return o(w,0,1);c+=a[u]}n=f(n,2+c.length),c=parseInt(c);var l=f(n,0,c);if(s)try{l=String.fromCharCode.apply(null,new Uint8Array(l))}catch(t){var p=new Uint8Array(l);l="";for(var u=0;u<p.length;u++)l+=String.fromCharCode(p[u])}i.push(l),n=f(n,c)}var d=i.length;i.forEach(function(t,n){o(e.decodePacket(t,r,!0),n,d)})}}).call(e,r(4))},function(t,e,r){"use strict";r.d(e,"a",function(){return s});var o=r(54),n=r(185),i=r(6),a=r(5),s=new o.a({mode:"history",routes:n.a});s.beforeEach(function(t,e,r){i.a.dispatch("fetchData").then(function(){var e=i.a.state.isAuth,o=i.a.state.userData,n=!(!t.meta||!t.meta.needAuth),s=!(!t.meta||!t.meta.needNotAuth),c=t.meta&&t.meta.needRole?t.meta.needRole:"",u=t.meta&&t.meta.needType?t.meta.needType:"";if(e&&s)r({name:"customer"==o.userType?"cabinet":"dashboard"});else if(!e&&(n||c||u))r({name:"login"});else if(c&&!function(t){var e=i.a.state.roles;return!(!e||-1==e.indexOf(t))}(c)||u&&!function(t){var e=t;return o&&o.userType==e}(u))r({name:"403"});else{var l=t.meta.pageTitle||"",p=t.meta.title||"";a.a.commit("setPageTitle",l),a.a.commit("setTitle",p),a.a.commit("showPageLoader"),r()}})}),s.afterEach(function(){a.a.commit("hidePageLoader")})},function(t,e,r){"use strict";r.d(e,"a",function(){return u});var o=r(12),n=r(34),i=r(6),a=r(186),s=r(33),c=function(){function t(t,e){this.backendService=t,this.reloadAuthStateInterval=e}return t.prototype.connectComet=function(){i.a.state.isAuth&&(a.a.disconnect(),a.a.connect(),a.a.registerFetchNewNotifications())},t.prototype.disconnectComet=function(){a.a.disconnect()},t.prototype.checkAuth=function(){var t=this,e=function(t){!i.a.state.userData&&t.user&&(s.a.dispatch("fetchActualList").then(function(){}),"customer"==t.user.userType&&s.a.dispatch("fetchActivatedList").then(function(){})),i.a.commit("isAuth",t.auth),i.a.commit("userData",t.user),i.a.commit("isTemporaryPassword",t.isTemporaryPassword),i.a.commit("roles",t.roles)};return this.backendService.makeRequest("POST","check_auth").then(function(r){var o=r.data;return e(o),t.checkAuthTimeout&&clearTimeout(t.checkAuthTimeout),o.auth&&(a.a.isConnected()||t.connectComet(),t.checkAuthTimeout=setTimeout(function(){t.checkAuth()},t.reloadAuthStateInterval)),o}).catch(function(){var t={auth:!1,user:null,isTemporaryPassword:!1,roles:[]};return e(t),t})},t.prototype.login=function(t,e){return this.backendService.makeRequest("POST","login/check",{_username:t,_password:e},!1).then(function(t){return t.data})},t.prototype.logout=function(){var t=this;return this.backendService.makeRequest("POST","logout").then(function(){return i.a.commit("isAuth",!1),i.a.commit("userData",null),i.a.commit("isTemporaryPassword",!1),i.a.commit("roles",[]),s.a.commit("clearActivatedList"),s.a.commit("clearActualList"),t.disconnectComet(),t.checkAuthTimeout&&clearTimeout(t.checkAuthTimeout),!0}).catch(function(){return!1})},t.prototype.rememberPassword=function(t){return this.backendService.makeRequest("POST","remember_password/remember",{remember_password:{email:t}}).then(function(t){return t.data})},t.prototype.restorePassword=function(t,e,r){return this.backendService.makeRequest("POST","change_password/"+t+"/"+e,{change_password:{password:{first:r,second:r}}}).then(function(t){if(404==t.status){return{success:!1,valid:!1,validationErrors:{notFound:"Неверный код подтверждения"},firstError:"Неверный код подтверждения",submitted:!0}}return t.data})},t.prototype.hasRole=function(t){var e=i.a.state.roles;return!(!e||-1==e.indexOf(t))},t.prototype.notifications=function(){return this.backendService.makeRequest("GET","notifications").then(function(t){return t.data.list},function(){return[]})},t.prototype.readAllNotifications=function(){return this.backendService.makeRequest("POST","notifications/read-all").then(function(){return!0},function(){return!1})},t}(),u=new c(o.a,n.a.reloadAuthStateInterval)},function(t,e,r){"use strict";r.d(e,"a",function(){return a});var o=r(7),n=r(13),i=r(9),a=(r.n(i),new o.a.Store({state:{list:[]},mutations:{addTickets:function(t,e){t.list=t.list.concat(e)},addTicket:function(t,e){t.list.push(e)},updateTicket:function(t,e){for(var r in t.list)e.id&&t.list[r].id==e.id&&(t.list[r]=e)},removeTicket:function(t,e){for(var r in t.list)e&&t.list[r].id==e&&t.list.splice(parseInt(r),1)},sortList:function(t){t.list=t.list.sort(function(t,e){if("closed"==t.currentStatus&&t.currentStatus!=e.currentStatus)return 1;if("closed"==e.currentStatus&&e.currentStatus!=t.currentStatus)return-1;var r=i(t.updatedAt),o=i(e.updatedAt);return r.isBefore(o)?-1:o.isBefore(r)?1:0})},clear:function(t){t.list=[]}},actions:{fetchList:function(t,e,r){return void 0===e&&(e=null),void 0===r&&(r=!0),new Promise(function(o,i){if(t.state.list.length>0)return o();var a=1,s=0,c=function(){n.a.list(e,r,a).then(function(e){t.commit("addTickets",e.list),a++,s+=e.list.length,e.totalCount>s?c():(t.commit("sortList"),o())}).catch(function(){return i()})};c()})},updateTicket:function(t,e){return new Promise(function(r){t.commit("updateTicket",e),r()})},addTicket:function(t,e){return new Promise(function(r){t.commit("addTicket",e),t.commit("sortList"),r()})},clear:function(t){return new Promise(function(e){t.commit("clear"),e()})}}}))},function(t,e){t.exports=function(t,e){var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}},function(t,e){e.encode=function(t){var e="";for(var r in t)t.hasOwnProperty(r)&&(e.length&&(e+="&"),e+=encodeURIComponent(r)+"="+encodeURIComponent(t[r]));return e},e.decode=function(t){for(var e={},r=t.split("&"),o=0,n=r.length;o<n;o++){var i=r[o].split("=");e[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return e}},function(t,e,r){"use strict";r.d(e,"a",function(){return i});var o=r(12),n=function(){function t(t){this.backendService=t}return t.prototype.actualList=function(){return this.backendService.makeRequest("GET","customer/service").then(function(t){return t.data})},t.prototype.activatedList=function(){return this.backendService.makeRequest("GET","customer/service/activated").then(function(t){return t.data})},t.prototype.activate=function(t,e){return this.backendService.makeRequest("POST","customer/service/"+t.id+"/activate",e?{tariff:e.id}:null).then(function(t){return t.data})},t.prototype.deactivate=function(t){return this.backendService.makeRequest("POST","customer/service/"+t.id+"/deactivate").then(function(t){return t.data})},t.prototype.managerList=function(){return this.backendService.makeRequest("GET","manager/service").then(function(t){return t.data})},t.prototype.managerDetails=function(t){return this.backendService.makeRequest("GET","manager/service/"+t).then(function(t){return t.data.service})},t.prototype.create=function(t){return this.backendService.makeRequest("POST","manager/service",{service:t}).then(function(t){return t.data})},t.prototype.update=function(t,e){return this.backendService.makeRequest("POST","manager/service/"+t,{service:e}).then(function(t){return t.data})},t.prototype.remove=function(t){return this.backendService.makeRequest("DELETE","manager/service/"+t).then(function(t){return t.data})},t}(),i=new n(o.a)},function(t,e,r){"use strict";r.d(e,"a",function(){return i});var o=r(7),n=r(30),i=new o.a.Store({state:{list:[],alreadyFetched:!1},mutations:{addCustomers:function(t,e){t.list=t.list.concat(e)},addCustomer:function(t,e){t.list.push(e)},updateCustomer:function(t,e){for(var r in t.list)e.id&&t.list[r].id==e.id&&(t.list[r]=e)},removeCustomer:function(t,e){for(var r in t.list)e&&t.list[r].id==e&&t.list.splice(parseInt(r),1)},clear:function(t){t.alreadyFetched=!1,t.list=[]}},actions:{fetchList:function(t){return new Promise(function(e,r){if(t.state.list.length>0||t.state.alreadyFetched)return e();t.state.alreadyFetched=!0;var o=1,i=0,a=function(){n.a.list(o).then(function(r){t.commit("addCustomers",r.list),o++,i+=r.list.length,r.totalCount>i?a():e()}).catch(function(){return e()})};a()})},getCustomer:function(t,e){return new Promise(function(r,o){t.dispatch("fetchList").then(function(){for(var n=0,i=t.state.list;n<i.length;n++){var a=i[n];if(a.id==e)return void r(a)}o()}).catch(o)})},updateCustomer:function(t,e){return new Promise(function(r){t.commit("updateCustomer",e),r()})},removeCustomer:function(t,e){return new Promise(function(r){t.commit("removeCustomer",e),r()})},addCustomer:function(t,e){return new Promise(function(r){t.commit("addCustomer",e),r()})},clear:function(t){return new Promise(function(e){t.commit("clear"),e()})}}})},function(t,e,r){function o(t){this.path=t.path,this.hostname=t.hostname,this.port=t.port,this.secure=t.secure,this.query=t.query,this.timestampParam=t.timestampParam,this.timestampRequests=t.timestampRequests,this.readyState="",this.agent=t.agent||!1,this.socket=t.socket,this.enablesXDR=t.enablesXDR,this.pfx=t.pfx,this.key=t.key,this.passphrase=t.passphrase,this.cert=t.cert,this.ca=t.ca,this.ciphers=t.ciphers,this.rejectUnauthorized=t.rejectUnauthorized,this.forceNode=t.forceNode,this.extraHeaders=t.extraHeaders,this.localAddress=t.localAddress}var n=r(15),i=r(14);t.exports=o,i(o.prototype),o.prototype.onError=function(t,e){var r=new Error(t);return r.type="TransportError",r.description=e,this.emit("error",r),this},o.prototype.open=function(){return"closed"!==this.readyState&&""!==this.readyState||(this.readyState="opening",this.doOpen()),this},o.prototype.close=function(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this},o.prototype.send=function(t){if("open"!==this.readyState)throw new Error("Transport not open");this.write(t)},o.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},o.prototype.onData=function(t){var e=n.decodePacket(t,this.socket.binaryType);this.onPacket(e)},o.prototype.onPacket=function(t){this.emit("packet",t)},o.prototype.onClose=function(){this.readyState="closed",this.emit("close")}},function(t,e,r){(function(e){var o=r(86);t.exports=function(t){var r=t.xdomain,n=t.xscheme,i=t.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!r||o))return new XMLHttpRequest}catch(t){}try{if("undefined"!=typeof XDomainRequest&&!n&&i)return new XDomainRequest}catch(t){}if(!r)try{return new(e[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(t){}}}).call(e,r(4))},,function(t,e,r){function o(){}function n(t){var r=""+t.type;return e.BINARY_EVENT!==t.type&&e.BINARY_ACK!==t.type||(r+=t.attachments+"-"),t.nsp&&"/"!==t.nsp&&(r+=t.nsp+","),null!=t.id&&(r+=t.id),null!=t.data&&(r+=JSON.stringify(t.data)),p("encoded %j as %s",t,r),r}function i(t,e){function r(t){var r=h.deconstructPacket(t),o=n(r.packet),i=r.buffers;i.unshift(o),e(i)}h.removeBlobs(t,r)}function a(){this.reconstructor=null}function s(t){var r=0,o={type:Number(t.charAt(0))};if(null==e.types[o.type])return l();if(e.BINARY_EVENT===o.type||e.BINARY_ACK===o.type){for(var n="";"-"!==t.charAt(++r)&&(n+=t.charAt(r),r!=t.length););if(n!=Number(n)||"-"!==t.charAt(r))throw new Error("Illegal attachments");o.attachments=Number(n)}if("/"===t.charAt(r+1))for(o.nsp="";++r;){var i=t.charAt(r);if(","===i)break;if(o.nsp+=i,r===t.length)break}else o.nsp="/";var a=t.charAt(r+1);if(""!==a&&Number(a)==a){for(o.id="";++r;){var i=t.charAt(r);if(null==i||Number(i)!=i){--r;break}if(o.id+=t.charAt(r),r===t.length)break}o.id=Number(o.id)}return t.charAt(++r)&&(o=c(o,t.substr(r))),p("decoded %s as %j",t,o),o}function c(t,e){try{t.data=JSON.parse(e)}catch(t){return l()}return t}function u(t){this.reconPack=t,this.buffers=[]}function l(){return{type:e.ERROR,data:"parser error"}}var p=r(8)("socket.io-parser"),f=r(14),d=r(41),h=r(134),m=r(47);e.protocol=4,e.types=["CONNECT","DISCONNECT","EVENT","ACK","ERROR","BINARY_EVENT","BINARY_ACK"],e.CONNECT=0,e.DISCONNECT=1,e.EVENT=2,e.ACK=3,e.ERROR=4,e.BINARY_EVENT=5,e.BINARY_ACK=6,e.Encoder=o,e.Decoder=a,o.prototype.encode=function(t,r){if(t.type!==e.EVENT&&t.type!==e.ACK||!d(t.data)||(t.type=t.type===e.EVENT?e.BINARY_EVENT:e.BINARY_ACK),p("encoding packet %j",t),e.BINARY_EVENT===t.type||e.BINARY_ACK===t.type)i(t,r);else{r([n(t)])}},f(a.prototype),a.prototype.add=function(t){var r;if("string"==typeof t)r=s(t),e.BINARY_EVENT===r.type||e.BINARY_ACK===r.type?(this.reconstructor=new u(r),0===this.reconstructor.reconPack.attachments&&this.emit("decoded",r)):this.emit("decoded",r);else{if(!m(t)&&!t.base64)throw new Error("Unknown type: "+t);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");(r=this.reconstructor.takeBinaryData(t))&&(this.reconstructor=null,this.emit("decoded",r))}},a.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()},u.prototype.takeBinaryData=function(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){var e=h.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null},u.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]}},function(t,e,r){"use strict";r.d(e,"a",function(){return p});var o=r(0),n=r.n(o),i=r(1),a=r.n(i),s=r(2),c=(r.n(s),r(9)),u=(r.n(c),this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function o(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}()),l=this&&this.__decorate||function(t,e,r,o){var n,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,o);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(i<3?n(a):i>3?n(e,r,a):n(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a},p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.history=[],e}return u(e,t),e.prototype.onChangeHistory=function(t){this.fetchHistory(t)},e.prototype.fetchHistory=function(t){this.history=[];for(var e=0,r=t.messages;e<r.length;e++){var o=r[e];this.history.push({createdAt:o.createdAt,type:"message",item:o})}for(var n=0,i=t.history;n<i.length;n++){var o=i[n];this.history.push({createdAt:o.createdAt,type:"status",item:o})}this.history=this.history.sort(function(t,e){var r=c(t.createdAt),o=c(e.createdAt);return"status"==e.type&&"new"==e.item.status?1:"status"==t.type&&"new"==t.item.status?-1:o.isBefore(r)?1:o.isAfter(r)?-1:o.isSame(r)&&"message"==t.type?1:o.isSame(r)&&"status"==t.type?-1:0})},e}(n.a);l([r.i(s.Prop)(Object)],p.prototype,"ticket",void 0),l([r.i(s.Prop)(Object)],p.prototype,"details",void 0),l([r.i(s.Model)()],p.prototype,"history",void 0),l([r.i(s.Watch)("details",{immediate:!0})],p.prototype,"onChangeHistory",null),p=l([a()({template:r(100)})],p)},function(t,e,r){"use strict";r.d(e,"a",function(){return f});var o=r(0),n=(r.n(o),r(1)),i=r.n(n),a=r(2),s=(r.n(a),r(5)),c=r(13),u=r(11),l=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function o(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),p=this&&this.__decorate||function(t,e,r,o){var n,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,o);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(i<3?n(a):i>3?n(e,r,a):n(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a},f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.text="",e.closeTicket=!1,e.errorMessage="",e.awaitForSubmit=!1,e}return l(e,t),e.prototype.submit=function(){var t=this;this.awaitForSubmit||(this.errorMessage="",this.$validator.validateAll().then(function(){s.a.commit("showPageLoader"),t.awaitForSubmit=!0,c.a.createMessage(t.ticket.id,{text:t.text,closeTicket:t.closeTicket}).then(function(e){s.a.commit("hidePageLoader"),t.awaitForSubmit=!1,e.success?(t.errorMessage="",t.text="",u.a.dispatch("flash",{type:"success",text:"Сообщение было отправлено"}),t.$emit("ticket-changed",e)):t.errorMessage=e.firstError},function(){s.a.commit("hidePageLoader"),t.awaitForSubmit=!1})},function(){}))},e.prototype.close=function(){var t=this;this.awaitForSubmit||(this.awaitForSubmit=!0,this.errorMessage="",s.a.commit("showPageLoader"),c.a.closeTicket(this.ticket.id).then(function(e){s.a.commit("hidePageLoader"),t.awaitForSubmit=!1,e.success?t.text="":t.errorMessage="Не удалось закрыть заявку",t.$emit("ticket-changed",e)},function(){s.a.commit("hidePageLoader"),t.awaitForSubmit=!1}))},e}(o);p([r.i(a.Model)()],f.prototype,"text",void 0),p([r.i(a.Model)()],f.prototype,"closeTicket",void 0),p([r.i(a.Model)()],f.prototype,"errorMessage",void 0),p([r.i(a.Prop)()],f.prototype,"ticket",void 0),p([r.i(a.Prop)()],f.prototype,"category",void 0),f=p([i()({template:r(101)})],f)},function(t,e,r){"use strict";r.d(e,"a",function(){return m});var o=r(0),n=r.n(o),i=r(1),a=r.n(i),s=r(2),c=(r.n(s),r(10)),u=r(18),l=r(6),p=r(16),f=r(157),d=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function o(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),h=this&&this.__decorate||function(t,e,r,o){var n,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,o);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(i<3?n(a):i>3?n(e,r,a):n(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a},m=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return d(e,t),e.prototype.fetchTicketList=function(t){var e=this,r=function(t){e.$store.dispatch("clear").then(function(){e.$store.dispatch("fetchList",t).then(function(){},function(){})},function(){})};t?c.a.dispatch("checkCategory",t).then(function(){r(t)},function(){r(null)}):r(null)},e.prototype.onChangeCategory=function(t){t&&t.id?this.fetchTicketList(t.id):this.fetchTicketList(null)},Object.defineProperty(e.prototype,"list",{get:function(){return this.$store.state.list},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"userType",{get:function(){return l.a.state.userData.userType},enumerable:!0,configurable:!0}),e.prototype.beforeDestroy=function(){this.$store.commit("clear")},e.prototype.openTicket=function(t){p.a.push(r.i(f.a)(t,this.service))},e}(n.a);h([r.i(s.Prop)(Object)],m.prototype,"category",void 0),h([r.i(s.Prop)(Object)],m.prototype,"service",void 0),h([r.i(s.Watch)("category",{immediate:!0})],m.prototype,"onChangeCategory",null),m=h([a()({template:r(102),store:u.a})],m)},function(t,e,r){"use strict";r.d(e,"a",function(){return i});var o=r(12),n=function(){function t(t){this.backendService=t}return t.prototype.list=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=150),this.backendService.makeRequest("GET","manager/customer",{pageNum:t,pageSize:e}).then(function(t){return t.data})},t.prototype.update=function(t,e){return this.backendService.makeRequest("POST","manager/customer/"+t,{customer:{name:e.name,currentAgreement:e.currentAgreement}}).then(function(t){return t.data})},t.prototype.create=function(t){return this.backendService.makeRequest("POST","manager/customer",{customer:t}).then(function(t){return t.data})},t.prototype.remove=function(t){return this.backendService.makeRequest("DELETE","manager/customer/"+t).then(function(t){return t.data})},t}(),i=new n(o.a)},function(t,e,r){"use strict";r.d(e,"a",function(){return i});var o=r(12),n=function(){function t(t){this.backendService=t}return t.prototype.list=function(){return this.backendService.makeRequest("GET","manager/room").then(function(t){return t.data.list})},t.prototype.create=function(t){return this.backendService.makeRequest("POST","manager/room",{room:t}).then(function(t){return t.data})},t.prototype.details=function(t){return this.backendService.makeRequest("GET","manager/room/"+t).then(function(t){return t.data})},t.prototype.update=function(t,e){return this.backendService.makeRequest("POST","manager/room/"+t,{room:e}).then(function(t){return t.data})},t.prototype.remove=function(t){return this.backendService.makeRequest("DELETE","manager/room/"+t).then(function(t){return t.data})},t}(),i=new n(o.a)},function(t,e,r){"use strict";r.d(e,"a",function(){return i});var o=r(12),n=function(){function t(t){this.backendService=t}return t.prototype.list=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=150),this.backendService.makeRequest("GET","manager/user",{pageNum:t,pageSize:e}).then(function(t){return t.data})},t.prototype.create=function(t){return this.backendService.makeRequest("POST","manager/user",{user:t}).then(function(t){return t.data})},t.prototype.update=function(t,e){return this.backendService.makeRequest("POST","manager/user/"+t,{user:e}).then(function(t){return t.data})},t.prototype.remove=function(t){return this.backendService.makeRequest("DELETE","manager/user/"+t).then(function(t){return t.data})},t.prototype.details=function(t){return this.backendService.makeRequest("GET","manager/user/"+t).then(function(t){return t.data})},t.prototype.roles=function(){return this.backendService.makeRequest("GET","manager/user/roles").then(function(t){return t.data})},t}(),i=new n(o.a)},function(t,e,r){"use strict";r.d(e,"a",function(){return i});var o=r(7),n=r(21),i=new o.a.Store({state:{activatedList:[],actualList:[]},mutations:{actualList:function(t,e){t.actualList=e},clearActualList:function(t){t.actualList.splice(0,t.actualList.length)},activatedList:function(t,e){t.activatedList=e},addActivatedItem:function(t,e){t.activatedList.push(e)},removeActivatedItem:function(t,e){for(var r=0,o=t.activatedList;r<o.length;r++){var n=o[r];if(n.service.id==e.id){var i=t.activatedList.indexOf(n);i>-1&&t.activatedList.splice(i,1)}}},clearActivatedList:function(t){t.activatedList.splice(0,t.activatedList.length)}},actions:{fetchActivatedList:function(t){return new Promise(function(e){n.a.activatedList().then(function(r){t.commit("activatedList",r.list),e()},function(){return e()})})},fetchActualList:function(t){return new Promise(function(e){n.a.actualList().then(function(r){t.commit("actualList",r.list),e()},function(){return e()})})},getServiceById:function(t,e){return new Promise(function(r,o){for(var n=0,i=t.state.actualList;n<i.length;n++){var a=i[n];if(a.id==e)return void r(a)}o()})}}})},function(t,e,r){"use strict";r.d(e,"a",function(){return o});var o={backendApiUrl:"/api/",reloadAuthStateInterval:12e4,comet:{url:"http://"+location.hostname+":3001/"}}},,,function(t,e){var r=[].slice;t.exports=function(t,e){if("string"==typeof e&&(e=t[e]),"function"!=typeof e)throw new Error("bind() requires a function");var o=r.call(arguments,2);return function(){return e.apply(t,o.concat(r.call(arguments)))}}},,function(t,e,r){(function(t){function o(e){var r=!1,o=!1,s=!1!==e.jsonp;if(t.location){var c="https:"===location.protocol,u=location.port;u||(u=c?443:80),r=e.hostname!==location.hostname||u!==e.port,o=e.secure!==c}if(e.xdomain=r,e.xscheme=o,"open"in new n(e)&&!e.forceJSONP)return new i(e);if(!s)throw new Error("JSONP disabled");return new a(e)}var n=r(24),i=r(70),a=r(69),s=r(71);e.polling=o,e.websocket=s}).call(e,r(4))},function(t,e,r){function o(t){var e=t&&t.forceBase64;l&&!e||(this.supportsBinary=!1),n.call(this,t)}var n=r(23),i=r(20),a=r(15),s=r(19),c=r(55),u=r(8)("engine.io-client:polling");t.exports=o;var l=function(){return null!=new(r(24))({xdomain:!1}).responseType}();s(o,n),o.prototype.name="polling",o.prototype.doOpen=function(){this.poll()},o.prototype.pause=function(t){function e(){u("paused"),r.readyState="paused",t()}var r=this;if(this.readyState="pausing",this.polling||!this.writable){var o=0;this.polling&&(u("we are currently polling - waiting to pause"),o++,this.once("pollComplete",function(){u("pre-pause polling complete"),--o||e()})),this.writable||(u("we are currently writing - waiting to pause"),o++,this.once("drain",function(){u("pre-pause writing complete"),--o||e()}))}else e()},o.prototype.poll=function(){u("polling"),this.polling=!0,this.doPoll(),this.emit("poll")},o.prototype.onData=function(t){var e=this;u("polling got data %s",t);var r=function(t,r,o){if("opening"===e.readyState&&e.onOpen(),"close"===t.type)return e.onClose(),!1;e.onPacket(t)};a.decodePayload(t,this.socket.binaryType,r),"closed"!==this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"===this.readyState?this.poll():u('ignoring poll - transport state "%s"',this.readyState))},o.prototype.doClose=function(){function t(){u("writing close packet"),e.write([{type:"close"}])}var e=this;"open"===this.readyState?(u("transport open - closing"),t()):(u("transport not open - deferring close"),this.once("open",t))},o.prototype.write=function(t){var e=this;this.writable=!1;var r=function(){e.writable=!0,e.emit("drain")};a.encodePayload(t,this.supportsBinary,function(t){e.doWrite(t,r)})},o.prototype.uri=function(){var t=this.query||{},e=this.secure?"https":"http",r="";return!1!==this.timestampRequests&&(t[this.timestampParam]=c()),this.supportsBinary||t.sid||(t.b64=1),t=i.encode(t),this.port&&("https"===e&&443!==Number(this.port)||"http"===e&&80!==Number(this.port))&&(r=":"+this.port),t.length&&(t="?"+t),e+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+r+this.path+t}},function(t,e,r){(function(e){function o(t){if(!t||"object"!=typeof t)return!1;if(n(t)){for(var r=0,i=t.length;r<i;r++)if(o(t[r]))return!0;return!1}if("function"==typeof e.Buffer&&e.Buffer.isBuffer&&e.Buffer.isBuffer(t)||"function"==typeof e.ArrayBuffer&&t instanceof ArrayBuffer||a&&t instanceof Blob||s&&t instanceof File)return!0;if(t.toJSON&&"function"==typeof t.toJSON&&1===arguments.length)return o(t.toJSON(),!0);for(var c in t)if(Object.prototype.hasOwnProperty.call(t,c)&&o(t[c]))return!0;return!1}var n=r(85),i=Object.prototype.toString,a="function"==typeof e.Blob||"[object BlobConstructor]"===i.call(e.Blob),s="function"==typeof e.File||"[object FileConstructor]"===i.call(e.File);t.exports=o}).call(e,r(4))},function(t,e){var r=[].indexOf;t.exports=function(t,e){if(r)return t.indexOf(e);for(var o=0;o<t.length;++o)if(t[o]===e)return o;return-1}},function(t,e){var r=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,o=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];t.exports=function(t){var e=t,n=t.indexOf("["),i=t.indexOf("]");-1!=n&&-1!=i&&(t=t.substring(0,n)+t.substring(n,i).replace(/:/g,";")+t.substring(i,t.length));for(var a=r.exec(t||""),s={},c=14;c--;)s[o[c]]=a[c]||"";return-1!=n&&-1!=i&&(s.source=e,s.host=s.host.substring(1,s.host.length-1).replace(/;/g,":"),s.authority=s.authority.replace("[","").replace("]","").replace(/;/g,":"),s.ipv6uri=!0),s}},function(t,e,r){function o(t,e){if(!(this instanceof o))return new o(t,e);t&&"object"==typeof t&&(e=t,t=void 0),e=e||{},e.path=e.path||"/socket.io",this.nsps={},this.subs=[],this.opts=e,this.reconnection(!1!==e.reconnection),this.reconnectionAttempts(e.reconnectionAttempts||1/0),this.reconnectionDelay(e.reconnectionDelay||1e3),this.reconnectionDelayMax(e.reconnectionDelayMax||5e3),this.randomizationFactor(e.randomizationFactor||.5),this.backoff=new f({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==e.timeout?2e4:e.timeout),this.readyState="closed",this.uri=t,this.connecting=[],this.lastPing=null,this.encoding=!1,this.packetBuffer=[];var r=e.parser||s;this.encoder=new r.Encoder,this.decoder=new r.Decoder,this.autoConnect=!1!==e.autoConnect,this.autoConnect&&this.open()}var n=r(66),i=r(46),a=r(14),s=r(26),c=r(45),u=r(37),l=r(8)("socket.io-client:manager"),p=r(42),f=r(60),d=Object.prototype.hasOwnProperty;t.exports=o,o.prototype.emitAll=function(){this.emit.apply(this,arguments);for(var t in this.nsps)d.call(this.nsps,t)&&this.nsps[t].emit.apply(this.nsps[t],arguments)},o.prototype.updateSocketIds=function(){for(var t in this.nsps)d.call(this.nsps,t)&&(this.nsps[t].id=this.generateId(t))},o.prototype.generateId=function(t){return("/"===t?"":t+"#")+this.engine.id},a(o.prototype),o.prototype.reconnection=function(t){return arguments.length?(this._reconnection=!!t,this):this._reconnection},o.prototype.reconnectionAttempts=function(t){return arguments.length?(this._reconnectionAttempts=t,this):this._reconnectionAttempts},o.prototype.reconnectionDelay=function(t){return arguments.length?(this._reconnectionDelay=t,this.backoff&&this.backoff.setMin(t),this):this._reconnectionDelay},o.prototype.randomizationFactor=function(t){return arguments.length?(this._randomizationFactor=t,this.backoff&&this.backoff.setJitter(t),this):this._randomizationFactor},o.prototype.reconnectionDelayMax=function(t){return arguments.length?(this._reconnectionDelayMax=t,this.backoff&&this.backoff.setMax(t),this):this._reconnectionDelayMax},o.prototype.timeout=function(t){return arguments.length?(this._timeout=t,this):this._timeout},o.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()},o.prototype.open=o.prototype.connect=function(t,e){if(l("readyState %s",this.readyState),~this.readyState.indexOf("open"))return this;l("opening %s",this.uri),this.engine=n(this.uri,this.opts);var r=this.engine,o=this;this.readyState="opening",this.skipReconnect=!1;var i=c(r,"open",function(){o.onopen(),t&&t()}),a=c(r,"error",function(e){if(l("connect_error"),o.cleanup(),o.readyState="closed",o.emitAll("connect_error",e),t){var r=new Error("Connection error");r.data=e,t(r)}else o.maybeReconnectOnOpen()});if(!1!==this._timeout){var s=this._timeout;l("connect attempt will timeout after %d",s);var u=setTimeout(function(){l("connect attempt timed out after %d",s),i.destroy(),r.close(),r.emit("error","timeout"),o.emitAll("connect_timeout",s)},s);this.subs.push({destroy:function(){clearTimeout(u)}})}return this.subs.push(i),this.subs.push(a),this},o.prototype.onopen=function(){l("open"),this.cleanup(),this.readyState="open",this.emit("open");var t=this.engine;this.subs.push(c(t,"data",u(this,"ondata"))),this.subs.push(c(t,"ping",u(this,"onping"))),this.subs.push(c(t,"pong",u(this,"onpong"))),this.subs.push(c(t,"error",u(this,"onerror"))),this.subs.push(c(t,"close",u(this,"onclose"))),this.subs.push(c(this.decoder,"decoded",u(this,"ondecoded")))},o.prototype.onping=function(){this.lastPing=new Date,this.emitAll("ping")},o.prototype.onpong=function(){this.emitAll("pong",new Date-this.lastPing)},o.prototype.ondata=function(t){this.decoder.add(t)},o.prototype.ondecoded=function(t){this.emit("packet",t)},o.prototype.onerror=function(t){l("error",t),this.emitAll("error",t)},o.prototype.socket=function(t,e){function r(){~p(n.connecting,o)||n.connecting.push(o)}var o=this.nsps[t];if(!o){o=new i(this,t,e),this.nsps[t]=o;var n=this;o.on("connecting",r),o.on("connect",function(){o.id=n.generateId(t)}),this.autoConnect&&r()}return o},o.prototype.destroy=function(t){var e=p(this.connecting,t);~e&&this.connecting.splice(e,1),this.connecting.length||this.close()},o.prototype.packet=function(t){l("writing packet %j",t);var e=this;t.query&&0===t.type&&(t.nsp+="?"+t.query),e.encoding?e.packetBuffer.push(t):(e.encoding=!0,this.encoder.encode(t,function(r){for(var o=0;o<r.length;o++)e.engine.write(r[o],t.options);e.encoding=!1,e.processPacketQueue()}))},o.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var t=this.packetBuffer.shift();this.packet(t)}},o.prototype.cleanup=function(){l("cleanup");for(var t=this.subs.length,e=0;e<t;e++){this.subs.shift().destroy()}this.packetBuffer=[],this.encoding=!1,this.lastPing=null,this.decoder.destroy()},o.prototype.close=o.prototype.disconnect=function(){l("disconnect"),this.skipReconnect=!0,this.reconnecting=!1,"opening"===this.readyState&&this.cleanup(),this.backoff.reset(),this.readyState="closed",this.engine&&this.engine.close()},o.prototype.onclose=function(t){l("onclose"),this.cleanup(),this.backoff.reset(),this.readyState="closed",this.emit("close",t),this._reconnection&&!this.skipReconnect&&this.reconnect()},o.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var t=this;if(this.backoff.attempts>=this._reconnectionAttempts)l("reconnect failed"),this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var e=this.backoff.duration();l("will wait %dms before reconnect attempt",e),this.reconnecting=!0;var r=setTimeout(function(){t.skipReconnect||(l("attempting reconnect"),t.emitAll("reconnect_attempt",t.backoff.attempts),t.emitAll("reconnecting",t.backoff.attempts),t.skipReconnect||t.open(function(e){e?(l("reconnect attempt error"),t.reconnecting=!1,t.reconnect(),t.emitAll("reconnect_error",e.data)):(l("reconnect success"),t.onreconnect())}))},e);this.subs.push({destroy:function(){clearTimeout(r)}})}},o.prototype.onreconnect=function(){var t=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll("reconnect",t)}},function(t,e){function r(t,e,r){return t.on(e,r),{destroy:function(){t.removeListener(e,r)}}}t.exports=r},function(t,e,r){function o(t,e,r){this.io=t,this.nsp=e,this.json=this,this.ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,r&&r.query&&(this.query=r.query),this.io.autoConnect&&this.open()}var n=r(26),i=r(14),a=r(137),s=r(45),c=r(37),u=r(8)("socket.io-client:socket"),l=r(20);t.exports=o;var p={connect:1,connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1},f=i.prototype.emit;i(o.prototype),o.prototype.subEvents=function(){if(!this.subs){var t=this.io;this.subs=[s(t,"open",c(this,"onopen")),s(t,"packet",c(this,"onpacket")),s(t,"close",c(this,"onclose"))]}},o.prototype.open=o.prototype.connect=function(){return this.connected?this:(this.subEvents(),this.io.open(),"open"===this.io.readyState&&this.onopen(),this.emit("connecting"),this)},o.prototype.send=function(){var t=a(arguments);return t.unshift("message"),this.emit.apply(this,t),this},o.prototype.emit=function(t){if(p.hasOwnProperty(t))return f.apply(this,arguments),this;var e=a(arguments),r={type:n.EVENT,data:e};return r.options={},r.options.compress=!this.flags||!1!==this.flags.compress,"function"==typeof e[e.length-1]&&(u("emitting packet with ack id %d",this.ids),this.acks[this.ids]=e.pop(),r.id=this.ids++),this.connected?this.packet(r):this.sendBuffer.push(r),delete this.flags,this},o.prototype.packet=function(t){t.nsp=this.nsp,this.io.packet(t)},o.prototype.onopen=function(){if(u("transport is open - connecting"),"/"!==this.nsp)if(this.query){var t="object"==typeof this.query?l.encode(this.query):this.query;u("sending connect packet with query %s",t),this.packet({type:n.CONNECT,query:t})}else this.packet({type:n.CONNECT})},o.prototype.onclose=function(t){u("close (%s)",t),this.connected=!1,this.disconnected=!0,delete this.id,this.emit("disconnect",t)},o.prototype.onpacket=function(t){if(t.nsp===this.nsp)switch(t.type){case n.CONNECT:this.onconnect();break;case n.EVENT:case n.BINARY_EVENT:this.onevent(t);break;case n.ACK:case n.BINARY_ACK:this.onack(t);break;case n.DISCONNECT:this.ondisconnect();break;case n.ERROR:this.emit("error",t.data)}},o.prototype.onevent=function(t){var e=t.data||[];u("emitting event %j",e),null!=t.id&&(u("attaching ack callback to event"),e.push(this.ack(t.id))),this.connected?f.apply(this,e):this.receiveBuffer.push(e)},o.prototype.ack=function(t){var e=this,r=!1;return function(){if(!r){r=!0;var o=a(arguments);u("sending ack %j",o),e.packet({type:n.ACK,id:t,data:o})}}},o.prototype.onack=function(t){var e=this.acks[t.id];"function"==typeof e?(u("calling ack %s with %j",t.id,t.data),e.apply(this,t.data),delete this.acks[t.id]):u("bad ack %s",t.id)},o.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emit("connect"),this.emitBuffered()},o.prototype.emitBuffered=function(){var t;for(t=0;t<this.receiveBuffer.length;t++)f.apply(this,this.receiveBuffer[t]);for(this.receiveBuffer=[],t=0;t<this.sendBuffer.length;t++)this.packet(this.sendBuffer[t]);this.sendBuffer=[]},o.prototype.ondisconnect=function(){u("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")},o.prototype.destroy=function(){if(this.subs){for(var t=0;t<this.subs.length;t++)this.subs[t].destroy();this.subs=null}this.io.destroy(this)},o.prototype.close=o.prototype.disconnect=function(){return this.connected&&(u("performing disconnect (%s)",this.nsp),this.packet({type:n.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this},o.prototype.compress=function(t){return this.flags=this.flags||{},this.flags.compress=t,this}},function(t,e,r){(function(e){function r(t){return e.Buffer&&e.Buffer.isBuffer(t)||e.ArrayBuffer&&t instanceof ArrayBuffer}t.exports=r}).call(e,r(4))},function(t,e,r){"use strict";r.d(e,"a",function(){return o});var o={oLanguage:{sSearch:"Поиск",oPaginate:{sFirst:"Первая",sLast:"Последняя",sNext:"Следующая",sPrevious:"Предыдущая"},sEmptyTable:"Нет данных для отображения",sZeroRecords:"Нет данных для отображения",sInfo:"",sInfoEmpty:"0 записей найдено",sInfoFiltered:" - отфильтровано из _MAX_ записей",sInfoPostFix:"",sInfoThousands:" ",sLoadingRecords:"Загрузка..."},displayLength:50,lengthChange:!1}},function(t,e,r){"use strict";r.d(e,"a",function(){return d});var o=r(0),n=r.n(o),i=r(1),a=r.n(i),s=r(2),c=(r.n(s),r(5)),u=r(13),l=r(11),p=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function o(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),f=this&&this.__decorate||function(t,e,r,o){var n,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,o);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(i<3?n(a):i>3?n(e,r,a):n(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a},d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ticket={category:e.category?e.category.id:"",title:"",text:""},e.errorMessage="",e.awaitOfSubmit=!1,e}return p(e,t),e.prototype.onChangeCategory=function(t){this.ticket.category=t?t.id:""},e.prototype.cancel=function(){this.$emit("cancel")},e.prototype.submit=function(){var t=this;this.$validator.validateAll().then(function(){t.awaitOfSubmit||(t.awaitOfSubmit=!0,c.a.commit("showPageLoader"),u.a.createTicket(t.ticket).then(function(e){e.success?(l.a.dispatch("flash",{type:"success",text:"Заявка №"+e.ticket.number+" зарегистрирована в системе"}),t.$emit("saved",e.ticket)):t.errorMessage=e.firstError,t.awaitOfSubmit=!1,c.a.commit("hidePageLoader")},function(){t.awaitOfSubmit=!1,c.a.commit("hidePageLoader")}))},function(){})},e}(n.a);f([r.i(s.Prop)(Object)],d.prototype,"category",void 0),f([r.i(s.Model)()],d.prototype,"ticket",void 0),f([r.i(s.Model)()],d.prototype,"errorMessage",void 0),f([r.i(s.Model)()],d.prototype,"awaitOfSubmit",void 0),f([r.i(s.Watch)("category",{immediate:!0})],d.prototype,"onChangeCategory",null),d=f([a()({template:r(99)})],d)},function(t,e,r){"use strict";r.d(e,"a",function(){return i});var o=r(9),n=(r.n(o),function(){function t(){}return t.prototype.dayIsAvailable=function(t,e){var r=o(e),n=r.format("YYYY-MM-DD"),i=r.weekday(),a=t.schedule,s=t.holidays;return-1!==t.workWeekends.indexOf(n)||-1===s.indexOf(n)&&!(a[i]&&a[i][0]&&!a[i][0].avail)},t.prototype.getScheduleByDate=function(t,e){var r=o(e).weekday();if(t.schedule[r]&&t.schedule[r][0]&&!t.schedule[r][0].avail)return!1;if(t.schedule[r]&&t.schedule[r][0]){var n=t.schedule[r][0];return{from:n.from,to:n.to}}return{from:"00:00",to:"23:59"}},t.prototype.getScheduleBreak=function(t){return!(!t.scheduleBreak||!t.scheduleBreak[0])&&t.scheduleBreak[0]},t}()),i=new n},function(t,e,r){"use strict";r.d(e,"a",function(){return n});var o=r(7),n=new o.a.Store({state:{notification:null},mutations:{incomingCall:function(t,e){t.notification=e},removeIncomingCall:function(t){t.notification=null}}})},function(t,e,r){"use strict";r.d(e,"a",function(){return i});var o=r(7),n=r(32),i=new o.a.Store({state:{rolesLabels:{},rolesHierarchy:{},rolesByUserType:{}},mutations:{fetchRolesData:function(t,e){t.rolesHierarchy=e.hierarchy,t.rolesLabels=e.labels,t.rolesByUserType=e.roles}},actions:{fetchData:function(t){return new Promise(function(e,r){n.a.roles().then(function(r){t.commit("fetchRolesData",r),e()}).catch(function(){return r()})})}}})},,function(t,e,r){"use strict";function o(t,e){}function n(t,e){switch(typeof e){case"undefined":return;case"object":return e;case"function":return e(t);case"boolean":return e?t.params:void 0}}function i(t,e,r){void 0===e&&(e={});var o,n=r||a;try{o=n(t||"")}catch(t){o={}}for(var i in e){var s=e[i];o[i]=Array.isArray(s)?s.slice():s}return o}function a(t){var e={};return(t=t.trim().replace(/^(\?|#|&)/,""))?(t.split("&").forEach(function(t){var r=t.replace(/\+/g," ").split("="),o=Dt(r.shift()),n=r.length>0?Dt(r.join("=")):null;void 0===e[o]?e[o]=n:Array.isArray(e[o])?e[o].push(n):e[o]=[e[o],n]}),e):e}function s(t){var e=t?Object.keys(t).map(function(e){var r=t[e];if(void 0===r)return"";if(null===r)return Et(e);if(Array.isArray(r)){var o=[];return r.slice().forEach(function(t){void 0!==t&&(null===t?o.push(Et(e)):o.push(Et(e)+"="+Et(t)))}),o.join("&")}return Et(e)+"="+Et(r)}).filter(function(t){return t.length>0}).join("&"):null;return e?"?"+e:""}function c(t,e,r,o){var n=o&&o.options.stringifyQuery,i={name:e.name||t&&t.name,meta:t&&t.meta||{},path:e.path||"/",hash:e.hash||"",query:e.query||{},params:e.params||{},fullPath:l(e,n),matched:t?u(t):[]};return r&&(i.redirectedFrom=l(r,n)),Object.freeze(i)}function u(t){for(var e=[];t;)e.unshift(t),t=t.parent;return e}function l(t,e){var r=t.path,o=t.query;void 0===o&&(o={});var n=t.hash;void 0===n&&(n="");var i=e||s;return(r||"/")+i(o)+n}function p(t,e){return e===Bt?t===e:!!e&&(t.path&&e.path?t.path.replace(It,"")===e.path.replace(It,"")&&t.hash===e.hash&&f(t.query,e.query):!(!t.name||!e.name)&&(t.name===e.name&&t.hash===e.hash&&f(t.query,e.query)&&f(t.params,e.params)))}function f(t,e){void 0===t&&(t={}),void 0===e&&(e={});var r=Object.keys(t),o=Object.keys(e);return r.length===o.length&&r.every(function(r){return String(t[r])===String(e[r])})}function d(t,e){return 0===t.path.replace(It,"/").indexOf(e.path.replace(It,"/"))&&(!e.hash||t.hash===e.hash)&&h(t.query,e.query)}function h(t,e){for(var r in e)if(!(r in t))return!1;return!0}function m(t){if(!(t.metaKey||t.ctrlKey||t.shiftKey||t.defaultPrevented||void 0!==t.button&&0!==t.button)){if(t.currentTarget&&t.currentTarget.getAttribute){if(/\b_blank\b/i.test(t.currentTarget.getAttribute("target")))return}return t.preventDefault&&t.preventDefault(),!0}}function v(t){if(t)for(var e,r=0;r<t.length;r++){if(e=t[r],"a"===e.tag)return e;if(e.children&&(e=v(e.children)))return e}}function y(t){if(!y.installed){y.installed=!0,At=t,Object.defineProperty(t.prototype,"$router",{get:function(){return this.$root._router}}),Object.defineProperty(t.prototype,"$route",{get:function(){return this.$root._route}});var e=function(t){return void 0!==t},r=function(t,r){var o=t.$options._parentVnode;e(o)&&e(o=o.data)&&e(o=o.registerRouteInstance)&&o(t,r)};t.mixin({beforeCreate:function(){e(this.$options.router)&&(this._router=this.$options.router,this._router.init(this),t.util.defineReactive(this,"_route",this._router.history.current)),r(this,this)},destroyed:function(){r(this)}}),t.component("router-view",jt),t.component("router-link",qt);var o=t.config.optionMergeStrategies;o.beforeRouteEnter=o.beforeRouteLeave=o.created}}function g(t,e,r){var o=t.charAt(0);if("/"===o)return t;if("?"===o||"#"===o)return e+t;var n=e.split("/");r&&n[n.length-1]||n.pop();for(var i=t.replace(/^\//,"").split("/"),a=0;a<i.length;a++){var s=i[a];".."===s?n.pop():"."!==s&&n.push(s)}return""!==n[0]&&n.unshift(""),n.join("/")}function b(t){var e="",r="",o=t.indexOf("#");o>=0&&(e=t.slice(o),t=t.slice(0,o));var n=t.indexOf("?");return n>=0&&(r=t.slice(n+1),t=t.slice(0,n)),{path:t,query:r,hash:e}}function w(t){return t.replace(/\/\//g,"/")}function k(t,e){for(var r,o=[],n=0,i=0,a="",s=e&&e.delimiter||"/";null!=(r=Xt.exec(t));){var c=r[0],u=r[1],l=r.index;if(a+=t.slice(i,l),i=l+c.length,u)a+=u[1];else{var p=t[i],f=r[2],d=r[3],h=r[4],m=r[5],v=r[6],y=r[7];a&&(o.push(a),a="");var g=null!=f&&null!=p&&p!==f,b="+"===v||"*"===v,w="?"===v||"*"===v,k=r[2]||s,_=h||m;o.push({name:d||n++,prefix:f||"",delimiter:k,optional:w,repeat:b,partial:g,asterisk:!!y,pattern:_?R(_):y?".*":"[^"+T(k)+"]+?"})}}return i<t.length&&(a+=t.substr(i)),a&&o.push(a),o}function _(t,e){return P(k(t,e))}function O(t){return encodeURI(t).replace(/[\/?#]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}function x(t){return encodeURI(t).replace(/[?#]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}function P(t){for(var e=new Array(t.length),r=0;r<t.length;r++)"object"==typeof t[r]&&(e[r]=new RegExp("^(?:"+t[r].pattern+")$"));return function(r,o){for(var n="",i=r||{},a=o||{},s=a.pretty?O:encodeURIComponent,c=0;c<t.length;c++){var u=t[c];if("string"!=typeof u){var l,p=i[u.name];if(null==p){if(u.optional){u.partial&&(n+=u.prefix);continue}throw new TypeError('Expected "'+u.name+'" to be defined')}if(Ft(p)){if(!u.repeat)throw new TypeError('Expected "'+u.name+'" to not repeat, but received `'+JSON.stringify(p)+"`");if(0===p.length){if(u.optional)continue;throw new TypeError('Expected "'+u.name+'" to not be empty')}for(var f=0;f<p.length;f++){if(l=s(p[f]),!e[c].test(l))throw new TypeError('Expected all "'+u.name+'" to match "'+u.pattern+'", but received `'+JSON.stringify(l)+"`");n+=(0===f?u.prefix:u.delimiter)+l}}else{if(l=u.asterisk?x(p):s(p),!e[c].test(l))throw new TypeError('Expected "'+u.name+'" to match "'+u.pattern+'", but received "'+l+'"');n+=u.prefix+l}}else n+=u}return n}}function T(t){return t.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function R(t){return t.replace(/([=!:$\/()])/g,"\\$1")}function A(t,e){return t.keys=e,t}function j(t){return t.sensitive?"":"i"}function S(t,e){var r=t.source.match(/\((?!\?)/g);if(r)for(var o=0;o<r.length;o++)e.push({name:o,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return A(t,e)}function M(t,e,r){for(var o=[],n=0;n<t.length;n++)o.push(D(t[n],e,r).source);return A(new RegExp("(?:"+o.join("|")+")",j(r)),e)}function C(t,e,r){return E(k(t,r),e,r)}function E(t,e,r){Ft(e)||(r=e||r,e=[]),r=r||{};for(var o=r.strict,n=!1!==r.end,i="",a=0;a<t.length;a++){var s=t[a];if("string"==typeof s)i+=T(s);else{var c=T(s.prefix),u="(?:"+s.pattern+")";e.push(s),s.repeat&&(u+="(?:"+c+u+")*"),u=s.optional?s.partial?c+"("+u+")?":"(?:"+c+"("+u+"))?":c+"("+u+")",i+=u}}var l=T(r.delimiter||"/"),p=i.slice(-l.length)===l;return o||(i=(p?i.slice(0,-l.length):i)+"(?:"+l+"(?=$))?"),i+=n?"$":o&&p?"":"(?="+l+"|$)",A(new RegExp("^"+i,j(r)),e)}function D(t,e,r){return Ft(e)||(r=e||r,e=[]),r=r||{},t instanceof RegExp?S(t,e):Ft(t)?M(t,e,r):C(t,e,r)}function I(t,e,r){try{return(Gt[t]||(Gt[t]=$t.compile(t)))(e||{},{pretty:!0})}catch(t){return""}}function B(t,e,r,o){var n=e||[],i=r||Object.create(null),a=o||Object.create(null);t.forEach(function(t){L(n,i,a,t)});for(var s=0,c=n.length;s<c;s++)"*"===n[s]&&(n.push(n.splice(s,1)[0]),c--,s--);return{pathList:n,pathMap:i,nameMap:a}}function L(t,e,r,o,n,i){var a=o.path,s=o.name,c=q(a,n),u={path:c,regex:N(c),components:o.components||{default:o.component},instances:{},name:s,parent:n,matchAs:i,redirect:o.redirect,beforeEnter:o.beforeEnter,meta:o.meta||{},props:null==o.props?{}:o.components?o.props:{default:o.props}};if(o.children&&o.children.forEach(function(o){var n=i?w(i+"/"+o.path):void 0;L(t,e,r,o,u,n)}),void 0!==o.alias)if(Array.isArray(o.alias))o.alias.forEach(function(i){var a={path:i,children:o.children};L(t,e,r,a,n,u.path)});else{var l={path:o.alias,children:o.children};L(t,e,r,l,n,u.path)}e[u.path]||(t.push(u.path),e[u.path]=u),s&&(r[s]||(r[s]=u))}function N(t){var e=$t(t);return e}function q(t,e){return t=t.replace(/\/$/,""),"/"===t[0]?t:null==e?t:w(e.path+"/"+t)}function U(t,e,r,o){var n="string"==typeof t?{path:t}:t;if(n.name||n._normalized)return n;if(!n.path&&n.params&&e){n=F({},n),n._normalized=!0;var a=F(F({},e.params),n.params);if(e.name)n.name=e.name,n.params=a;else if(e.matched){var s=e.matched[e.matched.length-1].path;n.path=I(s,a,"path "+e.path)}return n}var c=b(n.path||""),u=e&&e.path||"/",l=c.path?g(c.path,u,r||n.append):u,p=i(c.query,n.query,o&&o.options.parseQuery),f=n.hash||c.hash;return f&&"#"!==f.charAt(0)&&(f="#"+f),{_normalized:!0,path:l,query:p,hash:f}}function F(t,e){for(var r in e)t[r]=e[r];return t}function $(t,e){function r(t){B(t,u,l,p)}function o(t,r,o){var n=U(t,r,!1,e),i=n.name;if(i){var s=p[i],c=s.regex.keys.filter(function(t){return!t.optional}).map(function(t){return t.name});if("object"!=typeof n.params&&(n.params={}),r&&"object"==typeof r.params)for(var f in r.params)!(f in n.params)&&c.indexOf(f)>-1&&(n.params[f]=r.params[f]);if(s)return n.path=I(s.path,n.params,'named route "'+i+'"'),a(s,n,o)}else if(n.path){n.params={};for(var d=0;d<u.length;d++){var h=u[d],m=l[h];if(H(m.regex,n.path,n.params))return a(m,n,o)}}return a(null,n)}function n(t,r){var n=t.redirect,i="function"==typeof n?n(c(t,r,null,e)):n;if("string"==typeof i&&(i={path:i}),!i||"object"!=typeof i)return a(null,r);var s=i,u=s.name,l=s.path,f=r.query,d=r.hash,h=r.params;if(f=s.hasOwnProperty("query")?s.query:f,d=s.hasOwnProperty("hash")?s.hash:d,h=s.hasOwnProperty("params")?s.params:h,u){p[u];return o({_normalized:!0,name:u,query:f,hash:d,params:h},void 0,r)}if(l){var m=Y(l,t);return o({_normalized:!0,path:I(m,h,'redirect route with path "'+m+'"'),query:f,hash:d},void 0,r)}return a(null,r)}function i(t,e,r){var n=I(r,e.params,'aliased route with path "'+r+'"'),i=o({_normalized:!0,path:n});if(i){var s=i.matched,c=s[s.length-1];return e.params=i.params,a(c,e)}return a(null,e)}function a(t,r,o){return t&&t.redirect?n(t,o||r):t&&t.matchAs?i(t,r,t.matchAs):c(t,r,o,e)}var s=B(t),u=s.pathList,l=s.pathMap,p=s.nameMap;return{match:o,addRoutes:r}}function H(t,e,r){var o=e.match(t);if(!o)return!1;if(!r)return!0;for(var n=1,i=o.length;n<i;++n){var a=t.keys[n-1],s="string"==typeof o[n]?decodeURIComponent(o[n]):o[n];a&&(r[a.name]=s)}return!0}function Y(t,e){return g(t,e.parent?e.parent.path:"/",!0)}function W(){window.addEventListener("popstate",function(t){X(),t.state&&t.state.key&&et(t.state.key)})}function z(t,e,r,o){if(t.app){var n=t.options.scrollBehavior;n&&t.app.$nextTick(function(){var t=G(),i=n(e,r,o?t:null);if(i){var a="object"==typeof i;if(a&&"string"==typeof i.selector){var s=document.querySelector(i.selector);s?t=V(s):K(i)&&(t=J(i))}else a&&K(i)&&(t=J(i));t&&window.scrollTo(t.x,t.y)}})}}function X(){var t=tt();t&&(Vt[t]={x:window.pageXOffset,y:window.pageYOffset})}function G(){var t=tt();if(t)return Vt[t]}function V(t){var e=document.documentElement,r=e.getBoundingClientRect(),o=t.getBoundingClientRect();return{x:o.left-r.left,y:o.top-r.top}}function K(t){return Q(t.x)||Q(t.y)}function J(t){return{x:Q(t.x)?t.x:window.pageXOffset,y:Q(t.y)?t.y:window.pageYOffset}}function Q(t){return"number"==typeof t}function Z(){return Jt.now().toFixed(3)}function tt(){return Qt}function et(t){Qt=t}function rt(t,e){X();var r=window.history;try{e?r.replaceState({key:Qt},"",t):(Qt=Z(),r.pushState({key:Qt},"",t))}catch(r){window.location[e?"replace":"assign"](t)}}function ot(t){rt(t,!0)}function nt(t,e,r){var o=function(n){n>=t.length?r():t[n]?e(t[n],function(){o(n+1)}):o(n+1)};o(0)}function it(t){if(!t)if(Ut){var e=document.querySelector("base");t=e&&e.getAttribute("href")||"/"}else t="/";return"/"!==t.charAt(0)&&(t="/"+t),t.replace(/\/$/,"")}function at(t,e){var r,o=Math.max(t.length,e.length);for(r=0;r<o&&t[r]===e[r];r++);return{updated:e.slice(0,r),activated:e.slice(r),deactivated:t.slice(r)}}function st(t,e,r,o){var n=vt(t,function(t,o,n,i){var a=ct(t,e);if(a)return Array.isArray(a)?a.map(function(t){return r(t,o,n,i)}):r(a,o,n,i)});return yt(o?n.reverse():n)}function ct(t,e){return"function"!=typeof t&&(t=At.extend(t)),t.options[e]}function ut(t){return st(t,"beforeRouteLeave",pt,!0)}function lt(t){return st(t,"beforeRouteUpdate",pt)}function pt(t,e){if(e)return function(){return t.apply(e,arguments)}}function ft(t,e,r){return st(t,"beforeRouteEnter",function(t,o,n,i){return dt(t,n,i,e,r)})}function dt(t,e,r,o,n){return function(i,a,s){return t(i,a,function(t){s(t),"function"==typeof t&&o.push(function(){ht(t,e.instances,r,n)})})}}function ht(t,e,r,o){e[r]?t(e[r]):o()&&setTimeout(function(){ht(t,e,r,o)},16)}function mt(t){return function(e,r,o){var n=!1,i=0,a=null;vt(t,function(t,e,r,s){if("function"==typeof t&&void 0===t.cid){n=!0,i++;var c,u=gt(function(e){t.resolved="function"==typeof e?e:At.extend(e),r.components[s]=e,--i<=0&&o()}),l=gt(function(t){var e="Failed to resolve async component "+s+": "+t;a||(a=bt(t)?t:new Error(e),o(a))});try{c=t(u,l)}catch(t){l(t)}if(c)if("function"==typeof c.then)c.then(u,l);else{var p=c.component;p&&"function"==typeof p.then&&p.then(u,l)}}}),n||o()}}function vt(t,e){return yt(t.map(function(t){return Object.keys(t.components).map(function(r){return e(t.components[r],t.instances[r],t,r)})}))}function yt(t){return Array.prototype.concat.apply([],t)}function gt(t){var e=!1;return function(){if(!e)return e=!0,t.apply(this,arguments)}}function bt(t){return Object.prototype.toString.call(t).indexOf("Error")>-1}function wt(t){var e=window.location.pathname;return t&&0===e.indexOf(t)&&(e=e.slice(t.length)),(e||"/")+window.location.search+window.location.hash}function kt(t){var e=wt(t);if(!/^\/#/.test(e))return window.location.replace(w(t+"/#"+e)),!0}function _t(){var t=Ot();return"/"===t.charAt(0)||(Pt("/"+t),!1)}function Ot(){var t=window.location.href,e=t.indexOf("#");return-1===e?"":t.slice(e+1)}function xt(t){window.location.hash=t}function Pt(t){var e=window.location.href.indexOf("#");window.location.replace(window.location.href.slice(0,e>=0?e:0)+"#"+t)}function Tt(t,e){return t.push(e),function(){var r=t.indexOf(e);r>-1&&t.splice(r,1)}}function Rt(t,e,r){var o="hash"===r?"#"+e:e;return t?w(t+"/"+o):o}var At,jt={name:"router-view",functional:!0,props:{name:{type:String,default:"default"}},render:function(t,e){var r=e.props,o=e.children,i=e.parent,a=e.data;a.routerView=!0;for(var s=i.$createElement,c=r.name,u=i.$route,l=i._routerViewCache||(i._routerViewCache={}),p=0,f=!1;i;)i.$vnode&&i.$vnode.data.routerView&&p++,i._inactive&&(f=!0),i=i.$parent;if(a.routerViewDepth=p,f)return s(l[c],a,o);var d=u.matched[p];if(!d)return l[c]=null,s();var h=l[c]=d.components[c];return a.registerRouteInstance=function(t,e){var r=d.instances[c];(e&&r!==t||!e&&r===t)&&(d.instances[c]=e)},(a.hook||(a.hook={})).prepatch=function(t,e){d.instances[c]=e.componentInstance},a.props=n(u,d.props&&d.props[c]),s(h,a,o)}},St=/[!'()*]/g,Mt=function(t){return"%"+t.charCodeAt(0).toString(16)},Ct=/%2C/g,Et=function(t){return encodeURIComponent(t).replace(St,Mt).replace(Ct,",")},Dt=decodeURIComponent,It=/\/?$/,Bt=c(null,{path:"/"}),Lt=[String,Object],Nt=[String,Array],qt={name:"router-link",props:{to:{type:Lt,required:!0},tag:{type:String,default:"a"},exact:Boolean,append:Boolean,replace:Boolean,activeClass:String,exactActiveClass:String,event:{type:Nt,default:"click"}},render:function(t){var e=this,r=this.$router,o=this.$route,n=r.resolve(this.to,o,this.append),i=n.location,a=n.route,s=n.href,u={},l=r.options.linkActiveClass,f=r.options.linkExactActiveClass,h=null==l?"router-link-active":l,y=null==f?"router-link-exact-active":f,g=null==this.activeClass?h:this.activeClass,b=null==this.exactActiveClass?y:this.exactActiveClass,w=i.path?c(null,i,null,r):a;u[b]=p(o,w),u[g]=this.exact?u[b]:d(o,w);var k=function(t){m(t)&&(e.replace?r.replace(i):r.push(i))},_={click:m};Array.isArray(this.event)?this.event.forEach(function(t){_[t]=k}):_[this.event]=k;var O={class:u};if("a"===this.tag)O.on=_,O.attrs={href:s};else{var x=v(this.$slots.default);if(x){x.isStatic=!1;var P=At.util.extend;(x.data=P({},x.data)).on=_;(x.data.attrs=P({},x.data.attrs)).href=s}else O.on=_}return t(this.tag,O,this.$slots.default)}},Ut="undefined"!=typeof window,Ft=Array.isArray||function(t){return"[object Array]"==Object.prototype.toString.call(t)},$t=D,Ht=k,Yt=_,Wt=P,zt=E,Xt=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");$t.parse=Ht,$t.compile=Yt,$t.tokensToFunction=Wt,$t.tokensToRegExp=zt;var Gt=Object.create(null),Vt=Object.create(null),Kt=Ut&&function(){var t=window.navigator.userAgent;return(-1===t.indexOf("Android 2.")&&-1===t.indexOf("Android 4.0")||-1===t.indexOf("Mobile Safari")||-1!==t.indexOf("Chrome")||-1!==t.indexOf("Windows Phone"))&&(window.history&&"pushState"in window.history)}(),Jt=Ut&&window.performance&&window.performance.now?window.performance:Date,Qt=Z(),Zt=function(t,e){this.router=t,this.base=it(e),this.current=Bt,this.pending=null,this.ready=!1,this.readyCbs=[],this.readyErrorCbs=[],this.errorCbs=[]};Zt.prototype.listen=function(t){this.cb=t},Zt.prototype.onReady=function(t,e){this.ready?t():(this.readyCbs.push(t),e&&this.readyErrorCbs.push(e))},Zt.prototype.onError=function(t){this.errorCbs.push(t)},Zt.prototype.transitionTo=function(t,e,r){var o=this,n=this.router.match(t,this.current);this.confirmTransition(n,function(){o.updateRoute(n),e&&e(n),o.ensureURL(),o.ready||(o.ready=!0,o.readyCbs.forEach(function(t){t(n)}))},function(t){r&&r(t),t&&!o.ready&&(o.ready=!0,o.readyErrorCbs.forEach(function(e){e(t)}))})},Zt.prototype.confirmTransition=function(t,e,r){var n=this,i=this.current,a=function(t){bt(t)&&(n.errorCbs.length?n.errorCbs.forEach(function(e){e(t)}):(o(!1,"uncaught error during route navigation:"),console.error(t))),r&&r(t)};if(p(t,i)&&t.matched.length===i.matched.length)return this.ensureURL(),a();var s=at(this.current.matched,t.matched),c=s.updated,u=s.deactivated,l=s.activated,f=[].concat(ut(u),this.router.beforeHooks,lt(c),l.map(function(t){return t.beforeEnter}),mt(l));this.pending=t;var d=function(e,r){if(n.pending!==t)return a();try{e(t,i,function(t){!1===t||bt(t)?(n.ensureURL(!0),a(t)):"string"==typeof t||"object"==typeof t&&("string"==typeof t.path||"string"==typeof t.name)?(a(),"object"==typeof t&&t.replace?n.replace(t):n.push(t)):r(t)})}catch(t){a(t)}};nt(f,d,function(){var r=[];nt(ft(l,r,function(){return n.current===t}).concat(n.router.resolveHooks),d,function(){if(n.pending!==t)return a();n.pending=null,e(t),n.router.app&&n.router.app.$nextTick(function(){r.forEach(function(t){t()})})})})},Zt.prototype.updateRoute=function(t){var e=this.current;this.current=t,this.cb&&this.cb(t),this.router.afterHooks.forEach(function(r){r&&r(t,e)})};var te=function(t){function e(e,r){var o=this;t.call(this,e,r);var n=e.options.scrollBehavior;n&&W(),window.addEventListener("popstate",function(t){o.transitionTo(wt(o.base),function(t){n&&z(e,t,o.current,!0)})})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.go=function(t){window.history.go(t)},e.prototype.push=function(t,e,r){var o=this,n=this,i=n.current;this.transitionTo(t,function(t){rt(w(o.base+t.fullPath)),z(o.router,t,i,!1),e&&e(t)},r)},e.prototype.replace=function(t,e,r){var o=this,n=this,i=n.current;this.transitionTo(t,function(t){ot(w(o.base+t.fullPath)),z(o.router,t,i,!1),e&&e(t)},r)},e.prototype.ensureURL=function(t){if(wt(this.base)!==this.current.fullPath){var e=w(this.base+this.current.fullPath);t?rt(e):ot(e)}},e.prototype.getCurrentLocation=function(){return wt(this.base)},e}(Zt),ee=function(t){function e(e,r,o){t.call(this,e,r),o&&kt(this.base)||_t()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setupListeners=function(){var t=this;window.addEventListener("hashchange",function(){_t()&&t.transitionTo(Ot(),function(t){Pt(t.fullPath)})})},e.prototype.push=function(t,e,r){this.transitionTo(t,function(t){xt(t.fullPath),e&&e(t)},r)},e.prototype.replace=function(t,e,r){this.transitionTo(t,function(t){Pt(t.fullPath),e&&e(t)},r)},e.prototype.go=function(t){window.history.go(t)},e.prototype.ensureURL=function(t){var e=this.current.fullPath;Ot()!==e&&(t?xt(e):Pt(e))},e.prototype.getCurrentLocation=function(){return Ot()},e}(Zt),re=function(t){function e(e,r){t.call(this,e,r),this.stack=[],this.index=-1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.push=function(t,e,r){var o=this;this.transitionTo(t,function(t){o.stack=o.stack.slice(0,o.index+1).concat(t),o.index++,e&&e(t)},r)},e.prototype.replace=function(t,e,r){var o=this;this.transitionTo(t,function(t){o.stack=o.stack.slice(0,o.index).concat(t),e&&e(t)},r)},e.prototype.go=function(t){var e=this,r=this.index+t;if(!(r<0||r>=this.stack.length)){var o=this.stack[r];this.confirmTransition(o,function(){e.index=r,e.updateRoute(o)})}},e.prototype.getCurrentLocation=function(){var t=this.stack[this.stack.length-1];return t?t.fullPath:"/"},e.prototype.ensureURL=function(){},e}(Zt),oe=function(t){void 0===t&&(t={}),this.app=null,this.apps=[],this.options=t,this.beforeHooks=[],this.resolveHooks=[],this.afterHooks=[],this.matcher=$(t.routes||[],this);var e=t.mode||"hash";switch(this.fallback="history"===e&&!Kt,this.fallback&&(e="hash"),Ut||(e="abstract"),this.mode=e,e){case"history":this.history=new te(this,t.base);break;case"hash":this.history=new ee(this,t.base,this.fallback);break;case"abstract":this.history=new re(this,t.base)}},ne={currentRoute:{}};oe.prototype.match=function(t,e,r){return this.matcher.match(t,e,r)},ne.currentRoute.get=function(){return this.history&&this.history.current},oe.prototype.init=function(t){var e=this;if(this.apps.push(t),!this.app){this.app=t;var r=this.history;if(r instanceof te)r.transitionTo(r.getCurrentLocation());else if(r instanceof ee){var o=function(){r.setupListeners()};r.transitionTo(r.getCurrentLocation(),o,o)}r.listen(function(t){e.apps.forEach(function(e){e._route=t})})}},oe.prototype.beforeEach=function(t){return Tt(this.beforeHooks,t)},oe.prototype.beforeResolve=function(t){return Tt(this.resolveHooks,t)},oe.prototype.afterEach=function(t){return Tt(this.afterHooks,t)},oe.prototype.onReady=function(t,e){this.history.onReady(t,e)},oe.prototype.onError=function(t){this.history.onError(t)},oe.prototype.push=function(t,e,r){this.history.push(t,e,r)},oe.prototype.replace=function(t,e,r){this.history.replace(t,e,r)},oe.prototype.go=function(t){this.history.go(t)},oe.prototype.back=function(){this.go(-1)},oe.prototype.forward=function(){this.go(1)},oe.prototype.getMatchedComponents=function(t){var e=t?t.matched?t:this.resolve(t).route:this.currentRoute;return e?[].concat.apply([],e.matched.map(function(t){return Object.keys(t.components).map(function(e){return t.components[e]})})):[]},oe.prototype.resolve=function(t,e,r){var o=U(t,e||this.history.current,r,this),n=this.match(o,e),i=n.redirectedFrom||n.fullPath;return{location:o,route:n,href:Rt(this.history.base,i,this.mode),normalizedTo:o,resolved:n}},oe.prototype.addRoutes=function(t){this.matcher.addRoutes(t),this.history.current!==Bt&&this.history.transitionTo(this.history.getCurrentLocation())},Object.defineProperties(oe.prototype,ne),oe.install=y,oe.version="2.5.3",Ut&&window.Vue&&window.Vue.use(oe),e.a=oe},function(t,e,r){"use strict";function o(t){var e="";do{e=s[t%c]+e,t=Math.floor(t/c)}while(t>0);return e}function n(t){var e=0;for(p=0;p<t.length;p++)e=e*c+u[t.charAt(p)];return e}function i(){var t=o(+new Date);return t!==a?(l=0,a=t):t+"."+o(l++)}for(var a,s="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),c=64,u={},l=0,p=0;p<c;p++)u[s[p]]=p;i.encode=o,i.decode=n,t.exports=i},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),r.d(e,"app",function(){return S});var o=r(16),n=r(0),i=r.n(n),a=r(53),s=r.n(a),c=r(54),u=r(190),l=r(140),p=r(152),f=r(7),d=r(143),h=r(150),m=r(145),v=r(144),y=r(156),g=r(154),b=r(153),w=r(5),k=r(155),_=r(139),O=r(149),x=r(151),P=r(147),T=r(148),R=r(138),A=r(146),j=r(6);r(79),r(78),r(81),i.a.use(c.a),i.a.use(s.a,u.a),i.a.use(f.a),i.a.component("loader",l.a),i.a.component("modal-window",d.a),i.a.component("x-panel",h.a),i.a.component("tabs",m.a),i.a.component("tab-pane",v.a),i.a.component("dropdown",_.a),i.a.component("notification-message",O.a),i.a.component("flash-notifications",P.a),i.a.component("manager-incoming-call-window",T.a),i.a.component("calendar-chooser",R.a),i.a.component("time-picker",A.a),i.a.directive("need-role",p.a),i.a.directive("need-user-type",b.a),i.a.directive("custom-scrollbar",x.a),i.a.filter("ticketStatus",y.a),i.a.filter("ticketStatusColor",k.a),i.a.filter("dateFormat",g.a);var S=new i.a({template:r(130),router:o.a,computed:{userType:function(){return j.a.state.userData?j.a.state.userData.userType:null},pageLoader:function(){return w.a.state.pageLoader}}}).$mount("#app")},,function(t,e){function r(t,e,r){function n(t,o){if(n.count<=0)throw new Error("after called too many times");--n.count,t?(i=!0,e(t),e=r):0!==n.count||i||e(null,o)}var i=!1;return r=r||o,n.count=t,0===t?e():n}function o(){}t.exports=r},function(t,e){t.exports=function(t,e,r){var o=t.byteLength;if(e=e||0,r=r||o,t.slice)return t.slice(e,r);if(e<0&&(e+=o),r<0&&(r+=o),r>o&&(r=o),e>=o||e>=r||0===o)return new ArrayBuffer(0);for(var n=new Uint8Array(t),i=new Uint8Array(r-e),a=e,s=0;a<r;a++,s++)i[s]=n[a];return i.buffer}},function(t,e){function r(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}t.exports=r,r.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),r=Math.floor(e*this.jitter*t);t=0==(1&Math.floor(10*e))?t-r:t+r}return 0|Math.min(t,this.max)},r.prototype.reset=function(){this.attempts=0},r.prototype.setMin=function(t){this.ms=t},r.prototype.setMax=function(t){this.max=t},r.prototype.setJitter=function(t){this.jitter=t}},function(t,e){!function(){"use strict";for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r=new Uint8Array(256),o=0;o<t.length;o++)r[t.charCodeAt(o)]=o;e.encode=function(e){var r,o=new Uint8Array(e),n=o.length,i="";for(r=0;r<n;r+=3)i+=t[o[r]>>2],i+=t[(3&o[r])<<4|o[r+1]>>4],i+=t[(15&o[r+1])<<2|o[r+2]>>6],i+=t[63&o[r+2]];return n%3==2?i=i.substring(0,i.length-1)+"=":n%3==1&&(i=i.substring(0,i.length-2)+"=="),i},e.decode=function(t){var e,o,n,i,a,s=.75*t.length,c=t.length,u=0;"="===t[t.length-1]&&(s--,"="===t[t.length-2]&&s--);var l=new ArrayBuffer(s),p=new Uint8Array(l);for(e=0;e<c;e+=4)o=r[t.charCodeAt(e)],n=r[t.charCodeAt(e+1)],i=r[t.charCodeAt(e+2)],a=r[t.charCodeAt(e+3)],p[u++]=o<<2|n>>4,p[u++]=(15&n)<<4|i>>2,p[u++]=(3&i)<<6|63&a;return l}}()},function(t,e,r){(function(e){function r(t){for(var e=0;e<t.length;e++){var r=t[e];if(r.buffer instanceof ArrayBuffer){var o=r.buffer;if(r.byteLength!==o.byteLength){var n=new Uint8Array(r.byteLength);n.set(new Uint8Array(o,r.byteOffset,r.byteLength)),o=n.buffer}t[e]=o}}}function o(t,e){e=e||{};var o=new i;r(t);for(var n=0;n<t.length;n++)o.append(t[n]);return e.type?o.getBlob(e.type):o.getBlob()}function n(t,e){return r(t),new Blob(t,e||{})}var i=e.BlobBuilder||e.WebKitBlobBuilder||e.MSBlobBuilder||e.MozBlobBuilder,a=function(){try{return 2===new Blob(["hi"]).size}catch(t){return!1}}(),s=a&&function(){try{return 2===new Blob([new Uint8Array([1,2])]).size}catch(t){return!1}}(),c=i&&i.prototype.append&&i.prototype.getBlob;t.exports=function(){return a?s?e.Blob:n:c?o:void 0}()}).call(e,r(4))},,,function(t,e,r){function o(t){var r,o=0;for(r in t)o=(o<<5)-o+t.charCodeAt(r),o|=0;return e.colors[Math.abs(o)%e.colors.length]}function n(t){function r(){if(r.enabled){var t=r,o=+new Date,n=o-(u||o);t.diff=n,t.prev=u,t.curr=o,u=o;for(var i=new Array(arguments.length),a=0;a<i.length;a++)i[a]=arguments[a];i[0]=e.coerce(i[0]),"string"!=typeof i[0]&&i.unshift("%O");var s=0;i[0]=i[0].replace(/%([a-zA-Z%])/g,function(r,o){if("%%"===r)return r;s++;var n=e.formatters[o];if("function"==typeof n){var a=i[s];r=n.call(t,a),i.splice(s,1),s--}return r}),e.formatArgs.call(t,i);(r.log||e.log||console.log.bind(console)).apply(t,i)}}return r.namespace=t,r.enabled=e.enabled(t),r.useColors=e.useColors(),r.color=o(t),"function"==typeof e.init&&e.init(r),r}function i(t){e.save(t),e.names=[],e.skips=[];for(var r=("string"==typeof t?t:"").split(/[\s,]+/),o=r.length,n=0;n<o;n++)r[n]&&(t=r[n].replace(/\*/g,".*?"),"-"===t[0]?e.skips.push(new RegExp("^"+t.substr(1)+"$")):e.names.push(new RegExp("^"+t+"$")))}function a(){e.enable("")}function s(t){var r,o;for(r=0,o=e.skips.length;r<o;r++)if(e.skips[r].test(t))return!1;for(r=0,o=e.names.length;r<o;r++)if(e.names[r].test(t))return!0;return!1}function c(t){return t instanceof Error?t.stack||t.message:t}e=t.exports=n.debug=n.default=n,e.coerce=c,e.disable=a,e.enable=i,e.enabled=s,e.humanize=r(90),e.names=[],e.skips=[],e.formatters={};var u},function(t,e,r){t.exports=r(67)},function(t,e,r){t.exports=r(68),t.exports.parser=r(15)},function(t,e,r){(function(e){function o(t,r){if(!(this instanceof o))return new o(t,r);r=r||{},t&&"object"==typeof t&&(r=t,t=null),t?(t=l(t),r.hostname=t.host,r.secure="https"===t.protocol||"wss"===t.protocol,r.port=t.port,t.query&&(r.query=t.query)):r.host&&(r.hostname=l(r.host).host),this.secure=null!=r.secure?r.secure:e.location&&"https:"===location.protocol,r.hostname&&!r.port&&(r.port=this.secure?"443":"80"),this.agent=r.agent||!1,this.hostname=r.hostname||(e.location?location.hostname:"localhost"),this.port=r.port||(e.location&&location.port?location.port:this.secure?443:80),this.query=r.query||{},"string"==typeof this.query&&(this.query=f.decode(this.query)),this.upgrade=!1!==r.upgrade,this.path=(r.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!r.forceJSONP,this.jsonp=!1!==r.jsonp,this.forceBase64=!!r.forceBase64,this.enablesXDR=!!r.enablesXDR,this.timestampParam=r.timestampParam||"t",this.timestampRequests=r.timestampRequests,this.transports=r.transports||["polling","websocket"],this.transportOptions=r.transportOptions||{},this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.policyPort=r.policyPort||843,this.rememberUpgrade=r.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=r.onlyBinaryUpgrades,this.perMessageDeflate=!1!==r.perMessageDeflate&&(r.perMessageDeflate||{}),!0===this.perMessageDeflate&&(this.perMessageDeflate={}),this.perMessageDeflate&&null==this.perMessageDeflate.threshold&&(this.perMessageDeflate.threshold=1024),this.pfx=r.pfx||null,this.key=r.key||null,this.passphrase=r.passphrase||null,this.cert=r.cert||null,this.ca=r.ca||null,this.ciphers=r.ciphers||null,this.rejectUnauthorized=void 0===r.rejectUnauthorized||r.rejectUnauthorized,this.forceNode=!!r.forceNode;var n="object"==typeof e&&e;n.global===n&&(r.extraHeaders&&Object.keys(r.extraHeaders).length>0&&(this.extraHeaders=r.extraHeaders),r.localAddress&&(this.localAddress=r.localAddress)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingIntervalTimer=null,this.pingTimeoutTimer=null,this.open()}function n(t){var e={};for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);return e}var i=r(39),a=r(14),s=r(8)("engine.io-client:socket"),c=r(42),u=r(15),l=r(43),p=r(91),f=r(20);t.exports=o,o.priorWebsocketSuccess=!1,a(o.prototype),o.protocol=u.protocol,o.Socket=o,o.Transport=r(23),o.transports=r(39),o.parser=r(15),o.prototype.createTransport=function(t){s('creating transport "%s"',t);var e=n(this.query);e.EIO=u.protocol,e.transport=t;var r=this.transportOptions[t]||{};return this.id&&(e.sid=this.id),new i[t]({query:e,socket:this,agent:r.agent||this.agent,hostname:r.hostname||this.hostname,port:r.port||this.port,secure:r.secure||this.secure,path:r.path||this.path,forceJSONP:r.forceJSONP||this.forceJSONP,jsonp:r.jsonp||this.jsonp,forceBase64:r.forceBase64||this.forceBase64,enablesXDR:r.enablesXDR||this.enablesXDR,timestampRequests:r.timestampRequests||this.timestampRequests,timestampParam:r.timestampParam||this.timestampParam,policyPort:r.policyPort||this.policyPort,pfx:r.pfx||this.pfx,key:r.key||this.key,passphrase:r.passphrase||this.passphrase,cert:r.cert||this.cert,ca:r.ca||this.ca,ciphers:r.ciphers||this.ciphers,rejectUnauthorized:r.rejectUnauthorized||this.rejectUnauthorized,perMessageDeflate:r.perMessageDeflate||this.perMessageDeflate,extraHeaders:r.extraHeaders||this.extraHeaders,forceNode:r.forceNode||this.forceNode,localAddress:r.localAddress||this.localAddress,requestTimeout:r.requestTimeout||this.requestTimeout,protocols:r.protocols||void 0})},o.prototype.open=function(){var t;if(this.rememberUpgrade&&o.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))t="websocket";else{if(0===this.transports.length){var e=this;return void setTimeout(function(){e.emit("error","No transports available")},0)}t=this.transports[0]}this.readyState="opening";try{t=this.createTransport(t)}catch(t){return this.transports.shift(),void this.open()}t.open(),this.setTransport(t)},o.prototype.setTransport=function(t){s("setting transport %s",t.name);var e=this;this.transport&&(s("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=t,t.on("drain",function(){e.onDrain()}).on("packet",function(t){e.onPacket(t)}).on("error",function(t){e.onError(t)}).on("close",function(){e.onClose("transport close")})},o.prototype.probe=function(t){function e(){if(f.onlyBinaryUpgrades){var e=!this.supportsBinary&&f.transport.supportsBinary;p=p||e}p||(s('probe transport "%s" opened',t),l.send([{type:"ping",data:"probe"}]),l.once("packet",function(e){if(!p)if("pong"===e.type&&"probe"===e.data){if(s('probe transport "%s" pong',t),f.upgrading=!0,f.emit("upgrading",l),!l)return;o.priorWebsocketSuccess="websocket"===l.name,s('pausing current transport "%s"',f.transport.name),f.transport.pause(function(){p||"closed"!==f.readyState&&(s("changing transport and sending upgrade packet"),u(),f.setTransport(l),l.send([{type:"upgrade"}]),f.emit("upgrade",l),l=null,f.upgrading=!1,f.flush())})}else{s('probe transport "%s" failed',t);var r=new Error("probe error");r.transport=l.name,f.emit("upgradeError",r)}}))}function r(){p||(p=!0,u(),l.close(),l=null)}function n(e){var o=new Error("probe error: "+e);o.transport=l.name,r(),s('probe transport "%s" failed because of error: %s',t,e),f.emit("upgradeError",o)}function i(){n("transport closed")}function a(){n("socket closed")}function c(t){l&&t.name!==l.name&&(s('"%s" works - aborting "%s"',t.name,l.name),r())}function u(){l.removeListener("open",e),l.removeListener("error",n),l.removeListener("close",i),f.removeListener("close",a),f.removeListener("upgrading",c)}s('probing transport "%s"',t);var l=this.createTransport(t,{probe:1}),p=!1,f=this;o.priorWebsocketSuccess=!1,l.once("open",e),l.once("error",n),l.once("close",i),this.once("close",a),this.once("upgrading",c),l.open()},o.prototype.onOpen=function(){if(s("socket open"),this.readyState="open",o.priorWebsocketSuccess="websocket"===this.transport.name,this.emit("open"),this.flush(),"open"===this.readyState&&this.upgrade&&this.transport.pause){s("starting upgrade probes");for(var t=0,e=this.upgrades.length;t<e;t++)this.probe(this.upgrades[t])}},o.prototype.onPacket=function(t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(s('socket receive: type "%s", data "%s"',t.type,t.data),this.emit("packet",t),this.emit("heartbeat"),t.type){case"open":this.onHandshake(p(t.data));break;case"pong":this.setPing(),this.emit("pong");break;case"error":var e=new Error("server error");e.code=t.data,this.onError(e);break;case"message":this.emit("data",t.data),this.emit("message",t.data)}else s('packet received with socket readyState "%s"',this.readyState)},o.prototype.onHandshake=function(t){this.emit("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.onOpen(),"closed"!==this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},o.prototype.onHeartbeat=function(t){clearTimeout(this.pingTimeoutTimer);var e=this;e.pingTimeoutTimer=setTimeout(function(){"closed"!==e.readyState&&e.onClose("ping timeout")},t||e.pingInterval+e.pingTimeout)},o.prototype.setPing=function(){var t=this;clearTimeout(t.pingIntervalTimer),t.pingIntervalTimer=setTimeout(function(){s("writing ping packet - expecting pong within %sms",t.pingTimeout),t.ping(),t.onHeartbeat(t.pingTimeout)},t.pingInterval)},o.prototype.ping=function(){var t=this;this.sendPacket("ping",function(){t.emit("ping")})},o.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emit("drain"):this.flush()},o.prototype.flush=function(){"closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(s("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},o.prototype.write=o.prototype.send=function(t,e,r){return this.sendPacket("message",t,e,r),this},o.prototype.sendPacket=function(t,e,r,o){if("function"==typeof e&&(o=e,e=void 0),"function"==typeof r&&(o=r,r=null),"closing"!==this.readyState&&"closed"!==this.readyState){r=r||{},r.compress=!1!==r.compress;var n={type:t,data:e,options:r};this.emit("packetCreate",n),this.writeBuffer.push(n),o&&this.once("flush",o),this.flush()}},o.prototype.close=function(){function t(){o.onClose("forced close"),s("socket closing - telling transport to close"),o.transport.close()}function e(){o.removeListener("upgrade",e),o.removeListener("upgradeError",e),t()}function r(){o.once("upgrade",e),o.once("upgradeError",e)}if("opening"===this.readyState||"open"===this.readyState){this.readyState="closing";var o=this;this.writeBuffer.length?this.once("drain",function(){this.upgrading?r():t()}):this.upgrading?r():t()}return this},o.prototype.onError=function(t){s("socket error %j",t),o.priorWebsocketSuccess=!1,this.emit("error",t),this.onClose("transport error",t)},o.prototype.onClose=function(t,e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){s('socket close with reason: "%s"',t);var r=this;clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",t,e),r.writeBuffer=[],r.prevBufferLen=0}},o.prototype.filterUpgrades=function(t){for(var e=[],r=0,o=t.length;r<o;r++)~c(this.transports,t[r])&&e.push(t[r]);return e}}).call(e,r(4))},function(t,e,r){(function(e){function o(){}function n(t){i.call(this,t),this.query=this.query||{},s||(e.___eio||(e.___eio=[]),s=e.___eio),this.index=s.length;var r=this;s.push(function(t){r.onData(t)}),this.query.j=this.index,e.document&&e.addEventListener&&e.addEventListener("beforeunload",function(){r.script&&(r.script.onerror=o)},!1)}var i=r(40),a=r(19);t.exports=n;var s,c=/\n/g,u=/\\n/g;a(n,i),n.prototype.supportsBinary=!1,n.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),i.prototype.doClose.call(this)},n.prototype.doPoll=function(){var t=this,e=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),e.async=!0,e.src=this.uri(),e.onerror=function(e){t.onError("jsonp poll error",e)};var r=document.getElementsByTagName("script")[0];r?r.parentNode.insertBefore(e,r):(document.head||document.body).appendChild(e),this.script=e,"undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent)&&setTimeout(function(){var t=document.createElement("iframe");document.body.appendChild(t),document.body.removeChild(t)},100)},n.prototype.doWrite=function(t,e){function r(){o(),e()}function o(){if(n.iframe)try{n.form.removeChild(n.iframe)}catch(t){n.onError("jsonp polling iframe removal error",t)}try{var t='<iframe src="javascript:0" name="'+n.iframeId+'">';i=document.createElement(t)}catch(t){i=document.createElement("iframe"),i.name=n.iframeId,i.src="javascript:0"}i.id=n.iframeId,n.form.appendChild(i),n.iframe=i}var n=this;if(!this.form){var i,a=document.createElement("form"),s=document.createElement("textarea"),l=this.iframeId="eio_iframe_"+this.index;a.className="socketio",a.style.position="absolute",a.style.top="-1000px",a.style.left="-1000px",a.target=l,a.method="POST",a.setAttribute("accept-charset","utf-8"),s.name="d",a.appendChild(s),document.body.appendChild(a),this.form=a,this.area=s}this.form.action=this.uri(),o(),t=t.replace(u,"\\\n"),this.area.value=t.replace(c,"\\n");try{this.form.submit()}catch(t){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"===n.iframe.readyState&&r()}:this.iframe.onload=r}}).call(e,r(4))},function(t,e,r){(function(e){function o(){}function n(t){if(c.call(this,t),this.requestTimeout=t.requestTimeout,this.extraHeaders=t.extraHeaders,e.location){var r="https:"===location.protocol,o=location.port;o||(o=r?443:80),this.xd=t.hostname!==e.location.hostname||o!==t.port,this.xs=t.secure!==r}}function i(t){this.method=t.method||"GET",this.uri=t.uri,this.xd=!!t.xd,this.xs=!!t.xs,this.async=!1!==t.async,this.data=void 0!==t.data?t.data:null,this.agent=t.agent,this.isBinary=t.isBinary,this.supportsBinary=t.supportsBinary,this.enablesXDR=t.enablesXDR,this.requestTimeout=t.requestTimeout,this.pfx=t.pfx,this.key=t.key,this.passphrase=t.passphrase,this.cert=t.cert,this.ca=t.ca,this.ciphers=t.ciphers,this.rejectUnauthorized=t.rejectUnauthorized,this.extraHeaders=t.extraHeaders,this.create()}function a(){for(var t in i.requests)i.requests.hasOwnProperty(t)&&i.requests[t].abort()}var s=r(24),c=r(40),u=r(14),l=r(19),p=r(8)("engine.io-client:polling-xhr");t.exports=n,t.exports.Request=i,l(n,c),n.prototype.supportsBinary=!0,n.prototype.request=function(t){return t=t||{},t.uri=this.uri(),t.xd=this.xd,t.xs=this.xs,t.agent=this.agent||!1,t.supportsBinary=this.supportsBinary,t.enablesXDR=this.enablesXDR,t.pfx=this.pfx,t.key=this.key,t.passphrase=this.passphrase,t.cert=this.cert,t.ca=this.ca,t.ciphers=this.ciphers,t.rejectUnauthorized=this.rejectUnauthorized,t.requestTimeout=this.requestTimeout,t.extraHeaders=this.extraHeaders,new i(t)},n.prototype.doWrite=function(t,e){var r="string"!=typeof t&&void 0!==t,o=this.request({method:"POST",data:t,isBinary:r}),n=this;o.on("success",e),o.on("error",function(t){n.onError("xhr post error",t)}),this.sendXhr=o},n.prototype.doPoll=function(){p("xhr poll");var t=this.request(),e=this;t.on("data",function(t){e.onData(t)}),t.on("error",function(t){e.onError("xhr poll error",t)}),this.pollXhr=t},u(i.prototype),i.prototype.create=function(){var t={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};t.pfx=this.pfx,t.key=this.key,t.passphrase=this.passphrase,t.cert=this.cert,t.ca=this.ca,t.ciphers=this.ciphers,t.rejectUnauthorized=this.rejectUnauthorized;var r=this.xhr=new s(t),o=this;try{p("xhr open %s: %s",this.method,this.uri),r.open(this.method,this.uri,this.async);try{if(this.extraHeaders){r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0);for(var n in this.extraHeaders)this.extraHeaders.hasOwnProperty(n)&&r.setRequestHeader(n,this.extraHeaders[n])}}catch(t){}if("POST"===this.method)try{this.isBinary?r.setRequestHeader("Content-type","application/octet-stream"):r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(t){}try{r.setRequestHeader("Accept","*/*")}catch(t){}"withCredentials"in r&&(r.withCredentials=!0),this.requestTimeout&&(r.timeout=this.requestTimeout),this.hasXDR()?(r.onload=function(){o.onLoad()},r.onerror=function(){o.onError(r.responseText)}):r.onreadystatechange=function(){if(2===r.readyState){var t;try{t=r.getResponseHeader("Content-Type")}catch(t){}"application/octet-stream"===t&&(r.responseType="arraybuffer")}4===r.readyState&&(200===r.status||1223===r.status?o.onLoad():setTimeout(function(){o.onError(r.status)},0))},p("xhr data %s",this.data),r.send(this.data)}catch(t){return void setTimeout(function(){o.onError(t)},0)}e.document&&(this.index=i.requestsCount++,i.requests[this.index]=this)},i.prototype.onSuccess=function(){this.emit("success"),this.cleanup()},i.prototype.onData=function(t){this.emit("data",t),this.onSuccess()},i.prototype.onError=function(t){this.emit("error",t),this.cleanup(!0)},i.prototype.cleanup=function(t){if(void 0!==this.xhr&&null!==this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=o:this.xhr.onreadystatechange=o,t)try{this.xhr.abort()}catch(t){}e.document&&delete i.requests[this.index],this.xhr=null}},i.prototype.onLoad=function(){var t;try{var e;try{e=this.xhr.getResponseHeader("Content-Type")}catch(t){}t="application/octet-stream"===e?this.xhr.response||this.xhr.responseText:this.xhr.responseText}catch(t){this.onError(t)}null!=t&&this.onData(t)},i.prototype.hasXDR=function(){return void 0!==e.XDomainRequest&&!this.xs&&this.enablesXDR},i.prototype.abort=function(){this.cleanup()},i.requestsCount=0,i.requests={},e.document&&(e.attachEvent?e.attachEvent("onunload",a):e.addEventListener&&e.addEventListener("beforeunload",a,!1))}).call(e,r(4))},function(t,e,r){(function(e){function o(t){t&&t.forceBase64&&(this.supportsBinary=!1),this.perMessageDeflate=t.perMessageDeflate,this.usingBrowserWebSocket=p&&!t.forceNode,this.protocols=t.protocols,this.usingBrowserWebSocket||(f=n),i.call(this,t)}var n,i=r(23),a=r(15),s=r(20),c=r(19),u=r(55),l=r(8)("engine.io-client:websocket"),p=e.WebSocket||e.MozWebSocket;if("undefined"==typeof window)try{n=r(192)}catch(t){}var f=p;f||"undefined"!=typeof window||(f=n),t.exports=o,c(o,i),o.prototype.name="websocket",o.prototype.supportsBinary=!0,o.prototype.doOpen=function(){if(this.check()){var t=this.uri(),e=this.protocols,r={agent:this.agent,perMessageDeflate:this.perMessageDeflate};r.pfx=this.pfx,r.key=this.key,r.passphrase=this.passphrase,r.cert=this.cert,r.ca=this.ca,r.ciphers=this.ciphers,r.rejectUnauthorized=this.rejectUnauthorized,this.extraHeaders&&(r.headers=this.extraHeaders),this.localAddress&&(r.localAddress=this.localAddress);try{this.ws=this.usingBrowserWebSocket?e?new f(t,e):new f(t):new f(t,e,r)}catch(t){return this.emit("error",t)}void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType="nodebuffer"):this.ws.binaryType="arraybuffer",this.addEventListeners()}},o.prototype.addEventListeners=function(){var t=this;this.ws.onopen=function(){t.onOpen()},this.ws.onclose=function(){t.onClose()},this.ws.onmessage=function(e){t.onData(e.data)},this.ws.onerror=function(e){t.onError("websocket error",e)}},o.prototype.write=function(t){function r(){o.emit("flush"),setTimeout(function(){o.writable=!0,o.emit("drain")},0)}var o=this;this.writable=!1;for(var n=t.length,i=0,s=n;i<s;i++)!function(t){a.encodePacket(t,o.supportsBinary,function(i){if(!o.usingBrowserWebSocket){var a={};if(t.options&&(a.compress=t.options.compress),o.perMessageDeflate){("string"==typeof i?e.Buffer.byteLength(i):i.length)<o.perMessageDeflate.threshold&&(a.compress=!1)}}try{o.usingBrowserWebSocket?o.ws.send(i):o.ws.send(i,a)}catch(t){l("websocket closed before onclose event")}--n||r()})}(t[i])},o.prototype.onClose=function(){i.prototype.onClose.call(this)},o.prototype.doClose=function(){void 0!==this.ws&&this.ws.close()},o.prototype.uri=function(){var t=this.query||{},e=this.secure?"wss":"ws",r="";return this.port&&("wss"===e&&443!==Number(this.port)||"ws"===e&&80!==Number(this.port))&&(r=":"+this.port),this.timestampRequests&&(t[this.timestampParam]=u()),this.supportsBinary||(t.b64=1),t=s.encode(t),t.length&&(t="?"+t),e+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+r+this.path+t},o.prototype.check=function(){return!(!f||"__initialize"in f&&this.name===o.prototype.name)}}).call(e,r(4))},function(t,e){t.exports=Object.keys||function(t){var e=[],r=Object.prototype.hasOwnProperty;for(var o in t)r.call(t,o)&&e.push(o);return e}},function(t,e,r){(function(t,o){var n;!function(i){function a(t){for(var e,r,o=[],n=0,i=t.length;n<i;)e=t.charCodeAt(n++),e>=55296&&e<=56319&&n<i?(r=t.charCodeAt(n++),56320==(64512&r)?o.push(((1023&e)<<10)+(1023&r)+65536):(o.push(e),n--)):o.push(e);return o}function s(t){for(var e,r=t.length,o=-1,n="";++o<r;)e=t[o],e>65535&&(e-=65536,n+=w(e>>>10&1023|55296),e=56320|1023&e),n+=w(e);return n}function c(t,e){if(t>=55296&&t<=57343){if(e)throw Error("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value");return!1}return!0}function u(t,e){return w(t>>e&63|128)}function l(t,e){if(0==(4294967168&t))return w(t);var r="";return 0==(4294965248&t)?r=w(t>>6&31|192):0==(4294901760&t)?(c(t,e)||(t=65533),r=w(t>>12&15|224),r+=u(t,6)):0==(4292870144&t)&&(r=w(t>>18&7|240),r+=u(t,12),r+=u(t,6)),r+=w(63&t|128)}function p(t,e){e=e||{};for(var r,o=!1!==e.strict,n=a(t),i=n.length,s=-1,c="";++s<i;)r=n[s],c+=l(r,o);return c}function f(){if(b>=g)throw Error("Invalid byte index");var t=255&y[b];if(b++,128==(192&t))return 63&t;throw Error("Invalid continuation byte")}function d(t){var e,r,o,n,i;if(b>g)throw Error("Invalid byte index");if(b==g)return!1;if(e=255&y[b],b++,0==(128&e))return e;if(192==(224&e)){if(r=f(),(i=(31&e)<<6|r)>=128)return i;throw Error("Invalid continuation byte")}if(224==(240&e)){if(r=f(),o=f(),(i=(15&e)<<12|r<<6|o)>=2048)return c(i,t)?i:65533;throw Error("Invalid continuation byte")}if(240==(248&e)&&(r=f(),o=f(),n=f(),(i=(7&e)<<18|r<<12|o<<6|n)>=65536&&i<=1114111))return i;throw Error("Invalid UTF-8 detected")}function h(t,e){e=e||{};var r=!1!==e.strict;y=a(t),g=y.length,b=0;for(var o,n=[];!1!==(o=d(r));)n.push(o);return s(n)}var m="object"==typeof e&&e,v=("object"==typeof t&&t&&t.exports,"object"==typeof o&&o);var y,g,b,w=String.fromCharCode,k={version:"2.1.2",encode:p,decode:h};void 0!==(n=function(){return k}.call(e,r,e,t))&&(t.exports=n)}()}).call(e,r(35)(t),r(4))},,,,,function(t,e){},function(t,e){},,function(t,e){},,,,function(t,e){var r={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==r.call(t)}},function(t,e){try{t.exports="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(e){t.exports=!1}},,,,function(t,e){function r(t){if(t=String(t),!(t.length>100)){var e=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(e){var r=parseFloat(e[1]);switch((e[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return r*l;case"days":case"day":case"d":return r*u;case"hours":case"hour":case"hrs":case"hr":case"h":return r*c;case"minutes":case"minute":case"mins":case"min":case"m":return r*s;case"seconds":case"second":case"secs":case"sec":case"s":return r*a;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}function o(t){return t>=u?Math.round(t/u)+"d":t>=c?Math.round(t/c)+"h":t>=s?Math.round(t/s)+"m":t>=a?Math.round(t/a)+"s":t+"ms"}function n(t){return i(t,u,"day")||i(t,c,"hour")||i(t,s,"minute")||i(t,a,"second")||t+" ms"}function i(t,e,r){if(!(t<e))return t<1.5*e?Math.floor(t/e)+" "+r:Math.ceil(t/e)+" "+r+"s"}var a=1e3,s=60*a,c=60*s,u=24*c,l=365.25*u;t.exports=function(t,e){e=e||{};var i=typeof t;if("string"===i&&t.length>0)return r(t);if("number"===i&&!1===isNaN(t))return e.long?n(t):o(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))}},function(t,e,r){(function(e){var r=/^[\],:{}\s]*$/,o=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,n=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,i=/(?:^|:|,)(?:\s*\[)+/g,a=/^\s+/,s=/\s+$/;t.exports=function(t){return"string"==typeof t&&t?(t=t.replace(a,"").replace(s,""),e.JSON&&JSON.parse?JSON.parse(t):r.test(t.replace(o,"@").replace(n,"]").replace(i,""))?new Function("return "+t)():void 0):null}}).call(e,r(4))},function(t,e){t.exports='<div><table class="table date-pick-table"><thead><tr><th class="date-pick-table-toggle-month" @click="toggleMonth(-1)"><i class="fa fa-angle-left"></i></th><th class="date-pick-table-month" colspan="5">{{currentMonthLabel}}, {{currentYear}}</th><th class="date-pick-table-toggle-month" @click="toggleMonth(1)"><i class="fa fa-angle-right"></i></th><th>Выбранные даты&nbsp;<template v-if="marked.length > 0">({{marked.length}})</template></th></tr><tr><th v-for="(day, index) in dayOfWeeks" class="date-pick-table-weekday" :class="{\'date-pick-weekend\': index > 4}">{{day}}</th><th></th></tr></thead><tr v-for="(week, index) in monthDays"><td v-for="day in week" @click.prevent="clickDay(day)" class="date-pick-table-day" :class="{\'other\': day.month() != currentMonth, \'marked\': dayIsMarked(day), \'date-pick-weekend\': day.day() == 0 || day.day() == 6}"><strong v-if="day.format(\'YYYYMMDD\') == today.format(\'YYYYMMDD\')">{{day.date()}}</strong> <span v-else>{{day.date()}}</span></td><td :rowspan="monthDays.length" class="date-pick-table-selected" v-if="index == 0"><div :style="{\'max-height\': (40 * monthDays.length) + \'px\'}" class="dates-wrapper" style="overflow-y: scroll"><div class="item" v-for="item in marked">{{getDateFormatted(item)}} <a href="#" @click.prevent="unmarkDay(item)" class="remove"><i class="fa fa-remove"></i></a></div></div></td></tr></table></div>'},function(t,e){t.exports='<div><div class="btn-group"><button type="button" class="btn btn-default">{{label}}</button> <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" aria-expanded="false"><span class="caret"></span> <span class="sr-only">Раскрыть список</span></button><ul class="dropdown-menu" role="menu"><li v-for="item in items"><a href="#" @click.prevent="selectItem(item)">{{getItemLabel(item)}}</a></li></ul></div></div>'},function(t,e){t.exports='<ul class="nav child_menu" v-if="parent.children && parent.children.length"><router-link v-for="(childItem, childIndex) in parent.children" :key="\'child\' + index + \'-\' + childIndex" tag="li" :to="childItem.route" v-need-role="childItem.role" active-class="current-page"><a>{{childItem.menuName}}</a></router-link></ul>'},function(t,e){t.exports='<div class="menu_section"><ul class="nav side-menu"><template v-for="(menuItem, index) in items"><router-link v-if="menuItem.route" tag="li" :to="menuItem.route" v-need-role="menuItem.role" active-class="active" :key="index"><a><i :class="\'fa \' + menuItem.faIcon"></i> {{menuItem.menuName}}</a><children :parent="menuItem" :index="index"></children></router-link><li v-if="!menuItem.route" :key="index"><a @click.stop="toggleActivate"><i :class="\'fa \' + menuItem.faIcon"></i> {{menuItem.menuName}}</a><children :parent="menuItem" :index="index"></children></li></template></ul></div>'},function(t,e){t.exports='<div class="modal fade" ref="modal" tabindex="-1" role="dialog"><div class="modal-dialog" role="document"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-label="Закрыть"><span aria-hidden="true">&times;</span></button><slot name="header"><h4 class="modal-title" v-if="title">{{title}}</h4><h4 class="modal-title" v-if="!title"><slot name="title"></slot></h4></slot></div><slot name="body"></slot></div></div></div>'},function(t,e){t.exports="<div role=\"tabpanel\" v-if=\"visible\" :class=\"{'tab-pane': true, 'fade': true, 'in': opened, 'active': opened}\"><slot></slot></div>"},function(t,e){t.exports='<div><div role="tabpanel"><ul class="nav nav-tabs bar_tabs" role="tablist"><li role="presentation" v-for="(tabPane, index) in tabPanes" v-if="tabPane.visible" :class="{\'active\': index == currentTab}"><a href="#" :class="{\'text-danger\': tabPane.hasError}" @click="selectTab($event, index)">{{tabPane.label}}</a></li></ul><div :class="{\'tab-content\': true, \'modal-body\': inModalWindow}"><slot></slot></div></div><slot name="footer"></slot></div>'},function(t,e){t.exports='<form @submit.prevent="submit" @input="errorMessage = \'\'"><div v-if="errorMessage" class="alert alert-danger">{{errorMessage}}</div><div class="col-sm-12"><div class="form-group" :class="{\'has-error\': errors.has(\'title\')}"><label class="control-label">Заголовок</label><input type="text" v-model="ticket.title" v-validate="\'required|max:200\'" name="title" class="form-control"><p class="help-block" v-if="errors.has(\'title\')">{{errors.first(\'title\')}}</p></div><div class="form-group" :class="{\'has-error\': errors.has(\'text\')}"><label class="control-label">Содержание</label><textarea rows="10" v-model="ticket.text" class="form-control" v-validate="\'required|max:1000\'" name="text"></textarea><p class="help-block" v-if="errors.has(\'text\')">{{errors.first(\'text\')}}</p></div><div class="form-group"><button type="submit" :disabled="awaitOfSubmit" class="btn btn-success">Отправить заявку</button> <a href="#" @click.prevent="cancel" class="btn btn-default">Отмена</a></div></div></form>'},function(t,e){t.exports='<div><div class="col-sm-12" v-if="ticket"><p><span :class="ticket.currentStatus | ticketStatusColor">{{ticket.currentStatus | ticketStatus}}</span> {{ticket.title}}</p><ul class="messages"><li v-for="item in history"><img src="images/img.jpg" class="avatar" alt="Avatar"><div class="message_wrapper"><h5 class="heading" v-if="item.item.createdBy">{{item.item.createdBy.name}} <small>{{item.item.createdAt | dateFormat(\'D MMM в HH:mm\')}}</small></h5><blockquote class="message" v-if="item.type == \'message\'">{{item.item.text}}</blockquote><blockquote class="message" v-if="item.type == \'status\'"><span :class="item.item.status | ticketStatusColor">{{item.item.status | ticketStatus}}</span></blockquote></div></li></ul></div></div>'},function(t,e){t.exports='<div><h4>Новое сообщение</h4><form @submit.prevent="submit"><div class="form-group" :class="{\'has-error\': errors.has(\'text\')}"><textarea rows="10" v-model="text" class="form-control" v-validate="\'required|max:1000\'" name="text"></textarea><p class="help-block" v-if="errors.has(\'text\')">{{errors.first(\'text\')}}</p></div><div class="form-group pull-left"><button type="submit" class="btn btn-primary">Отправить</button><label><input type="checkbox" v-model="closeTicket"> Закрыть заявку после отправки сообщения</label></div><div class="form-group pull-right"><button @click.prevent="close" class="btn btn-danger">Закрыть заявку</button></div></form></div>'},function(t,e){t.exports='<div class="col-sm-12"><table ref="table" class="table table-striped projects"><thead><tr><th>Заявка</th></tr></thead><tbody><tr v-for="ticket in list" style="cursor: pointer" @click="openTicket(ticket)"><td><small>{{ticket.createdAt | dateFormat}}</small><h4>{{ticket.number}} <small v-bind:class="ticket.currentStatus | ticketStatusColor">{{ticket.currentStatus | ticketStatus}}</small></h4><small>{{ticket.title}}</small> <a><i class="fa fa-user"></i> <small v-if="ticket.createdBy && !ticket.customer">{{ticket.createdBy.name}} </small><small v-else-if="ticket.customer && ticket.createdBy">{{ticket.createdBy.name}} ({{ticket.customer.name}}) </small><small v-else-if="ticket.customer">{{ticket.customer.name}}</small></a><br><strong>Назначен ответственный:</strong> {{ticket.managedBy ? ticket.managedBy.name : \'(нет)\'}}</td></tr><tr v-if="list.length == 0"><td colspan="2" class="empty-table-row"><p>Нет открытых заявок в данной категории.</p></td></tr></tbody></table></div>'},function(t,e){t.exports='<div><button class="btn btn-default dropdown-toggle" type="button" ref="button">{{model}} <span class="caret"></span></button></div>'},function(t,e){t.exports="<div><div v-for=\"flash in list\" v-bind:class=\"{\n            'flash-notification': true,\n            'alert': true,\n            'alert-danger': flash.type == 'danger',\n            'alert-success': flash.type == 'success',\n            'alert-warning': flash.type == 'warning',\n            'alert-primary': flash.type == 'primary',\n            'alert-info': flash.type == 'info',\n            'alert-default': flash.type == 'default'\n        }\"><div class=\"flash-notification-icon float-left\"><i class=\"fa fa-warning\" v-if=\"flash.type == 'danger' || flash.type == 'warning'\"></i> <i class=\"fa fa-info\" v-if=\"flash.type == 'info' || flash.type == 'default'\"></i> <i class=\"fa fa-check\" v-if=\"flash.type == 'success'\"></i></div><div class=\"flash-notification-text float-left\"><h4 v-if=\"flash.title\">{{flash.title}}</h4><div v-if=\"flash.text\">{{flash.text}}</div><notification-message v-if=\"flash.userNotify\" :notification=\"flash.userNotify\"></notification-message></div><div class=\"flash-notification-close float-left\"><a href=\"#\" @click.prevent=\"removeNotification(flash)\"><i class=\"fa fa-close\"></i></a></div></div></div>"},function(t,e){t.exports='<div><modal-window @hide="onHideModal()" ref="window"><div slot="title"><i class="fa fa-phone"></i> Входящий звонок</div><div slot="body" v-if="incomingCall"><div class="modal-body"><form @submit.prevent="submit" @input="errorMessage = \'\'"><loader :visible="awaitOfSubmit"></loader><div class="form-group"><label class="control-label">Входящий номер телефона:</label><div class="form-control">{{incomingCall.callerId}}</div></div><div class="form-group" :class="{\'has-error\': errors.has(\'customer\')}"><label class="control-label">Отправить уведомление арендатору:</label><select name="customer" v-model="customer" v-validate="\'required\'" class="form-control"><option value="">Выберите арендатора</option><option v-for="item in customers" :value="item.id">{{item.name}}</option></select><p class="help-block" v-if="errors.has(\'customer\')">{{errors.first(\'customer\')}}</p></div><div class="form-group" :class="{\'has-error\': errors.has(\'comment\')}"><label class="control-label">Комментарий:</label><textarea class="form-control" name="comment" v-model="comment" v-validate="\'max:255\'" rows="10"></textarea><p class="help-block" v-if="errors.has(\'comment\')">{{errors.first(\'comment\')}}</p></div><div class="form-group"><button type="submit" class="btn btn-success">Отправить уведомление</button> <button type="submit" class="btn btn-danger" @click.prevent="hideModal()">Проигнорировать звонок</button></div></form></div></div></modal-window></div>'},function(t,e){t.exports='<div><router-link v-if="notification.type == \'ticket_new\'" :to="getTicketRoute(notification.ticket)">В системе зарегистрирована новая заявка №{{notification.ticket.number}}</router-link><router-link v-if="notification.type == \'ticket_closed\'" :to="getTicketRoute(notification.ticket)">Заявка №{{notification.ticket.number}} закрыта</router-link><router-link v-if="notification.type == \'ticket_message\'" :to="getTicketRoute(notification.ticket)">В заявке №{{notification.ticket.number}} создано новое сообщение</router-link><router-link v-if="notification.type == \'ticket_manager_set\'" :to="getTicketRoute(notification.ticket)">По заявке №{{notification.ticket.number}} установлен ответственный - {{notification.ticketManager.name}}</router-link><router-link v-if="notification.type == \'service_activated\'" :to="{name: \'cabinet_service_page\', params: {service: notification.service.id}}"><template v-if="notification.tariff">Подключена дополнительная услуга {{notification.service.title}} (тариф: {{notification.tariff.title}})</template><template v-if="!notification.tariff">Услуга {{notification.service.title}} успешно активирована</template></router-link><div v-if="notification.type == \'incoming_call\'">Входящий звонок с телефонного номера: {{notification.callerId}}. <span v-if="notification.comment"><br><strong>Комментарий менеджера:</strong> {{notification.comment}}</span></div></div>'},function(t,e){t.exports='<div class="x_panel"><div class="x_title" @click="toggle"><h2>{{title}}</h2><ul class="nav navbar-right panel_toolbox"><li><slot name="buttons"></slot></li><li><a class="collapse-link"><i :class="{\'fa\': true, \'fa-chevron-up\': visible, \'fa-chevron-down\': !visible}"></i></a></li></ul><div class="clearfix"></div></div><div class="x_content" ref="content" :style="{display: visible ? \'block\' : \'none\'}"><slot></slot></div></div>'},function(t,e){t.exports='<div v-if="service"><div v-if="!serviceIsActivated" class="x_panel"><div class="x_title"><h2>{{service.title}}</h2><div class="clearfix"></div></div><div class="x_content"><p v-html="service.description"></p><form @submit.prevent="activateService"><div class="form-group col-md-6 col-xs-12" v-if="serviceHasTariff" :class="{\'has-error\': errors.has(\'selectedTariff\')}"><label>Выберите тариф</label><select class="form-control" name="selectedTariff" v-model="selectedTariff" v-validate="\'required\'"><option></option><option v-for="tariff in service.tariff" :value="tariff.id">{{tariff.title}} ({{tariff.monthlyCost}} руб./мес.)</option></select></div><div class="form-group col-md-2 col-xs-12"><label>&nbsp;&nbsp;</label><button type="submit" v-if="!serviceHasTariff" class="btn btn-primary">Воспользоваться услугой</button> <button type="submit" v-if="serviceHasTariff" class="form-control btn btn-success">Подключить услугу</button></div></form></div></div><div v-if="serviceIsActivated" class="x_panel"><template v-if="ticketCategory" v-need-role="\'customer\'"><div class="x_title"><div class="pull-left x_title_button"><h2>Открытые заявки</h2></div><div class="pull-left x_title_button" v-need-user-type="\'customer\'"><a href="#" @click.prevent="toggledTicketForm = !toggledTicketForm" class="collapse-link btn btn-primary"><i class="fa" :class="{\'fa-toggle-down\': !toggledTicketForm, \'fa-toggle-up\': toggledTicketForm}"></i> Новая заявка</a></div><div class="clearfix"></div></div><div class="x_content" v-if="toggledTicketForm"><ticket-form :category="ticketCategory" @saved="ticketSaved" @cancel="toggledTicketForm = false"></ticket-form></div><div class="x_content"><ticket-table :service="service" :category="ticketCategory"></ticket-table></div></template><div class="x_title"><a href="#" @click.prevent="toggleDescription"><h2>Описание услуги<template v-if="serviceHasTariff">/ Сменить тариф</template></h2></a><div class="clearfix"></div></div><div class="x_content"><p v-html="service.description" ref="description" style="display: none"></p></div></div></div>'},function(t,e){t.exports='<div><div class="x_panel"><div class="x_title"><h2 v-if="ticket">{{category ? category.name : \'\'}} #{{ticket.number}}</h2><ul class="navbar-right panel_toolbox"><li><router-link :to="categoryRoute" v-if="service"><small>Обратно в {{service.title}}</small></router-link></li></ul><div class="clearfix"></div></div><div class="row"><ticket-history v-if="ticket && details" :ticket="ticket" :details="details"></ticket-history></div></div><x-panel ref="message-panel" :title="\'Оставить сообщение / Закрыть заявку\'" :toggled="false" @on-toggled="showMessageForm = $event"><div slot><message-form v-if="showMessageForm" @ticket-changed="updateData" :category="category" :ticket="ticket"></message-form></div></x-panel></div>'},function(t,e){t.exports='<div><div class="x_panel"><div class="x_title"><h2 v-if="ticket">{{category ? category.name : \'\'}} #{{ticket.number}}</h2><ul class="navbar-right panel_toolbox"><li><router-link :to="categoryRoute"><small>Обратно в список заявок</small></router-link></li></ul><div class="clearfix"></div></div><div class="row"><ticket-history v-if="ticket && details" :ticket="ticket" :details="details"></ticket-history></div></div><x-panel ref="message-panel" :title="\'Оставить сообщение / Закрыть заявку\'" :toggled="false" @on-toggled="showMessageForm = $event"><div slot><message-form v-if="showMessageForm" @ticket-changed="updateData" :category="category" :ticket="ticket"></message-form></div></x-panel></div>'},function(t,e){t.exports='<div><div class="x_panel"><div class="x_title"><h2>Новая заявка <span v-if="category && category.id">в очередь {{category.name}}</span><router-link :to="categoryRoute"><small>Обратно в список заявок</small></router-link></h2><div class="clearfix"></div></div><div class="row"><ticket-form v-if="category" :category-route="categoryRoute" :category="category" @saved="saved" @cancel="cancel"></ticket-form></div></div></div>'},function(t,e){t.exports='<div><div class="x_panel"><div class="x_title"><div class="pull-left x_title_button" v-need-user-type="\'customer\'"><router-link :to="createRoute" :class="{\'collapse-link btn btn-primary\': true}"><i class="fa fa-plus"></i> Новая заявка</router-link></div><div class="clearfix"></div></div><div class="row"><ticket-table v-if="category" :category="category"></ticket-table></div></div></div>'},function(t,e){t.exports='<div class="container body" v-if="userData && isAuth"><div class="main_container"><div ref="left-col" class="col-md-3 left_col"><div class="left_col scroll-view"><div class="navbar nav_title" style="border: 0"><router-link :to="{\'name\': \'dashboard\'}" :class="{\'site_title\': true}"><span>Интранет</span></router-link></div><div class="clearfix"></div><div class="main_menu_side hidden-print main_menu"><side-bar-menu :items="sideBarMenu"></side-bar-menu></div><div class="sidebar-footer hidden-small"><a data-toggle="tooltip" data-placement="top" title="Settings"><span class="glyphicon glyphicon-cog" aria-hidden="true"></span> </a><a data-toggle="tooltip" data-placement="top" title="FullScreen"><span class="glyphicon glyphicon-fullscreen" aria-hidden="true"></span> </a><a data-toggle="tooltip" data-placement="top" title="Lock"><span class="glyphicon glyphicon-eye-close" aria-hidden="true"></span> </a><a data-toggle="tooltip" @click="logout" data-placement="top" title="Logout"><span class="glyphicon glyphicon-off" aria-hidden="true"></span></a></div></div></div><div class="top_nav"><div class="nav_menu"><nav class="" role="navigation"><div class="nav toggle"><a href="#" @click="toggleMenu"><i class="fa fa-bars"></i></a></div><div class="nav navbar-nav navbar-left" v-if="pageTitle"><h3>{{pageTitle}}</h3></div><ul class="nav navbar-nav navbar-right"><li class=""><a href="javascript:;" class="user-profile dropdown-toggle" data-toggle="dropdown" aria-expanded="false"><img src="images/img.jpg" alt="">{{userData.name}} <span class="fa fa-angle-down"></span></a><ul class="dropdown-menu dropdown-usermenu pull-right"><li><a href="javascript:;">Profile</a></li><li><a href="javascript:;"><span class="badge bg-red pull-right">50%</span> <span>Settings</span></a></li><li><a href="javascript:;">Help</a></li><li><a href="#" @click="logout"><i class="fa fa-sign-out pull-right"></i> Log Out</a></li></ul></li><li v-if="notifications.length > 0" role="presentation" class="dropdown"><a href="javascript:;" class="dropdown-toggle info-number" data-toggle="dropdown" aria-expanded="false" title="Просмотреть уведомления"><i class="fa fa-envelope-o"></i> <span class="badge bg-green" v-if="unreadNotifications > 0">{{unreadNotifications}}</span></a><div class="dropdown-menu list-unstyled msg_list" role="menu" v-custom-scrollbar="readAllNotifications"><div v-for="item in notifications" class="list-item"><div class="item"><div class="image"><img src="images/img.jpg" alt="Profile Image"></div><div v-if="item.author">{{item.author.name}}</div><div class="message"><notification-message :notification="item"></notification-message></div><div class="time">{{item.createdAt | dateFormat}}</div></div></div></div></li><li v-if="notifications.length == 0" role="presentation" class="dropdown"><a href="javascript:;" class="dropdown-toggle info-number" data-toggle="dropdown" aria-expanded="false" title="Новых уведомлений нет"><i class="fa fa-envelope-o"></i></a><div class="dropdown-menu list-unstyled msg_list" role="menu"><div class="list-item"><div class="item"><div class="message">Новых уведомлений нет</div></div></div></div></li></ul></nav></div></div><div ref="right-col" class="right_col" role="main"><div><div class="clearfix"></div><router-view></router-view></div></div></div></div>'},function(t,e){t.exports='<form @submit.prevent="submit" @input="errorMessage = \'\'"><loader :visible="awaitOfSubmit"></loader><div slot="body" class="modal-body"><div class="alert alert-danger" v-if="errorMessage">{{errorMessage}}</div><div class="form-group" :class="{\'has-error\': errors.has(\'name\')}"><label class="control-label">Название</label><input type="text" v-validate="\'required|max:100\'" name="name" v-model="customerData.name" class="form-control"><p class="help-block" v-if="errors.has(\'name\')">{{errors.first(\'name\')}}</p></div><div class="form-group" :class="{\'has-error\': errors.has(\'currentAgreement\')}"><label class="control-label">Номер договора</label><input type="text" v-validate="\'required|max:100\'" name="currentAgreement" v-model="customerData.currentAgreement" class="form-control"><p class="help-block" v-if="errors.has(\'currentAgreement\')">{{errors.first(\'currentAgreement\')}}</p></div><div class="clearfix"></div></div><div class="modal-footer" slot="footer"><button type="button" @click.prevent="remove" class="btn btn-danger" v-if="customerId">Удалить</button> <button type="submit" class="btn btn-primary">Сохранить</button></div></form>'},function(t,e){t.exports='<div><div class="x_panel"><div class="x_title"><h2>Список арендаторов</h2><ul class="navbar-right panel_toolbox"><li><a @click.prevent="openDialog(null)" class="collapse-link btn btn-primary"><i class="fa fa-plus"></i> Добавить</a></li></ul><div class="clearfix"></div></div><div class="row"><div class="col-sm-12"><table ref="table" class="table table-striped projects"><thead><tr><th>Название</th><th>Договор</th><th>Количество пользователей</th></tr></thead><tbody><tr v-for="customer in list" style="cursor: pointer" @click="openDialog(customer)"><td>{{customer.name}}</td><td>{{customer.currentAgreement}}</td><td>0</td></tr></tbody></table></div></div></div><modal-window ref="modal-window" @hide="viewForm = false; currentCustomer = null;" :title="currentCustomer ? \'Редактирование арендатора\' : \'Создание арендатора\'"><div slot="body" v-if="viewForm"><customer-form :customer="currentCustomer" @customer:remove="removedCustomer" @customer:new="newCustomer" @customer:updated="updatedCustomer"></customer-form></div></modal-window></div>'},function(t,e){t.exports='<form @submit.prevent="submit" @input="errorMessage = \'\'"><loader :visible="awaitOfSubmit"></loader><div class="modal-body"><div class="alert alert-danger" v-if="errorMessage">{{errorMessage}}</div><div class="form-group"><label class="control-label col-md-5 col-sm-5 col-xs-12">Помещение</label><div class="col-md-6 col-sm-6 col-xs-12"><span>{{room.title}}</span></div><div class="clearfix"></div></div><div class="form-group"><label class="control-label col-md-5 col-sm-5 col-xs-12">Режим работы на {{dateFormatted}}</label><div class="col-md-12"><template v-if="schedule">с {{schedule.from}} по {{schedule.to}}, &nbsp;перерыв:&nbsp;<template v-if="scheduleBreak">с {{scheduleBreak.from}} по {{scheduleBreak.to}}</template><template v-else>без перерыва</template></template><template v-else>не работает</template></div><div class="clearfix"></div></div><div class="form-group"><label class="control-label col-md-5 col-sm-5 col-xs-12">Дата заявки</label><div class="col-md-6 col-sm-6 col-xs-12"><span>{{date}}</span></div><div class="clearfix"></div></div><div class="form-group" :class="{\'has-error\': errors.has(\'timeFrom\')}"><label class="control-label col-md-5 col-sm-5 col-xs-12">Время начала бронирования</label><div class="col-md-6 col-sm-6 col-xs-12"><time-picker v-if="timeFrom" :min-time="schedule && schedule.from ? schedule.from : null" :max-time="schedule && schedule.to ? schedule.to : null" :time="timeFrom" @set-time="timeFrom = $event"></time-picker></div><input type="hidden" v-model="timeFrom" name="timeFrom" v-validate="\'required\'"><div class="clearfix"></div><p class="help-block" v-if="errors.has(\'timeFrom\')">{{errors.first(\'timeFrom\')}}</p></div><div class="form-group" :class="{\'has-error\': errors.has(\'timeTo\')}"><label class="control-label col-md-5 col-sm-5 col-xs-12">Время окончания бронирования</label><div class="col-md-6 col-sm-6 col-xs-12"><time-picker v-if="timeTo" :min-time="schedule && schedule.from ? schedule.from : null" :max-time="schedule && schedule.to ? schedule.to : null" :time="timeTo" @set-time="timeTo = $event"></time-picker></div><input type="hidden" v-model="timeTo" name="timeTo" v-validate="\'required\'"><div class="clearfix"></div><p class="help-block" v-if="errors.has(\'timeTo\')">{{errors.first(\'timeTo\')}}</p></div><div class="form-group" :class="{\'has-error\': errors.has(\'customerComment\')}"><label class="control-label">Комментарий</label><textarea v-model="customerComment" name="customerComment" class="form-control" v-validate="\'max:200\'"></textarea><p class="help-block" v-if="errors.has(\'customerComment\')">{{errors.first(\'customerComment\')}}</p></div></div><div class="modal-footer" slot="footer"><button type="submit" class="btn btn-primary">Сохранить</button></div></form>'},function(t,e){t.exports='<div><div class="col-xs-12"><div class="x_panel"><div class="x_title" v-if="room"><h2>Календарь: {{room.title}}</h2><ul class="navbar-right panel_toolbox"><li><router-link :to="{name: \'manager_room_list\'}"><small>Обратно в список помещений</small></router-link></li></ul><div class="clearfix"></div></div><div class="x_content"><div ref="calendar"></div></div></div></div><div class="clearfix"></div><modal-window ref="create-request-modal" title="Забронировать помещение"><div slot="body"><create-request v-if="viewCreateForm" :from="createFrom" :to="createTo" :room="room"></create-request></div></modal-window></div>'},function(t,e){t.exports='<div class="x_panel"><div class="x_title"><h2 v-if="!inputRoom">Новое помещение</h2><h2 v-if="inputRoom">Редактирование помещения</h2><div class="clearfix"></div></div><div class="x_content"><form @submit.prevent="submit"><loader :visible="awaitOfSubmit"></loader><div class="alert alert-danger" v-if="errorMessage">{{errorMessage}}</div><tabs><tab-pane label="Описание" :has-error="hasCommonError"><div class="form-group" :class="{\'has-error\': errors.has(\'type\')}"><label class="control-label">Тип помещения</label><select class="form-control" name="type" v-model="room.type" v-validate="\'required\'"><option value="meeting">Переговорка</option><option value="conference">Конференц-зал</option></select><p class="help-block" v-if="errors.has(\'type\')">{{errors.first(\'type\')}}</p></div><div class="form-group" :class="{\'has-error\': errors.has(\'title\')}"><label class="control-label">Заголовок</label><input class="form-control" v-model="room.title" v-validate="\'required|max:100\'" name="title"><p class="help-block" v-if="errors.has(\'title\')">{{errors.first(\'title\')}}</p></div><div class="form-group" :class="{\'has-error\': errors.has(\'hourlyCost\')}"><label class="control-label">Стоимость аренды в час</label><input class="form-control" v-model="room.hourlyCost" v-validate="\'required|numeric|min_value:1\'" name="hourlyCost"><p class="help-block" v-if="errors.has(\'hourlyCost\')">{{errors.first(\'hourlyCost\')}}</p></div><div class="form-group" :class="{\'has-error\': errors.has(\'description\')}"><label class="control-label">Описание</label><textarea rows="5" class="form-control" v-model="room.description" v-validate="\'max:1000\'" name="description"></textarea><p class="help-block" v-if="errors.has(\'description\')">{{errors.first(\'description\')}}</p></div><div class="form-group" :class="{\'has-error\': errors.has(\'address\')}"><label class="control-label">Месторасположение</label><textarea rows="2" class="form-control" v-model="room.address" v-validate="\'max:255\'" name="address"></textarea><p class="help-block" v-if="errors.has(\'address\')">{{errors.first(\'address\')}}</p></div></tab-pane><tab-pane label="Режим работы" :has-error="hasScheduleError"><table class="table" v-if="room.schedule.length > 0"><thead><tr><th>День недели</th><th></th><th>Диапазон в формате ЧЧ:ММ</th></tr></thead><tbody><tr v-for="(item, index) in room.schedule" class="form-group" :class="{\'has-error\': hasScheduleItemError(index)}"><td><label class="control-label">{{getWeekDay(index)}}</label></td><td><input v-model="item[0].avail" :name="\'scheduleAvail\' + index" type="checkbox"></td><td><template v-if="item[0].avail"><input type="text" class="form-control" v-model="item[0].from" style="display: inline; width: 70px" maxlength="5" v-validate="\'required\'" :name="\'scheduleFrom\' + index"> &mdash; <input type="text" class="form-control" v-model="item[0].to" style="display: inline; width: 70px" maxlength="5" v-validate="\'required\'" :name="\'scheduleTo\' + index"></template></td></tr><tr class="form-group" :class="{\'has-error\': errors.has(\'scheduleBreakFrom\') || errors.has(\'scheduleBreakTo\')}" v-if="room.scheduleBreak.length"><td><label class="control-label">Перерыв</label></td><td><input v-model="room.scheduleBreak[0].avail" name="scheduleBreakAvail" type="checkbox"></td><td><template v-if="room.scheduleBreak[0].avail"><input type="text" v-model="room.scheduleBreak[0].from" v-validate="\'required\'" name="scheduleBreakFrom" class="form-control" style="display: inline; width: 70px" maxlength="5"> &mdash; <input type="text" v-model="room.scheduleBreak[0].to" v-validate="\'required\'" name="scheduleBreakTo" class="form-control" style="display: inline; width: 70px" maxlength="5"></template></td></tr></tbody></table></tab-pane><tab-pane label="Праздничные дни" :has-error="errors.has(\'holidays\')"><p>Выберите рабочие дни, в которые помещение не будет работать.</p><calendar-chooser :mark-days="room.holidays" @mark-day="addHoliday" @unmark-day="removeHoliday"></calendar-chooser></tab-pane><tab-pane label="Перенесённые выходные" :has-error="errors.has(\'workWeekends\')"><p>Выберите выходные дни, в которые помещение будет работать.</p><calendar-chooser :mark-days="room.workWeekends" @mark-day="addWorkWeekend" @unmark-day="removeWorkWeekend"></calendar-chooser></tab-pane></tabs><div class="col-md-12"><button type="submit" class="btn btn-primary">Сохранить</button> <button type="button" class="btn btn-default" @click.prevent="cancel">Отмена</button></div></form></div></div>'},function(t,e){t.exports='<div><div class="col-xs-12" :class="{\'col-md-4 col-sm-4\': viewForm}"><div class="x_panel"><div class="x_title"><h2>Список помещений</h2><ul class="navbar-right panel_toolbox"><li><button @click="openForm(null)" type="button" class="collapse-link btn btn-primary"><i class="fa fa-plus"></i> Добавить</button></li></ul><div class="clearfix"></div></div><div class="x_content"><table ref="table" class="table table-striped projects"><tbody><tr v-for="room in list" style="cursor: pointer" @click.prevent="openForm(room)"><td><strong>{{room.title}}</strong><br>{{room.address}}</td><td style="text-align: right"><router-link :to="{name: \'manager_room_calendar\', params: {id: room.id}}"><i class="fa fa-calendar"></i> Календарь</router-link></td></tr><tr v-if="list.length == 0"><td class="empty-table-row" colspan="2"><p>Отсутствуют помещения для отображения</p><button @click="openForm(null)" type="button" class="btn btn-primary"><i class="fa fa-plus"></i> Добавить</button></td></tr></tbody></table></div></div></div><div class="col-xs-12 col-md-8 col-sm-8" v-if="viewForm"><room-form :input-room="currentItem" @cancel="viewForm = false" @created="roomCreated" @updated="roomUpdated"></room-form></div><div class="clearfix"></div></div>'},function(t,e){t.exports='<form @submit.prevent="submit()" @input="errorMessage = \'\'"><loader :visible="awaitOfSubmit"></loader><div class="modal-body" v-if="errorMessage"><div class="alert alert-danger">{{errorMessage}}</div></div><tabs :in-modal-window="true" ref="tabs"><tab-pane label="Описание" :has-error="errors.has(\'serviceId\') || errors.has(\'serviceTitle\') || errors.has(\'serviceDescription\') || errors.has(\'serviceIsActive\') || errors.has(\'serviceCustomerRole\')"><div class="form-group col-xs-12" :class="{\'has-error\': errors.has(\'serviceIsActive\')}"><label><input type="checkbox" v-model="service.isActive" name="serviceIsActive"> Услуга активна</label><p class="help-block" v-if="errors.has(\'serviceIsActive\')">{{errors.first(\'serviceIsActive\')}}</p></div><div class="form-group col-md-6" :class="{\'has-error\': errors.has(\'serviceId\')}"><label class="control-label">Код услуги</label><input type="text" v-validate="\'required|max:50\'" class="form-control" v-model="service.id" name="serviceId"><p class="help-block" v-if="errors.has(\'serviceId\')">{{errors.first(\'serviceId\')}}</p></div><div class="form-group col-md-6" :class="{\'has-error\': errors.has(\'serviceTitle\')}"><label class="control-label">Заголовок услуги</label><input type="text" v-validate="\'required|max:50\'" class="form-control" v-model="service.title" name="serviceTitle"><p class="help-block" v-if="errors.has(\'serviceTitle\')">{{errors.first(\'serviceTitle\')}}</p></div><div class="form-group col-xs-12" :class="{\'has-error\': errors.has(\'serviceCustomerRole\')}"><label class="control-label">Роль арендатора, дающая право пользоваться услугой:</label><select class="form-control" name="serviceCustomerRole" v-model="service.customerRole"><option value=""></option><option v-for="role in customerRoles" :value="role">{{rolesLabels[role]}}</option></select></div><div class="form-group col-xs-12" :class="{\'has-error\': errors.has(\'serviceDescription\')}"><label class="control-label">Описание</label><br><textarea class="form-control" rows="10" v-validate="\'max:1000\'" v-model="service.description" name="serviceDescription"></textarea><p class="help-block" v-if="errors.has(\'serviceDescription\')">{{errors.first(\'serviceDescription\')}}</p></div><div class="clearfix"></div></tab-pane><tab-pane label="Тарифы" :has-error="errors.any()"><button class="btn btn-primary" @click.prevent="addTariff()"><i class="fa fa-plus"></i> Добавить тариф</button><table class="table" v-if="service.tariff.length > 0"><thead><tr><th></th><th>Заголовок</th><th>Стоимость в месяц</th><th></th></tr></thead><tbody><tr v-for="(tariff, index) in service.tariff"><td><div class="form-group" :class="{\'has-error\': errors.has(\'tariffIsActive\' + index)}"><label><input type="checkbox" v-model="tariff.isActive" :name="\'tariffIsActive\' + index"></label></div></td><td><div class="form-group" :class="{\'has-error\': errors.has(\'tariffTitle\' + index)}"><input type="text" class="form-control" v-model="tariff.title" v-validate="\'required|max:50\'" :name="\'tariffTitle\' + index"><p class="help-block" v-if="errors.has(\'tariffTitle\' + index)"><small>{{errors.first(\'tariffTitle\' + index)}}</small></p></div></td><td><div class="form-group" :class="{\'has-error\': errors.has(\'tariffMonthlyCost\' + index)}"><input type="text" class="form-control" v-model="tariff.monthlyCost" v-validate="\'required|decimal\'" :name="\'tariffMonthlyCost\' + index"><p class="help-block" v-if="errors.has(\'tariffMonthlyCost\' + index)"><small>{{errors.first(\'tariffMonthlyCost\' + index)}}</small></p></div></td><td><button class="btn btn-danger" @click.prevent="removeTariff(index)"><i class="fa fa-trash"></i></button></td></tr></tbody></table></tab-pane><div class="modal-footer" slot="footer"><button type="button" class="btn btn-danger" @click.prevent="remove" v-if="existent">Удалить</button> <button type="submit" class="btn btn-primary">Сохранить</button></div></tabs></form>'},function(t,e){t.exports='<div><div class="x_panel"><div class="x_title"><h2>Список дополнительных услуг</h2><ul class="navbar-right panel_toolbox"><li><a @click.prevent="openDialog(null)" class="collapse-link btn btn-primary"><i class="fa fa-plus"></i> Добавить</a></li></ul><div class="clearfix"></div></div><div class="row"><div class="col-md-12"><tabs><tab-pane label="Активные"><table class="table"><thead><tr><th>Код</th><th>Название</th><th>Тариф</th></tr></thead><tbody><template v-for="item in list" v-if="item.isActive"><tr style="vertical-align: top; cursor: pointer" @click="openDialog(item)"><td>{{item.id}}</td><th>{{item.title}}</th><td><template v-for="tariff in item.tariff"><span :class="{\'disabled\': !tariff.isActive}">{{tariff.title}}: {{tariff.monthlyCost}} руб/мес</span><br></template></td></tr></template></tbody></table></tab-pane><tab-pane label="Неактивные" v-if="hasInactive"><table class="table"><thead><tr><th>Код</th><th>Название</th><th>Тариф</th></tr></thead><tbody><template v-for="item in list" v-if="!item.isActive"><tr style="vertical-align: top; cursor: pointer" @click="openDialog(item)"><td>{{item.id}}</td><th>{{item.title}}</th><td><template v-for="tariff in item.tariff"><span :class="{\'disabled\': !tariff.isActive}">{{tariff.title}}: {{tariff.monthlyCost}} руб/мес</span><br></template></td></tr></template></tbody></table></tab-pane></tabs></div></div></div><modal-window ref="modal-window" @hide="viewForm = false; currentService = null;" :title="currentService ? \'Редактирование услуги\' : \'Создание услуги\'"><div slot="body" v-if="viewForm"><service-form :input-service="currentService" @service:new="newService" @service:updated="updatedService" @service:removed="removedService"></service-form></div></modal-window></div>'},function(t,e){t.exports='<div><div class="x_panel"><div class="x_title"><h2 v-if="ticket">{{category ? category.name : \'\'}} #{{ticket.number}}</h2><ul class="navbar-right panel_toolbox"><li><router-link :to="categoryRoute"><small>Обратно в список заявок</small></router-link></li></ul><div class="clearfix"></div></div><div class="row"><ticket-history v-if="ticket && details" :ticket="ticket" :details="details"></ticket-history></div></div><x-panel ref="message-panel" :title="\'Оставить сообщение / Закрыть заявку\'" :toggled="false" @on-toggled="showMessageForm = $event"><div slot><message-form v-if="showMessageForm" @ticket-changed="updateData" :category="category" :ticket="ticket"></message-form></div></x-panel></div>'},function(t,e){t.exports='<div><div class="x_panel"><div class="x_title"><dropdown display-prop="name" :item="category" :items="categories" @select="selectCategory"></dropdown><div class="clearfix"></div></div><div class="row"><ticket-table v-if="category" :category="category"></ticket-table></div></div></div>'},function(t,e){t.exports='<form @submit.prevent="submit" @input="errorMessage = \'\'"><loader :visible="awaitOfSubmit"></loader><div class="modal-body" v-if="errorMessage"><div class="alert alert-danger">{{errorMessage}}</div></div><tabs :in-modal-window="true" ref="tabs"><tab-pane label="Основное" :has-error="errors.has(\'status\') || errors.has(\'name\') || errors.has(\'email\') || errors.has(\'type\') || errors.has(\'password\')"><div class="form-group" :class="{\'has-error\': errors.has(\'status\')}" v-if="userId"><label class="control-label">Статус</label><select v-model="userData.status" v-validate="\'required\'" name="status" class="form-control"><option value="1">Активен</option><option value="-1">Заблокирован</option></select><p class="help-block" v-if="errors.has(\'status\')">{{errors.first(\'status\')}}</p></div><div class="form-group" :class="{\'has-error\': errors.has(\'name\')}"><label class="control-label">Имя</label><input type="text" v-validate="\'required|max:100\'" name="name" v-model="userData.name" class="form-control"><p class="help-block" v-if="errors.has(\'name\')">{{errors.first(\'name\')}}</p></div><div class="form-group" :class="{\'has-error\': errors.has(\'email\')}"><label class="control-label">E-mail</label><input type="text" v-validate="\'required|max:100|email\'" name="email" v-model="userData.email" class="form-control"><p class="help-block" v-if="errors.has(\'email\')">{{errors.first(\'email\')}}</p></div><div class="form-group" :class="{\'has-error\': errors.has(\'type\')}"><label class="control-label">Тип</label><select v-model="userData.userType" v-validate="\'required\'" name="type" class="form-control" @change="roles = []"><option value="customer">Арендатор</option><option value="manager">Сотрудник</option></select><p class="help-block" v-if="errors.has(\'type\')">{{errors.first(\'type\')}}</p></div><div class="form-group" :class="{\'has-error\': errors.has(\'password\')}" v-if="!userId"><label class="control-label">Пароль</label><div class="input-group"><input type="text" v-validate="\'required|min:6\'" name="password" v-model="password" class="form-control"> <span class="input-group-btn"><button class="btn btn-primary" @click.prevent="generatePassword">Сгенерировать</button></span></div><p class="help-block" v-if="errors.has(\'password\')">{{errors.first(\'password\')}}</p></div></tab-pane><tab-pane label="Роли" :has-error="errors.has(\'rolesStr\')"><div class="form-group" :class="{\'has-error\': errors.has(\'rolesStr\')}"><p class="help-block" v-if="errors.has(\'rolesStr\')">Необходимо выбрать хотя бы одну роль</p><input type="hidden" name="rolesStr" v-model="rolesStr" v-validate="\'required\'"><div v-for="(children, role) in rolesHierarchy" v-if="rolesByUserType[userData.userType] && rolesByUserType[userData.userType].indexOf(role) != -1"><label style="font-weight: bold"><input type="checkbox" name="roles[]" :value="role" @click="chooseParentRole(role)" v-model="roles">&nbsp;&nbsp;{{rolesLabels[role]}}</label><div v-if="roles.indexOf(role) == -1"><div v-for="childRole in children" style="padding-left: 20px"><label style="font-weight: normal"><input type="checkbox" name="roles[]" :value="childRole" v-model="roles">&nbsp;&nbsp;{{rolesLabels[childRole]}}</label></div></div></div></div></tab-pane><tab-pane label="Арендатор" :has-error="errors.has(\'customerId\') || errors.has(\'customerName\') || errors.has(\'customerAgreement\')" :visible="customer && userData.userType == \'customer\'"><div class="form-group" :class="{\'has-error\': errors.has(\'customerId\')}"><label class="control-label">Выберите арендатора</label><select v-model="customerId" v-validate="\'required\'" name="customerId" class="form-control"><option value="0">Новый арендатор</option><option v-for="customer in customers" v-if="customer" :value="customer.id">{{customer.name}}</option></select></div><div class="form-group" :class="{\'has-error\': errors.has(\'customerName\')}"><label class="control-label">Название</label><input class="form-control" v-validate="\'required|max:100\'" type="text" v-model="customer.name" name="customerName"><p class="help-block" v-if="errors.has(\'customerName\')">{{errors.first(\'customerName\')}}</p></div><div class="form-group" :class="{\'has-error\': errors.has(\'customerAgreement\')}"><label class="control-label">Текущий договор</label><input class="form-control" v-validate="\'required|max:100\'" type="text" v-model="customer.currentAgreement" name="customerAgreement"><p class="help-block" v-if="errors.has(\'customerAgreement\')">{{errors.first(\'customerAgreement\')}}</p></div><div class="clearfix"></div></tab-pane><div class="modal-footer" slot="footer"><button type="button" @click.prevent="remove" class="btn btn-danger" v-if="userId">Удалить</button> <button type="submit" class="btn btn-primary">Сохранить</button></div></tabs></form>'},function(t,e){t.exports='<div><div class="x_panel"><div class="x_title"><h2>Список пользователей</h2><ul class="navbar-right panel_toolbox"><li><a @click.prevent="openDialog(null)" class="collapse-link btn btn-primary"><i class="fa fa-plus"></i> Добавить</a></li></ul><div class="clearfix"></div></div><div class="row"><div class="col-sm-12"><table ref="table" class="table table-striped projects"><thead><tr><th>Имя</th><th>E-mail</th><th>Тип</th><th>Арендатор</th><th>Статус</th></tr></thead><tbody><tr v-for="user in list" style="cursor: pointer" @click="openDialog(user)"><td>{{user.name}}</td><td>{{user.email}}</td><td>{{user.userType == \'manager\' ? \'Сотрудник\' : \'Арендатор\'}}</td><td>{{user.customer ? user.customer.name : \'\'}}</td><td>{{user.status == 1 ? \'Активен\' : \'Заблокирован\'}}</td></tr></tbody></table></div></div></div><modal-window ref="modal-window" @hide="viewForm = false; currentUser = null;" :title="currentUser ? \'Редактирование пользователя\' : \'Создание пользователя\'"><div slot="body" v-if="viewForm"><user-form :user="currentUser" @user:remove="removedUser" @user:new="newUser" @user:updated="updatedUser"></user-form></div></modal-window></div>'},function(t,e){t.exports='<div class="animate form login_form"><section class="login_content"><loader v-bind:visible="awaitOfSubmit"></loader><form @submit="login" @input="errorMessage = \'\'" novalidate><h1>Вход</h1><div class="alert alert-danger" v-if="errorMessage">{{errorMessage}}</div><div :class="{\'has-error\': errors.has(\'username\')}"><input v-model="username" v-validate="\'required|email\'" name="username" data-vv-as="Логин" type="text" class="form-control" placeholder="Логин (e-mail)"><p class="help-block" v-if="errors.has(\'username\')">{{errors.first(\'username\')}}</p></div><div :class="{\'has-error\': errors.has(\'password\')}"><input v-model="password" v-validate="\'required\'" name="password" data-vv-as="Пароль" type="password" class="form-control" placeholder="Пароль"><p class="help-block" v-if="errors.has(\'password\')">{{errors.first(\'password\')}}</p></div><div><button type="submit" class="btn btn-default submit">Войти</button> <a class="reset_pass" href="#remember">Забыли пароль?</a></div><div class="clearfix"></div></form></section></div>'},function(t,e){t.exports='<div class="animate form remember_password_form"><section class="login_content"><loader v-bind:visible="awaitOfSubmit"></loader><form @submit="remember" @input="errorMessage = \'\'" novalidate><h1>Забыли пароль?</h1><div v-if="!success"><div><p>Для восстановления пароля введите свой e-mail:</p></div><div class="alert alert-danger" v-if="errorMessage">{{errorMessage}}</div><div :class="{\'has-error\': errors.has(\'email\')}"><input type="text" class="form-control" name="email" v-model="email" data-vv-as="E-mail" v-validate="\'required|email\'" placeholder="Ваш e-mail"><p class="help-block" v-if="errors.has(\'email\')">{{errors.first(\'email\')}}</p></div><div><button class="btn btn-default submit" type="submit">Отправить</button></div></div><div v-if="success"><p>На ваш e-mail <strong>{{email}}</strong> отправлено письмо с инструкцией о восстановлении пароля.</p></div></form><div class="clearfix"></div><div class="separator"><p class="change_link"><a href="#signin" class="to_register">Вход</a></p><div class="clearfix"></div></div></section></div>'},function(t,e){t.exports='<div><div class="login_wrapper"><div class="form login_form"><section class="login_content"><loader v-bind:visible="awaitOfSubmit"></loader><form @submit="changePassword" @input="errorMessage = \'\'" novalidate><h1>Изменение пароля</h1><div v-if="!success"><div class="alert alert-danger" v-if="errorMessage">{{errorMessage}}</div><div :class="{\'has-error\': errors.has(\'password\')}"><input v-model="password" v-validate="\'required\'" name="password" data-vv-as="Введите новый пароль" type="password" class="form-control" placeholder="Новый пароль"><p class="help-block" v-if="errors.has(\'password\')">{{errors.first(\'password\')}}</p></div><div><button type="submit" class="btn btn-default submit">Изменить пароль</button></div></div><div v-if="success"><p><strong>Пароль успешно изменен.</strong></p><p>Теперь вы можете&nbsp;<router-link :to="{\'name\': \'login\'}">войти</router-link>&nbsp; в свой личный кабинет.</p></div><div class="clearfix"></div></form></section></div></div></div>'},function(t,e){t.exports='<div><a class="hiddenanchor" id="remember"></a> <a class="hiddenanchor" id="signin"></a><div class="login_wrapper"><login-form></login-form><remember-password-form></remember-password-form></div></div>'},function(t,e){t.exports='<div><div class="loading loading-page" :class="{\'visible\': pageLoader}"></div><router-view></router-view><flash-notifications></flash-notifications><manager-incoming-call-window v-if="userType == \'manager\'"></manager-incoming-call-window></div>'},function(t,e,r){(function(t,e){var o;!function(o){"use strict";function n(t,e,r,o){if(P(r)){if(!D(t))throw new TypeError;if(!B(e))throw new TypeError;return h(t,e)}if(!D(t))throw new TypeError;if(!A(e))throw new TypeError;if(!A(o)&&!P(o)&&!T(o))throw new TypeError;return T(o)&&(o=void 0),r=E(r),m(t,e,r,o)}function i(t,e){function r(r,o){if(!A(r))throw new TypeError;if(!P(o)&&!L(o))throw new TypeError;k(t,e,r,o)}return r}function a(t,e,r,o){if(!A(r))throw new TypeError;return P(o)||(o=E(o)),k(t,e,r,o)}function s(t,e,r){if(!A(e))throw new TypeError;return P(r)||(r=E(r)),y(t,e,r)}function c(t,e,r){if(!A(e))throw new TypeError;return P(r)||(r=E(r)),g(t,e,r)}function u(t,e,r){if(!A(e))throw new TypeError;return P(r)||(r=E(r)),b(t,e,r)}function l(t,e,r){if(!A(e))throw new TypeError;return P(r)||(r=E(r)),w(t,e,r)}function p(t,e){if(!A(t))throw new TypeError;return P(e)||(e=E(e)),_(t,e)}function f(t,e){if(!A(t))throw new TypeError;return P(e)||(e=E(e)),O(t,e)}function d(t,e,r){if(!A(e))throw new TypeError;P(r)||(r=E(r));var o=v(e,r,!1);if(P(o))return!1;if(!o.delete(t))return!1;if(o.size>0)return!0;var n=et.get(e);return n.delete(r),n.size>0||(et.delete(e),!0)}function h(t,e){for(var r=t.length-1;r>=0;--r){var o=t[r],n=o(e);if(!P(n)&&!T(n)){if(!B(n))throw new TypeError;e=n}}return e}function m(t,e,r,o){for(var n=t.length-1;n>=0;--n){var i=t[n],a=i(e,r,o);if(!P(a)&&!T(a)){if(!A(a))throw new TypeError;o=a}}return o}function v(t,e,r){var o=et.get(t);if(P(o)){if(!r)return;o=new Q,et.set(t,o)}var n=o.get(e);if(P(n)){if(!r)return;n=new Q,o.set(e,n)}return n}function y(t,e,r){if(g(t,e,r))return!0;var o=H(e);return!T(o)&&y(t,o,r)}function g(t,e,r){var o=v(e,r,!1);return!P(o)&&M(o.has(t))}function b(t,e,r){if(g(t,e,r))return w(t,e,r);var o=H(e);return T(o)?void 0:b(t,o,r)}function w(t,e,r){var o=v(e,r,!1);if(!P(o))return o.get(t)}function k(t,e,r,o){v(r,o,!0).set(t,e)}function _(t,e){var r=O(t,e),o=H(t);if(null===o)return r;var n=_(o,e);if(n.length<=0)return r;if(r.length<=0)return n;for(var i=new Z,a=[],s=0,c=r;s<c.length;s++){var u=c[s],l=i.has(u);l||(i.add(u),a.push(u))}for(var p=0,f=n;p<f.length;p++){var u=f[p],l=i.has(u);l||(i.add(u),a.push(u))}return a}function O(t,e){var r=[],o=v(t,e,!1);if(P(o))return r;for(var n=o.keys(),i=q(n),a=0;;){var s=F(i);if(!s)return r.length=a,r;var c=U(s);try{r[a]=c}catch(t){try{$(i)}finally{throw t}}a++}}function x(t){if(null===t)return 1;switch(typeof t){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return null===t?1:6;default:return 6}}function P(t){return void 0===t}function T(t){return null===t}function R(t){return"symbol"==typeof t}function A(t){return"object"==typeof t?null!==t:"function"==typeof t}function j(t,e){switch(x(t)){case 0:case 1:case 2:case 3:case 4:case 5:return t}var r=3===e?"string":5===e?"number":"default",o=N(t,G);if(void 0!==o){var n=o.call(t,r);if(A(n))throw new TypeError;return n}return S(t,"default"===r?"number":r)}function S(t,e){if("string"===e){var r=t.toString;if(I(r)){var o=r.call(t);if(!A(o))return o}var n=t.valueOf;if(I(n)){var o=n.call(t);if(!A(o))return o}}else{var n=t.valueOf;if(I(n)){var o=n.call(t);if(!A(o))return o}var i=t.toString;if(I(i)){var o=i.call(t);if(!A(o))return o}}throw new TypeError}function M(t){return!!t}function C(t){return""+t}function E(t){var e=j(t,3);return R(e)?e:C(e)}function D(t){return Array.isArray?Array.isArray(t):t instanceof Object?t instanceof Array:"[object Array]"===Object.prototype.toString.call(t)}function I(t){return"function"==typeof t}function B(t){return"function"==typeof t}function L(t){switch(x(t)){case 3:case 4:return!0;default:return!1}}function N(t,e){var r=t[e];if(void 0!==r&&null!==r){if(!I(r))throw new TypeError;return r}}function q(t){var e=N(t,V);if(!I(e))throw new TypeError;var r=e.call(t);if(!A(r))throw new TypeError;return r}function U(t){return t.value}function F(t){var e=t.next();return!e.done&&e}function $(t){var e=t.return;e&&e.call(t)}function H(t){var e=Object.getPrototypeOf(t);if("function"!=typeof t||t===K)return e;if(e!==K)return e;var r=t.prototype,o=r&&Object.getPrototypeOf(r);if(null==o||o===Object.prototype)return e;var n=o.constructor;return"function"!=typeof n?e:n===t?e:n}function Y(t){return t.__=void 0,delete t.__,t}var W,z=Object.prototype.hasOwnProperty,X="function"==typeof Symbol,G=X&&void 0!==Symbol.toPrimitive?Symbol.toPrimitive:"@@toPrimitive",V=X&&void 0!==Symbol.iterator?Symbol.iterator:"@@iterator";!function(t){var e="function"==typeof Object.create,r={__proto__:[]}instanceof Array,o=!e&&!r;t.create=e?function(){return Y(Object.create(null))}:r?function(){return Y({__proto__:null})}:function(){return Y({})},t.has=o?function(t,e){return z.call(t,e)}:function(t,e){return e in t},t.get=o?function(t,e){return z.call(t,e)?t[e]:void 0}:function(t,e){return t[e]}}(W||(W={}));var K=Object.getPrototypeOf(Function),J="object"==typeof t&&r.i({NODE_ENV:"production"})&&"true"===r.i({NODE_ENV:"production"}).REFLECT_METADATA_USE_MAP_POLYFILL,Q=J||"function"!=typeof Map||"function"!=typeof Map.prototype.entries?function(){function t(t,e){return t}function e(t,e){return e}function r(t,e){return[t,e]}var o={},n=[],i=function(){function t(t,e,r){this._index=0,this._keys=t,this._values=e,this._selector=r}return t.prototype["@@iterator"]=function(){return this},t.prototype[V]=function(){return this},t.prototype.next=function(){var t=this._index;if(t>=0&&t<this._keys.length){var e=this._selector(this._keys[t],this._values[t]);return t+1>=this._keys.length?(this._index=-1,this._keys=n,this._values=n):this._index++,{value:e,done:!1}}return{value:void 0,done:!0}},t.prototype.throw=function(t){throw this._index>=0&&(this._index=-1,this._keys=n,this._values=n),t},t.prototype.return=function(t){return this._index>=0&&(this._index=-1,this._keys=n,this._values=n),{value:t,done:!0}},t}();return function(){function n(){this._keys=[],this._values=[],this._cacheKey=o,this._cacheIndex=-2}return Object.defineProperty(n.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),n.prototype.has=function(t){return this._find(t,!1)>=0},n.prototype.get=function(t){var e=this._find(t,!1);return e>=0?this._values[e]:void 0},n.prototype.set=function(t,e){var r=this._find(t,!0);return this._values[r]=e,this},n.prototype.delete=function(t){var e=this._find(t,!1);if(e>=0){for(var r=this._keys.length,n=e+1;n<r;n++)this._keys[n-1]=this._keys[n],this._values[n-1]=this._values[n];return this._keys.length--,this._values.length--,t===this._cacheKey&&(this._cacheKey=o,this._cacheIndex=-2),!0}return!1},n.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=o,this._cacheIndex=-2},n.prototype.keys=function(){return new i(this._keys,this._values,t)},n.prototype.values=function(){return new i(this._keys,this._values,e)},n.prototype.entries=function(){return new i(this._keys,this._values,r)},n.prototype["@@iterator"]=function(){return this.entries()},n.prototype[V]=function(){return this.entries()},n.prototype._find=function(t,e){return this._cacheKey!==t&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=t)),this._cacheIndex<0&&e&&(this._cacheIndex=this._keys.length,this._keys.push(t),this._values.push(void 0)),this._cacheIndex},n}()}():Map,Z=J||"function"!=typeof Set||"function"!=typeof Set.prototype.entries?function(){return function(){function t(){this._map=new Q}return Object.defineProperty(t.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),t.prototype.has=function(t){return this._map.has(t)},t.prototype.add=function(t){return this._map.set(t,t),this},t.prototype.delete=function(t){return this._map.delete(t)},t.prototype.clear=function(){this._map.clear()},t.prototype.keys=function(){return this._map.keys()},t.prototype.values=function(){return this._map.values()},t.prototype.entries=function(){return this._map.entries()},t.prototype["@@iterator"]=function(){return this.keys()},t.prototype[V]=function(){return this.keys()},t}()}():Set,tt=J||"function"!=typeof WeakMap?function(){function t(){var t;do{t="@@WeakMap@@"+n()}while(W.has(a,t));return a[t]=!0,t}function e(t,e){if(!z.call(t,s)){if(!e)return;Object.defineProperty(t,s,{value:W.create()})}return t[s]}function r(t,e){for(var r=0;r<e;++r)t[r]=255*Math.random()|0;return t}function o(t){return"function"==typeof Uint8Array?"undefined"!=typeof crypto?crypto.getRandomValues(new Uint8Array(t)):"undefined"!=typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(t)):r(new Uint8Array(t),t):r(new Array(t),t)}function n(){var t=o(i);t[6]=79&t[6]|64,t[8]=191&t[8]|128;for(var e="",r=0;r<i;++r){var n=t[r];4!==r&&6!==r&&8!==r||(e+="-"),n<16&&(e+="0"),e+=n.toString(16).toLowerCase()}return e}var i=16,a=W.create(),s=t();return function(){function r(){this._key=t()}return r.prototype.has=function(t){var r=e(t,!1);return void 0!==r&&W.has(r,this._key)},r.prototype.get=function(t){var r=e(t,!1);return void 0!==r?W.get(r,this._key):void 0},r.prototype.set=function(t,r){return e(t,!0)[this._key]=r,this},r.prototype.delete=function(t){var r=e(t,!1);return void 0!==r&&delete r[this._key]},r.prototype.clear=function(){this._key=t()},r}()}():WeakMap,et=new tt;o.decorate=n,o.metadata=i,o.defineMetadata=a,o.hasMetadata=s,o.hasOwnMetadata=c,o.getMetadata=u,o.getOwnMetadata=l,o.getMetadataKeys=p,o.getOwnMetadataKeys=f,o.deleteMetadata=d,function(t){if(void 0!==t.Reflect){if(t.Reflect!==o)for(var e in o)z.call(o,e)&&(t.Reflect[e]=o[e])}else t.Reflect=o}(void 0!==e?e:"undefined"!=typeof self?self:Function("return this;")())}(o||(o={}))}).call(e,r(25),r(4))},function(t,e,r){function o(t,e){"object"==typeof t&&(e=t,t=void 0),e=e||{};var r,o=n(t),i=o.source,u=o.id,l=o.path,p=c[u]&&l in c[u].nsps,f=e.forceNew||e["force new connection"]||!1===e.multiplex||p;return f?(s("ignoring socket cache for %s",i),r=a(i,e)):(c[u]||(s("new io instance for %s",i),c[u]=a(i,e)),r=c[u]),o.query&&!e.query&&(e.query=o.query),r.socket(o.path,e)}var n=r(133),i=r(26),a=r(44),s=r(8)("socket.io-client");t.exports=e=o;var c=e.managers={};e.protocol=i.protocol,e.connect=o,e.Manager=r(44),e.Socket=r(46)},function(t,e,r){(function(e){function o(t,r){var o=t;r=r||e.location,null==t&&(t=r.protocol+"//"+r.host),"string"==typeof t&&("/"===t.charAt(0)&&(t="/"===t.charAt(1)?r.protocol+t:r.host+t),/^(https?|wss?):\/\//.test(t)||(i("protocol-less url %s",t),t=void 0!==r?r.protocol+"//"+t:"https://"+t),i("parse %s",t),o=n(t)),o.port||(/^(http|ws)$/.test(o.protocol)?o.port="80":/^(http|ws)s$/.test(o.protocol)&&(o.port="443")),o.path=o.path||"/";var a=-1!==o.host.indexOf(":"),s=a?"["+o.host+"]":o.host;return o.id=o.protocol+"://"+s+":"+o.port,o.href=o.protocol+"://"+s+(r&&r.port===o.port?"":":"+o.port),o}var n=r(43),i=r(8)("socket.io-client:url");t.exports=o}).call(e,r(4))},function(t,e,r){(function(t){function o(t,e){if(!t)return t;if(a(t)){var r={_placeholder:!0,num:e.length};return e.push(t),r}if(i(t)){for(var n=new Array(t.length),s=0;s<t.length;s++)n[s]=o(t[s],e);return n}if("object"==typeof t&&!(t instanceof Date)){var n={};for(var c in t)n[c]=o(t[c],e);return n}return t}function n(t,e){if(!t)return t;if(t&&t._placeholder)return e[t.num];if(i(t))for(var r=0;r<t.length;r++)t[r]=n(t[r],e);else if("object"==typeof t)for(var o in t)t[o]=n(t[o],e);return t}var i=r(135),a=r(47),s=Object.prototype.toString,c="function"==typeof t.Blob||"[object BlobConstructor]"===s.call(t.Blob),u="function"==typeof t.File||"[object FileConstructor]"===s.call(t.File);e.deconstructPacket=function(t){var e=[],r=t.data,n=t;return n.data=o(r,e),n.attachments=e.length,{packet:n,buffers:e}},e.reconstructPacket=function(t,e){return t.data=n(t.data,e),t.attachments=void 0,t},e.removeBlobs=function(t,e){function r(t,s,l){if(!t)return t;if(c&&t instanceof Blob||u&&t instanceof File){o++;var p=new FileReader;p.onload=function(){l?l[s]=this.result:n=this.result,--o||e(n)},p.readAsArrayBuffer(t)}else if(i(t))for(var f=0;f<t.length;f++)r(t[f],f,t);else if("object"==typeof t&&!a(t))for(var d in t)r(t[d],d,t)}var o=0,n=t;r(n),o||e(n)}}).call(e,r(4))},function(t,e){var r={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==r.call(t)}},,function(t,e){function r(t,e){var r=[];e=e||0;for(var o=e||0;o<t.length;o++)r[o-e]=t[o];return r}t.exports=r},function(t,e,r){"use strict";r.d(e,"a",function(){return p});var o=r(0),n=r.n(o),i=r(1),a=r.n(i),s=r(2),c=(r.n(s),r(9)),u=(r.n(c),this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function o(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}()),l=this&&this.__decorate||function(t,e,r,o){var n,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,o);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(i<3?n(a):i>3?n(e,r,a):n(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a},p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.markedFormat=e.dateFormat?e.dateFormat:"DD.MM.YYYY",e.marked=e.markDays?e.markDays:[],e.today=c(),e.currentMonth=c().month(),e.currentYear=c().year(),e.monthDays=[],e}return u(e,t),Object.defineProperty(e.prototype,"currentMonthLabel",{get:function(){return["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"][this.currentMonth]||""},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dayOfWeeks",{get:function(){return["Пн","Вт","Ср","Чт","Пт","Сб","Вс"]},enumerable:!0,configurable:!0}),e.prototype.onChangeMarkDays=function(t){this.marked=t},e.prototype.dayIsMarked=function(t){return-1!==this.marked.indexOf(t.format("YYYY-MM-DD"))},e.prototype.clickDay=function(t){var e=t.format("YYYY-MM-DD");-1!=this.marked.indexOf(e)?this.unmarkDay(e):this.markDay(e)},e.prototype.getDateFormatted=function(t){return c(t).format(this.markedFormat)},e.prototype.unmarkDay=function(t){var e=this.marked.indexOf(t);-1!==e&&(this.marked.splice(e,1),this.$emit("unmark-day",t))},e.prototype.markDay=function(t){-1===this.marked.indexOf(t)&&(this.marked.push(t),this.$emit("mark-day",t))},e.prototype.toggleMonth=function(t){var e=this.currentMonth;e+=t>0?1:-1,e>11?(this.currentMonth=0,this.currentYear=this.currentYear+1):e<0?(this.currentMonth=11,this.currentYear=this.currentYear-1):this.currentMonth=e,this.renderMonthDays()},e.prototype.renderMonthDays=function(){this.monthDays=[];var t=c().date(1).month(this.currentMonth).year(this.currentYear),e=c(t).add({month:1}).subtract({day:1}),r=c(t).day(1),o=c(e).day(7),n=o.diff(r,"days"),i=c(r);this.monthDays.push([]);for(var a=0;a<=n;a++){this.monthDays[this.monthDays.length-1].push(c(i)),0!=i.day()&&7!=i.day()||this.monthDays.push([]),i.add(1,"day")}},e.prototype.mounted=function(){this.renderMonthDays()},e}(n.a);l([r.i(s.Prop)(Array)],p.prototype,"markDays",void 0),l([r.i(s.Prop)(String)],p.prototype,"dateFormat",void 0),l([r.i(s.Model)()],p.prototype,"markedFormat",void 0),l([r.i(s.Model)()],p.prototype,"marked",void 0),l([r.i(s.Model)()],p.prototype,"today",void 0),l([r.i(s.Model)()],p.prototype,"currentMonth",void 0),l([r.i(s.Model)()],p.prototype,"currentYear",void 0),l([r.i(s.Model)()],p.prototype,"monthDays",void 0),l([r.i(s.Watch)("markDays")],p.prototype,"onChangeMarkDays",null),p=l([a()({template:r(92)})],p)},function(t,e,r){"use strict";r.d(e,"a",function(){return l});var o=r(0),n=r.n(o),i=r(1),a=r.n(i),s=r(2),c=(r.n(s),this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function o(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}()),u=this&&this.__decorate||function(t,e,r,o){var n,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,o);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(i<3?n(a):i>3?n(e,r,a):n(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a},l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.currentItem=e.item,e}return c(e,t),e.prototype.changeItem=function(t){this.currentItem=t},Object.defineProperty(e.prototype,"label",{get:function(){var t=this.currentItem||this.items[0];return this.getItemLabel(t)},enumerable:!0,configurable:!0}),e.prototype.getItemLabel=function(t){return t?t[this.displayProp]instanceof Function?t[this.displayProp]():t[this.displayProp]:""},e.prototype.selectItem=function(t){this.$emit("select",t),this.currentItem=t},e}(n.a);u([r.i(s.Prop)()],l.prototype,"displayProp",void 0),u([r.i(s.Prop)()],l.prototype,"item",void 0),u([r.i(s.Model)()],l.prototype,"currentItem",void 0),u([r.i(s.Prop)()],l.prototype,"items",void 0),u([r.i(s.Watch)("item")],l.prototype,"changeItem",null),l=u([a()({template:r(93)})],l)},function(t,e,r){"use strict";r.d(e,"a",function(){return l});var o=r(0),n=r.n(o),i=r(1),a=r.n(i),s=r(2),c=(r.n(s),this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function o(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}()),u=this&&this.__decorate||function(t,e,r,o){var n,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,o);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(i<3?n(a):i>3?n(e,r,a):n(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a},l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return c(e,t),e}(n.a);u([r.i(s.Prop)(Boolean)],l.prototype,"visible",void 0),l=u([a()({template:'<div class="loading" :class="{\'visible\': visible}"></div>'})],l)},function(t,e,r){"use strict";r.d(e,"a",function(){return l});var o=r(0),n=r.n(o),i=r(1),a=r.n(i),s=r(2),c=(r.n(s),this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function o(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}()),u=this&&this.__decorate||function(t,e,r,o){var n,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,o);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(i<3?n(a):i>3?n(e,r,a):n(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a},l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return c(e,t),e}(n.a);u([r.i(s.Prop)(Object)],l.prototype,"parent",void 0),u([r.i(s.Prop)(Number)],l.prototype,"index",void 0),l=u([a()({template:r(94)})],l)},function(t,e,r){"use strict";r.d(e,"a",function(){return d});var o=r(0),n=r.n(o),i=r(1),a=r.n(i),s=r(2),c=(r.n(s),r(141)),u=r(3),l=r.n(u),p=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function o(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),f=this&&this.__decorate||function(t,e,r,o){var n,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,o);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(i<3?n(a):i>3?n(e,r,a):n(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a},d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return p(e,t),e.prototype.toggleActivate=function(t){var e=l()(t.target).parents("li:first");e.hasClass("active")?e.find("ul.child_menu").slideUp("fast"):e.find("ul.child_menu").slideDown("fast"),e.toggleClass("active")},e}(n.a);f([r.i(s.Prop)(Array)],d.prototype,"items",void 0),d=f([a()({template:r(95),components:{children:c.a}})],d)},function(t,e,r){"use strict";r.d(e,"a",function(){return f});var o=r(0),n=r.n(o),i=r(1),a=r.n(i),s=r(2),c=(r.n(s),r(3)),u=r.n(c),l=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function o(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),p=this&&this.__decorate||function(t,e,r,o){var n,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,o);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(i<3?n(a):i>3?n(e,r,a):n(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a},f=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return l(e,t),e.prototype.show=function(){var t=this;u()(this.$refs.modal).modal("show"),u()(this.$refs.modal).off("hidden.bs.modal").bind("hidden.bs.modal",function(){t.$emit("hide")}),this.$emit("show")},e.prototype.hide=function(){this.$emit("hide"),u()(this.$refs.modal).modal("hide")},e}(n.a);p([r.i(s.Prop)(String)],f.prototype,"title",void 0),f=p([a()({template:r(96)})],f)},function(t,e,r){"use strict";r.d(e,"a",function(){return l});var o=r(0),n=r.n(o),i=r(1),a=r.n(i),s=r(2),c=(r.n(s),this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function o(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}()),u=this&&this.__decorate||function(t,e,r,o){var n,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,o);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(i<3?n(a):i>3?n(e,r,a):n(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a},l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.opened=!1,e}return c(e,t),e.prototype.mounted=function(){this.$parent.tabPanes.push(this)},e.prototype.open=function(){this.opened=!0},e.prototype.close=function(){this.opened=!1},e}(n.a);u([r.i(s.Prop)(String)],l.prototype,"label",void 0),u([r.i(s.Model)()],l.prototype,"opened",void 0),u([r.i(s.Prop)({type:Boolean,default:!0})],l.prototype,"visible",void 0),u([r.i(s.Prop)({type:Boolean,default:!1})],l.prototype,"hasError",void 0),l=u([a()({template:r(97)})],l)},function(t,e,r){"use strict";r.d(e,"a",function(){return u});var o=r(0),n=(r.n(o),r(1)),i=r.n(n),a=r(2),s=(r.n(a),this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function o(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}()),c=this&&this.__decorate||function(t,e,r,o){var n,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,o);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(i<3?n(a):i>3?n(e,r,a):n(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a},u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.tabPanes=[],e.currentTab=e.defaultTabPane,e}return s(e,t),e.prototype.onChangeCurrentTab=function(){for(var t in this.tabPanes){var e=parseInt(t);this.tabPanes[e].opened=e==this.currentTab}},e.prototype.mounted=function(){this.onChangeCurrentTab()},e.prototype.selectTab=function(t,e){t.preventDefault(),this.currentTab=e},e}(o);c([r.i(a.Prop)({type:Number,default:0})],u.prototype,"defaultTabPane",void 0),c([r.i(a.Prop)({type:Boolean,default:!1})],u.prototype,"inModalWindow",void 0),c([r.i(a.Model)()],u.prototype,"tabPanes",void 0),c([r.i(a.Model)()],u.prototype,"currentTab",void 0),c([r.i(a.Watch)("currentTab")],u.prototype,"onChangeCurrentTab",null),u=c([i()({template:r(98)})],u)},function(t,e,r){"use strict";r.d(e,"a",function(){return d});var o=r(0),n=r.n(o),i=r(1),a=r.n(i),s=r(2),c=(r.n(s),r(3)),u=r.n(c),l=r(9),p=(r.n(l),this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function o(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}()),f=this&&this.__decorate||function(t,e,r,o){var n,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,o);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(i<3?n(a):i>3?n(e,r,a):n(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a},d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.model=e.time?e.time:e.minTime?e.minTime:"00:00",e}return p(e,t),e.prototype.mounted=function(){var t=this,e={step:30,timeFormat:"H:i",forceRoundTime:!0,minTime:this.minTime?this.minTime:"00:00",maxTime:this.maxTime?this.maxTime:"23:59"},r=this.$refs.button;u()(r).timepicker(e),u()(r).on("selectTime",function(){var e=u()(r).timepicker("getTime");t.model=l(e).format("HH:mm"),t.$emit("set-time",t.model)})},e}(n.a);f([r.i(s.Prop)(String)],d.prototype,"time",void 0),f([r.i(s.Prop)(String)],d.prototype,"minTime",void 0),f([r.i(s.Prop)(String)],d.prototype,"maxTime",void 0),f([r.i(s.Model)()],d.prototype,"model",void 0),d=f([a()({template:r(103)})],d)},function(t,e,r){"use strict";r.d(e,"a",function(){return l});var o=r(0),n=r.n(o),i=r(1),a=r.n(i),s=r(11),c=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function o(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),u=this&&this.__decorate||function(t,e,r,o){var n,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,o);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(i<3?n(a):i>3?n(e,r,a):n(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a},l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return c(e,t),Object.defineProperty(e.prototype,"list",{get:function(){return s.a.state.flashNotifications},enumerable:!0,configurable:!0}),e.prototype.removeNotification=function(t){s.a.commit("removeFlash",t)},e}(n.a);l=u([a()({template:r(104)})],l)},function(t,e,r){"use strict";r.d(e,"a",function(){return h});var o=r(0),n=r.n(o),i=r(1),a=r.n(i),s=r(51),c=r(2),u=(r.n(c),r(22)),l=r(187),p=r(11),f=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function o(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),d=this&&this.__decorate||function(t,e,r,o){var n,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,o);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(i<3?n(a):i>3?n(e,r,a):n(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a},h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.viewWindow=!1,e.awaitOfSubmit=!1,e.errorMessage="",e.customer=null,e.comment=null,e}return f(e,t),e.prototype.mounted=function(){u.a.dispatch("fetchList")},e.prototype.updated=function(){u.a.dispatch("fetchList")},Object.defineProperty(e.prototype,"incomingCall",{get:function(){return s.a.state.notification},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"customers",{get:function(){return u.a.state.list},enumerable:!0,configurable:!0}),e.prototype.onShowIncomingCall=function(){if(this.incomingCall&&!this.viewWindow){this.$refs.window.show(),this.viewWindow=!0}},e.prototype.onHideModal=function(){this.viewWindow=!1,s.a.commit("removeIncomingCall")},e.prototype.hideModal=function(){this.$refs.window.hide()},e.prototype.submit=function(){var t=this;this.$validator.validateAll().then(function(){t.awaitOfSubmit=!0,t.errorMessage="",l.a.resend(t.incomingCall.callerId,t.customer,t.comment).then(function(e){e.success?(p.a.dispatch("flash",{type:"success",text:"Звонок успешно отправлен арендатору"}),t.awaitOfSubmit=!1,t.comment=null,t.customer=null,t.hideModal()):(t.awaitOfSubmit=!1,t.errorMessage=e.firstError)})}).catch(function(){})},e}(n.a);d([r.i(c.Model)()],h.prototype,"viewWindow",void 0),d([r.i(c.Model)()],h.prototype,"awaitOfSubmit",void 0),d([r.i(c.Model)()],h.prototype,"errorMessage",void 0),d([r.i(c.Model)()],h.prototype,"customer",void 0),d([r.i(c.Model)()],h.prototype,"comment",void 0),d([r.i(c.Watch)("incomingCall")],h.prototype,"onShowIncomingCall",null),h=d([a()({template:r(105)})],h)},function(t,e,r){"use strict";r.d(e,"a",function(){return p});var o=r(0),n=r.n(o),i=r(1),a=r.n(i),s=r(2),c=(r.n(s),r(6)),u=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function o(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),l=this&&this.__decorate||function(t,e,r,o){var n,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,o);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(i<3?n(a):i>3?n(e,r,a):n(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a},p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return u(e,t),e.prototype.getTicketRoute=function(t){return"customer"==c.a.state.userData.userType?{name:"cabinet_ticket_details",params:{category:t.category,ticket:t.id}}:{name:"manager_ticket_details",params:{category:t.category,ticket:t.id}}},e}(n.a);l([r.i(s.Prop)()],p.prototype,"notification",void 0),p=l([a()({template:r(106)})],p)},function(t,e,r){"use strict";r.d(e,"a",function(){return f});var o=r(0),n=r.n(o),i=r(1),a=r.n(i),s=r(2),c=(r.n(s),r(3)),u=r.n(c),l=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function o(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),p=this&&this.__decorate||function(t,e,r,o){var n,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,o);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(i<3?n(a):i>3?n(e,r,a):n(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a},f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.visible=e.toggled,e}return l(e,t),e.prototype.toggle=function(t){var e=this;void 0===t&&(t=null),t&&t.preventDefault(),this.visible?u()(this.$refs.content).slideUp(200,function(){e.visible=!1,e.$emit("on-toggled",e.visible)}):u()(this.$refs.content).slideDown(200,function(){e.visible=!0,e.$emit("on-toggled",e.visible)})},e}(n.a);p([r.i(s.Prop)()],f.prototype,"title",void 0),p([r.i(s.Prop)({type:Boolean,default:!0})],f.prototype,"toggled",void 0),p([r.i(s.Model)()],f.prototype,"visible",void 0),f=p([a()({template:r(107)})],f)},function(t,e,r){"use strict";r.d(e,"a",function(){return s});var o=r(3),n=r.n(o),i=function(t,e){var r=e.value,o={autoHideScrollbar:!0,theme:"minimal"};r&&(o.callbacks={onTotalScroll:r}),n()(t).mCustomScrollbar(o)},a=function(t){n()(t).mCustomScrollbar("destroy")},s={inserted:function(t,e){i(t,e)},componentUpdated:function(t,e){a(t),i(t,e)}}},function(t,e,r){"use strict";r.d(e,"a",function(){return s});var o=r(3),n=r.n(o),i=r(6),a=function(t,e){var r=e.value;if(r){var o=i.a.state.roles;o.length&&-1==o.indexOf(r)?n()(t).hide():n()(t).show()}else n()(t).show()},s={inserted:a,update:a,componentUpdated:a}},function(t,e,r){"use strict";r.d(e,"a",function(){return s});var o=r(3),n=r.n(o),i=r(6),a=function(t,e){var r=e.value;r&&r!=i.a.state.userData.userType?n()(t).hide():n()(t).show()},s={inserted:a,update:a,componentUpdated:a}},function(t,e,r){"use strict";r.d(e,"a",function(){return n});var o=r(9),n=(r.n(o),function(t,e){void 0===e&&(e="D MMMM YYYY HH:mm");var r=o(t);return r.isValid()?r.format(e):"string"==typeof t?t:""})},function(t,e,r){"use strict";r.d(e,"a",function(){return o});var o=function(t){switch(t){case"new":return"label  label-info";case"in_progress":return"label  label-primary";case"answered":return"label  label-success";case"wait":return"label  label-warning";case"closed":return"label  label-default";case"reopened":return"label  label-danger";default:return t}}},function(t,e,r){"use strict";r.d(e,"a",function(){return o});var o=function(t){switch(t){case"new":return"Новая";case"in_progress":return"В обрабтке";case"answered":return"Поступил ответ";case"wait":return"Ожидает ответа";case"closed":return"Закрыта";case"reopened":return"Открыта повторно";default:return t}}},function(t,e,r){"use strict";r.d(e,"a",function(){return n});var o=r(6),n=function(t,e){return"customer"==o.a.state.userData.userType&&e?{name:"cabinet_service_ticket_details",params:{service:e.id,ticket:t.id}}:{name:"customer"==o.a.state.userData.userType?"cabinet_ticket_details":"manager_ticket_details",params:{category:t.category,ticket:t.id}}}},function(t,e,r){"use strict";r.d(e,"a",function(){return n});var o=[{code:"it-department",name:"IT-аутсорсинг",role:"ROLE_IT_CUSTOMER"},{code:"booker-department",name:"Бухгалтер",role:"ROLE_BOOKER_CUSTOMER"},{code:"maintaince-department",name:"Хаус-мастер",role:"ROLE_MAINTAINCE_CUSTOMER"}],n=[{route:{name:"cabinet_index"},faIcon:"fa-home",menuName:"Главная страница"},{faIcon:"fa-question",menuName:"Заявки",children:[]},{faIcon:"fa-tag",menuName:"Услуги",children:function(){for(var t=[],e=0,r=o;e<r.length;e++){var n=r[e];t.push({route:{name:"cabinet_service_page",params:{service:n.code}},role:n.role,menuName:n.name})}return t}()},{faIcon:"fa-file",menuName:"Документы",children:[{route:{name:"cabinet_ticket_list",params:{category:"finance-department"}},menuName:"Задать вопрос"}]}]},function(t,e,r){"use strict";r.d(e,"a",function(){return o});var o=[{route:{name:"dashboard_index"},faIcon:"fa-home",menuName:"Главная страница"},{route:{name:"manager_user_list"},faIcon:"fa-users",menuName:"Пользователи",role:"ROLE_USER_MANAGEMENT"},{route:{name:"manager_customer_list"},faIcon:"fa-newspaper-o",menuName:"Арендаторы",role:"ROLE_USER_MANAGEMENT"},{route:{name:"manager_service_list"},faIcon:"fa-wrench",menuName:"Дополнительные услуги",role:"ROLE_SERVICE_MANAGEMENT"},{route:{name:"manager_ticket_root"},faIcon:"fa-question",menuName:"Заявки",children:[]},{route:{name:"manager_room_list"},faIcon:"fa-building",menuName:"Переговорные комнаты",role:"ROLE_RENT_MANAGEMENT"},{route:{name:"dashboard_index"},faIcon:"fa-shopping-basket",menuName:"Управление складом",role:"ROLE_STORAGE_MANAGEMENT"},{route:{name:"dashboard_index"},faIcon:"fa-file",menuName:"Управление документами",role:"ROLE_DOCUMENT_MANAGEMENT"}]},function(t,e,r){"use strict";r.d(e,"a",function(){return b});var o=r(0),n=r.n(o),i=r(1),a=r.n(i),s=r(33),c=r(2),u=(r.n(c),r(5)),l=r(21),p=r(3),f=r.n(p),d=r(10),h=r(29),m=r(49),v=r(18),y=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function o(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),g=this&&this.__decorate||function(t,e,r,o){var n,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,o);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(i<3?n(a):i>3?n(e,r,a):n(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a};a.a.registerHooks(["beforeRouteEnter","beforeRouteUpdate","beforeRouteLeave"]);var b=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.service=null,e.ticketCategory=null,e.toggledTicketForm=!1,e.selectedTariff=null,e}return y(e,t),e.prototype.setService=function(t){this.service=t,u.a.commit("setPageTitle","Услуги: "+t.title),this.fetchTicketCategory()},Object.defineProperty(e.prototype,"serviceIsActivated",{get:function(){for(var t=0,e=s.a.state.activatedList;t<e.length;t++){if(e[t].service.id==this.service.id)return!0}return!1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"serviceHasTariff",{get:function(){return this.service.tariff&&this.service.tariff.length>0},enumerable:!0,configurable:!0}),e.prototype.fetchTicketCategory=function(){var t=this;this.ticketCategory=null,d.a.commit("clear"),d.a.dispatch("fetchList").then(function(){for(var e=0,r=d.a.state.list;e<r.length;e++){var o=r[e];o.customerRole==t.service.customerRole&&(t.ticketCategory=o)}})},e.prototype.toggleDescription=function(){f()(this.$refs.description).slideToggle("fast")},e.prototype.activateService=function(t){var e=this;this.serviceIsActivated||this.$validator.validateAll().then(function(){u.a.commit("showPageLoader");var t=null;if(e.selectedTariff)for(var r=0,o=e.service.tariff;r<o.length;r++){var n=o[r];if(n.id==e.selectedTariff){t=n;break}}l.a.activate(e.service,t).then(function(t){t.success&&(s.a.commit("addActivatedItem",t.activated),e.fetchTicketCategory()),u.a.commit("hidePageLoader")},function(){return u.a.commit("hidePageLoader")})},function(){})},e.prototype.deactivateService=function(){var t=this;this.serviceIsActivated&&(u.a.commit("showPageLoader"),l.a.deactivate(this.service).then(function(e){e.success&&(s.a.commit("removeActivatedItem",e.activated),t.fetchTicketCategory()),u.a.commit("hidePageLoader")},function(){return u.a.commit("hidePageLoader")}))},e.prototype.beforeRouteEnter=function(t,e,r){s.a.dispatch("fetchActivatedList").then(function(){s.a.dispatch("getServiceById",t.params.service).then(function(t){r(function(e){return e.setService(t)})},function(){return r("404")})})},e.prototype.beforeRouteUpdate=function(t,e,r){var o=this;s.a.dispatch("fetchActivatedList").then(function(){s.a.dispatch("getServiceById",t.params.service).then(function(t){o.setService(t),r()},function(){return r("404")})})},e.prototype.beforeRouteLeave=function(t,e,r){d.a.commit("clear"),r()},e.prototype.ticketSaved=function(t){var e=this;v.a.dispatch("addTicket",t).then(function(){e.toggledTicketForm=!1})},e}(n.a);g([r.i(c.Model)()],b.prototype,"service",void 0),g([r.i(c.Model)()],b.prototype,"ticketCategory",void 0),g([r.i(c.Model)()],b.prototype,"toggledTicketForm",void 0),g([r.i(c.Model)()],b.prototype,"selectedTariff",void 0),b=g([a()({template:r(108),components:{"ticket-table":h.a,"ticket-form":m.a}})],b)},function(t,e,r){"use strict";r.d(e,"a",function(){return y});var o=r(0),n=r.n(o),i=r(1),a=r.n(i),s=r(2),c=(r.n(s),r(18)),u=r(13),l=r(10),p=r(5),f=r(28),d=r(33),h=r(27),m=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function o(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),v=this&&this.__decorate||function(t,e,r,o){var n,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,o);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(i<3?n(a):i>3?n(e,r,a):n(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a};a.a.registerHooks(["beforeRouteEnter","beforeRouteUpdate"]);var y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.category=null,e.ticket=null,e.service=null,e.showMessageForm=!1,e.details=null,e}return m(e,t),e.prototype.updateData=function(){var t=this,e=this.$refs["message-panel"];e.visible=!0,e.toggle(),u.a.ticketDetails(this.ticket.id).then(function(e){t.setData(e)},function(){})},e.prototype.setData=function(t){this.ticket=t.ticket,this.details=t},e.prototype.setCategory=function(t){this.category=t,p.a.commit("setTitle","#"+this.ticket.number+" - "+t.name),p.a.commit("setPageTitle","Заявки")},e.prototype.setService=function(t){this.service=t,p.a.commit("setTitle","Услуги: "+t.title),p.a.commit("setPageTitle","Услуги: "+t.title)},Object.defineProperty(e.prototype,"categoryRoute",{get:function(){return{name:"cabinet_service_page",params:{service:this.service?this.service.id:null}}},enumerable:!0,configurable:!0}),e.prototype.beforeRouteEnter=function(t,e,r){l.a.dispatch("checkCategory",t.params.service).then(function(e){u.a.ticketDetails(t.params.ticket).then(function(o){r(function(r){r.setData(o),r.setCategory(e),d.a.dispatch("getServiceById",t.params.service).then(function(t){r.setService(t)},function(){})})},function(){return r({name:"403"})})},function(){return r({name:"403"})})},e.prototype.beforeRouteUpdate=function(t,e,r){l.a.dispatch("checkCategory",t.params.service).then(function(e){u.a.ticketDetails(t.params.ticket).then(function(o){r(function(r){r.setData(o),r.setCategory(e),d.a.dispatch("getServiceById",t.params.service).then(function(t){r.setService(t)},function(){})})},function(){return r({name:"403"})})},function(){return r({name:"403"})})},e}(n.a);v([r.i(s.Model)()],y.prototype,"category",void 0),v([r.i(s.Model)()],y.prototype,"ticket",void 0),v([r.i(s.Model)()],y.prototype,"service",void 0),v([r.i(s.Model)()],y.prototype,"showMessageForm",void 0),v([r.i(s.Model)()],y.prototype,"details",void 0),y=v([a()({template:r(109),store:c.a,components:{"message-form":f.a,"ticket-history":h.a}})],y)},function(t,e,r){"use strict";r.d(e,"a",function(){return v});var o=r(0),n=r.n(o),i=r(1),a=r.n(i),s=r(2),c=(r.n(s),r(18)),u=r(13),l=r(10),p=r(5),f=r(28),d=r(27),h=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function o(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),m=this&&this.__decorate||function(t,e,r,o){var n,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,o);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(i<3?n(a):i>3?n(e,r,a):n(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a};a.a.registerHooks(["beforeRouteEnter","beforeRouteUpdate"]);var v=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.category=null,e.ticket=null,e.details=null,e.showMessageForm=!1,e}return h(e,t),e.prototype.updateData=function(){var t=this,e=this.$refs["message-panel"];e.visible=!0,e.toggle(),u.a.ticketDetails(this.ticket.id).then(function(e){t.setData(e)},function(){})},e.prototype.setData=function(t){this.ticket=t.ticket,this.details=t},e.prototype.setCategory=function(t){this.category=t,p.a.commit("setTitle","#"+this.ticket.number+" - "+t.name),p.a.commit("setPageTitle","Заявки: "+this.category.name)},Object.defineProperty(e.prototype,"categoryRoute",{get:function(){return{name:"cabinet_ticket_list",params:{category:this.category?this.category.id:null}}},enumerable:!0,configurable:!0}),e.prototype.beforeRouteEnter=function(t,e,r){l.a.dispatch("checkCategory",t.params.category).then(function(e){u.a.ticketDetails(t.params.ticket).then(function(t){r(function(r){r.setData(t),r.setCategory(e)})},function(){return r({name:"403"})})},function(){return r({name:"403"})})},e.prototype.beforeRouteUpdate=function(t,e,r){l.a.dispatch("checkCategory",t.params.category).then(function(e){u.a.ticketDetails(t.params.ticket).then(function(t){r(function(r){r.setData(t),r.setCategory(e)})},function(){return r({name:"403"})})},function(){return r({name:"403"})})},e}(n.a);m([r.i(s.Model)()],v.prototype,"category",void 0),m([r.i(s.Model)()],v.prototype,"ticket",void 0),m([r.i(s.Model)()],v.prototype,"details",void 0),m([r.i(s.Model)()],v.prototype,"showMessageForm",void 0),v=m([a()({template:r(110),store:c.a,components:{"message-form":f.a,"ticket-history":d.a}})],v)},function(t,e,r){"use strict";r.d(e,"a",function(){return m});var o=r(0),n=r.n(o),i=r(1),a=r.n(i),s=r(18),c=r(2),u=(r.n(c),r(10)),l=r(5),p=r(49),f=r(16),d=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function o(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),h=this&&this.__decorate||function(t,e,r,o){var n,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,o);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(i<3?n(a):i>3?n(e,r,a):n(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a},m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.category=null,e}return d(e,t),Object.defineProperty(e.prototype,"categoryRoute",{get:function(){return{name:"cabinet_ticket_list",params:{category:this.category?this.category.id:null}}},enumerable:!0,configurable:!0}),e.prototype.setCategory=function(t){this.category=t,l.a.commit("setTitle","Заявки: "+t.name),l.a.commit("setPageTitle","Заявки: "+t.name),this.$store.dispatch("fetchList",this.category.id)},e.prototype.beforeRouteEnter=function(t,e,r){u.a.dispatch("checkCategory",t.params.category).then(function(t){r(function(e){return e.setCategory(t)})},function(){r({name:"403"})})},e.prototype.beforeRouteUpdate=function(t,e,r){var o=this;u.a.dispatch("checkCategory",t.params.category).then(function(t){o.setCategory(t),r()},function(){r({name:"403"})})},e.prototype.cancel=function(){f.a.push(this.categoryRoute)},e.prototype.saved=function(t){var e=this;this.$store.dispatch("addTicket",t).then(function(){return f.a.push(e.categoryRoute)})},e}(n.a);h([r.i(c.Model)()],m.prototype,"category",void 0),m=h([a()({template:r(111),store:s.a,components:{"ticket-form":p.a}})],m)},function(t,e,r){"use strict";r.d(e,"a",function(){return h});var o=r(0),n=r.n(o),i=r(1),a=r.n(i),s=r(10),c=r(5),u=r(2),l=(r.n(u),r(6)),p=r(29),f=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function o(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),d=this&&this.__decorate||function(t,e,r,o){var n,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,o);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(i<3?n(a):i>3?n(e,r,a):n(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a};a.a.registerHooks(["beforeRouteEnter","beforeRouteUpdate"]);var h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.category=null,e}return f(e,t),Object.defineProperty(e.prototype,"userType",{get:function(){return l.a.state.userData.userType},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"createRoute",{get:function(){return{name:"cabinet_ticket_create",params:{category:this.category?this.category.id:null}}},enumerable:!0,configurable:!0}),e.prototype.setCategory=function(t){c.a.commit("setTitle","Заявки: "+t.name),c.a.commit("setPageTitle","Заявки: "+t.name),this.category=t},e.prototype.beforeRouteEnter=function(t,e,r){s.a.dispatch("checkCategory",t.params.category).then(function(t){r(function(e){return e.setCategory(t)})},function(){return r({name:"403"})})},e.prototype.beforeRouteUpdate=function(t,e,r){var o=this;s.a.dispatch("checkCategory",t.params.category).then(function(t){o.setCategory(t),r()},function(){return r({name:"403"})})},e}(n.a);d([r.i(u.Model)()],h.prototype,"category",void 0),h=d([a()({template:r(112),components:{"ticket-table":p.a}})],h)},function(t,e,r){"use strict";r.d(e,"a",function(){return k});var o=r(0),n=r.n(o),i=r(1),a=r.n(i),s=r(3),c=r.n(s),u=r(17),l=r(16),p=r(6),f=r(2),d=(r.n(f),r(158)),h=r(159),m=r(5),v=r(10),y=r(11),g=r(142),b=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function o(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),w=this&&this.__decorate||function(t,e,r,o){var n,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,o);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(i<3?n(a):i>3?n(e,r,a):n(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a};a.a.registerHooks(["beforeRouteLeave","beforeRouteUpdate","beforeRouteEnter"]);var k=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.menuToggled=!0,e.sideBarMenu=[],e}return b(e,t),e.prototype.fixContentHeight=function(){c()(this.$refs["right-col"]).css("min-height",Math.max(c()(this.$refs["left-col"]).outerHeight(),c()(window).height()))},Object.defineProperty(e.prototype,"pageTitle",{get:function(){return m.a.state.pageTitle},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isAuth",{get:function(){return p.a.state.isAuth||l.a.push({name:"login"}),p.a.state.isAuth},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"userData",{get:function(){return p.a.state.userData},enumerable:!0,configurable:!0}),e.prototype.mounted=function(){var t=this;p.a.dispatch("fetchData").then(function(){var e=p.a.state.userData.userType;t.sideBarMenu="manager"==e?h.a:d.a,v.a.dispatch("fetchList").then(function(r){for(var o=0,n=t.sideBarMenu;o<n.length;o++){var i=n[o];if(i.route&&"manager_ticket_root"==i.route.name||"Заявки"==i.menuName){var a=t.sideBarMenu.indexOf(i);t.sideBarMenu[a].children=[];for(var s=0,c=r;s<c.length;s++){var u=c[s];t.sideBarMenu[a].children.push({route:{name:"manager"==e?"manager_ticket_list":"cabinet_ticket_list",params:{category:u.id}},menuName:u.name})}break}}})}),this.menuToggled&&c()("body").addClass("nav-md"),c()("body").addClass("footer_fixed"),this.fixContentHeight(),c()(window).on("resize",function(){return t.fixContentHeight()}),y.a.dispatch("fetchAll")},e.prototype.beforeRouteLeave=function(t,e,r){c()(window).off("resize"),c()("body").removeClass("nav-md footer_fixed"),r()},Object.defineProperty(e.prototype,"unreadNotifications",{get:function(){return y.a.state.unread},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"notifications",{get:function(){return y.a.state.userNotifications},enumerable:!0,configurable:!0}),e.prototype.readAllNotifications=function(){y.a.dispatch("readAll")},e.prototype.toggleMenu=function(t){t.preventDefault(),this.menuToggled=!this.menuToggled,c()("body").toggleClass("nav-md nav-sm"),this.fixContentHeight()},e.prototype.logout=function(t){t.preventDefault(),u.a.logout().then(function(){return l.a.push({name:"login"})})},e}(n.a);w([r.i(f.Model)()],k.prototype,"menuToggled",void 0),w([r.i(f.Model)()],k.prototype,"sideBarMenu",void 0),k=w([a()({template:r(113),components:{"side-bar-menu":g.a}})],k)},function(t,e,r){"use strict";r.d(e,"a",function(){return u});var o=r(0),n=r.n(o),i=r(1),a=r.n(i),s=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function o(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),c=this&&this.__decorate||function(t,e,r,o){var n,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,o);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(i<3?n(a):i>3?n(e,r,a):n(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a},u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e}(n.a);u=c([a()({template:"<div>Access denied</div>"})],u)},function(t,e,r){"use strict";r.d(e,"a",function(){return u});var o=r(0),n=r.n(o),i=r(1),a=r.n(i),s=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function o(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),c=this&&this.__decorate||function(t,e,r,o){var n,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,o);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(i<3?n(a):i>3?n(e,r,a):n(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a},u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e}(n.a);u=c([a()({template:"<div>Page not found</div>"})],u)},function(t,e,r){"use strict";r.d(e,"a",function(){return u});var o=r(0),n=r.n(o),i=r(1),a=r.n(i),s=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function o(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),c=this&&this.__decorate||function(t,e,r,o){var n,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,o);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(i<3?n(a):i>3?n(e,r,a):n(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a},u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e}(n.a);u=c([a()({template:"<div>Index page</div>"})],u)},function(t,e,r){"use strict";r.d(e,"a",function(){return p});var o=r(0),n=r.n(o),i=r(1),a=r.n(i),s=r(2),c=(r.n(s),r(30)),u=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function o(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),l=this&&this.__decorate||function(t,e,r,o){var n,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,o);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(i<3?n(a):i>3?n(e,r,a):n(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a},p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.customerId=e.customer?e.customer.id:0,e.customerData=e.customer?e.customer:{name:"",currentAgreement:""},e.awaitOfSubmit=!1,e.errorMessage="",e}return u(e,t),e.prototype.submit=function(){var t=this;this.errorMessage="";var e=function(e){return t.awaitOfSubmit=!1,!!e.valid||(t.errorMessage=e.firstError,!1)};this.$validator.validateAll().then(function(){t.awaitOfSubmit=!0,t.customerId?c.a.update(t.customerId,t.customerData).then(function(r){e(r)&&t.$emit("customer:updated",r.customer)}).catch(function(){return t.awaitOfSubmit=!1}):c.a.create(t.customerData).then(function(r){e(r)&&t.$emit("customer:new",r.customer)}).catch(function(){})}).catch(function(){})},e.prototype.remove=function(){var t=this;confirm("Арендатор будет удален безвозвратно, включая всех его пользователей. Вы уверены что хотите удалить арендатора?")&&(this.awaitOfSubmit=!0,this.errorMessage="",c.a.remove(this.customerId).then(function(e){t.awaitOfSubmit=!1,e.success?t.$emit("customer:remove",t.customerId):t.errorMessage="Не удалось удалить контрагента."}))},e}(n.a);l([r.i(s.Prop)(Object)],p.prototype,"customer",void 0),l([r.i(s.Model)()],p.prototype,"customerData",void 0),l([r.i(s.Model)()],p.prototype,"awaitOfSubmit",void 0),l([r.i(s.Model)()],p.prototype,"errorMessage",void 0),p=l([a()({template:r(114)})],p)},function(t,e,r){"use strict";(function(t){r.d(e,"a",function(){return d});var o=r(0),n=r.n(o),i=r(1),a=r.n(i),s=r(22),c=r(48),u=r(169),l=r(2),p=(r.n(l),this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function o(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}()),f=this&&this.__decorate||function(t,e,r,o){var n,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,o);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(i<3?n(a):i>3?n(e,r,a):n(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a},d=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.viewForm=!1,t.currentCustomer=null,t}return p(r,e),r.prototype.beforeUpdate=function(){this.dtHandler&&t(this.$refs.table).DataTable().destroy()},r.prototype.updated=function(){this.dtHandler=t(this.$refs.table).DataTable(c.a)},r.prototype.mounted=function(){this.$store.dispatch("fetchList")},r.prototype.beforeDestroy=function(){this.$store.commit("clear")},Object.defineProperty(r.prototype,"list",{get:function(){return this.$store.state.list},enumerable:!0,configurable:!0}),r.prototype.openDialog=function(t){this.$refs["modal-window"].show(),this.currentCustomer=t,this.viewForm=!0},r.prototype.newCustomer=function(t){this.$refs["modal-window"].hide(),this.$store.dispatch("addCustomer",t)},r.prototype.updatedCustomer=function(t){this.$refs["modal-window"].hide(),this.$store.dispatch("updateCustomer",t)},r.prototype.removedCustomer=function(t){this.$refs["modal-window"].hide(),this.$store.dispatch("removeCustomer",t)},r}(n.a);f([r.i(l.Model)()],d.prototype,"viewForm",void 0),f([r.i(l.Model)()],d.prototype,"currentCustomer",void 0),d=f([a()({template:r(115),store:s.a,components:{"customer-form":u.a}})],d)}).call(e,r(3))},function(t,e,r){"use strict";r.d(e,"a",function(){return p});var o=r(0),n=r.n(o),i=r(1),a=r.n(i),s=r(2),c=(r.n(s),r(50)),u=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function o(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),l=this&&this.__decorate||function(t,e,r,o){var n,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,o);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(i<3?n(a):i>3?n(e,r,a):n(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a},p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.schedule=null,e.scheduleBreak=null,e.date=null,e.dateFormatted=null,e.timeFrom=null,e.timeTo=null,e.customer=null,e.customerComment=null,e.errorMessage="",e.awaitOfSubmit=!1,e}return u(e,t),e.prototype.mounted=function(){this.date=this.from.format("YYYY-MM-DD"),this.dateFormatted=this.from.format("DD.MM.YYYY"),this.timeFrom=this.from.format("HH:mm"),this.timeTo=this.to.format("HH:mm"),this.schedule=c.a.getScheduleByDate(this.room,this.date),this.scheduleBreak=c.a.getScheduleBreak(this.room)},e.prototype.submit=function(){this.errorMessage="",this.$validator.validateAll().then(function(){alert("success!")},function(){})},e}(n.a);l([r.i(s.Prop)(Object)],p.prototype,"from",void 0),l([r.i(s.Prop)(Object)],p.prototype,"to",void 0),l([r.i(s.Prop)(Object)],p.prototype,"room",void 0),l([r.i(s.Model)()],p.prototype,"schedule",void 0),l([r.i(s.Model)()],p.prototype,"scheduleBreak",void 0),l([r.i(s.Model)()],p.prototype,"date",void 0),l([r.i(s.Model)()],p.prototype,"dateFormatted",void 0),l([r.i(s.Model)()],p.prototype,"timeFrom",void 0),l([r.i(s.Model)()],p.prototype,"timeTo",void 0),l([r.i(s.Model)()],p.prototype,"customer",void 0),l([r.i(s.Model)()],p.prototype,"customerComment",void 0),l([r.i(s.Model)()],p.prototype,"errorMessage",void 0),l([r.i(s.Model)()],p.prototype,"awaitOfSubmit",void 0),p=l([a()({template:r(116)})],p)},function(t,e,r){"use strict";r.d(e,"a",function(){return v});var o=r(0),n=r.n(o),i=r(1),a=r.n(i),s=r(2),c=(r.n(s),r(5)),u=r(31),l=r(3),p=r.n(l),f=r(171),d=r(50),h=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function o(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),m=this&&this.__decorate||function(t,e,r,o){var n,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,o);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(i<3?n(a):i>3?n(e,r,a):n(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a};a.a.registerHooks(["beforeRouteEnter","beforeRouteUpdate"]);var v=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.room=null,e.requests=[],e.createFrom=null,e.createTo=null,e.viewCreateForm=!1,e}return h(e,t),e.prototype.configureFullCalendar=function(){var t=this;p()(this.$refs.calendar).fullCalendar({header:{left:"prev,next today",center:"title",right:"month,agendaWeek,agendaDay"},dayRender:function(e,r){d.a.dayIsAvailable(t.room,e)?p()(r).removeClass("fc-nonbusiness"):p()(r).addClass("fc-nonbusiness fc-bgevent")},selectable:!0,select:function(e,r){t.createFrom=e,t.createTo=r,t.$refs["create-request-modal"].show(),t.viewCreateForm=!0}})},e.prototype.setData=function(t,e){this.room=t,this.requests=e,c.a.commit("setTitle","Календарь для помещения "+this.room.title),c.a.commit("setPageTitle","Переговорные комнаты"),this.configureFullCalendar()},e.prototype.beforeRouteEnter=function(t,e,r){u.a.details(t.params.id).then(function(t){r(function(e){return e.setData(t.room,t.requests)})},function(){r({name:404})})},e.prototype.beforeRouteUpdate=function(t,e,r){var o=this;u.a.details(t.params.id).then(function(t){o.setData(t.room,t.requests)},function(){r({name:404})})},e}(n.a);m([r.i(s.Model)()],v.prototype,"room",void 0),m([r.i(s.Model)()],v.prototype,"requests",void 0),m([r.i(s.Model)()],v.prototype,"createFrom",void 0),m([r.i(s.Model)()],v.prototype,"createTo",void 0),m([r.i(s.Model)()],v.prototype,"viewCreateForm",void 0),v=m([a()({template:r(117),components:{"create-request":f.a}})],v)},function(t,e,r){"use strict";r.d(e,"a",function(){return f});var o=r(0),n=r.n(o),i=r(1),a=r.n(i),s=r(2),c=(r.n(s),r(31)),u=r(11),l=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function o(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),p=this&&this.__decorate||function(t,e,r,o){var n,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,o);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(i<3?n(a):i>3?n(e,r,a):n(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a},f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.awaitOfSubmit=!1,e.errorMessage="",e.room=null,e}return l(e,t),e.prototype.submit=function(){var t=this;this.awaitOfSubmit||(this.errorMessage="",this.$validator.validateAll().then(function(){t.awaitOfSubmit=!0,t.inputRoom?c.a.update(t.inputRoom.id,t.room).then(function(e){e.success?(t.$emit("updated",e.room),u.a.dispatch("flash",{text:"Помещение успешно отредактировано",type:"success"})):t.errorMessage=e.firstError,t.awaitOfSubmit=!1}):c.a.create(t.room).then(function(e){e.success?(t.$emit("created",e.room),u.a.dispatch("flash",{text:"Помещение успешно создано",type:"success"})):t.errorMessage=e.firstError,t.awaitOfSubmit=!1})},function(){}))},e.prototype.addHoliday=function(t){-1===this.room.holidays.indexOf(t)&&this.room.holidays.push(t)},e.prototype.removeHoliday=function(t){var e=this.room.holidays.indexOf(t);-1!=e&&this.room.holidays.splice(e,1)},e.prototype.addWorkWeekend=function(t){-1===this.room.workWeekends.indexOf(t)&&this.room.workWeekends.push(t)},e.prototype.removeWorkWeekend=function(t){var e=this.room.workWeekends.indexOf(t);-1!=e&&this.room.workWeekends.splice(e,1)},e.prototype.onChangeInputRoom=function(){if(this.room=this.inputRoom?this.inputRoom:{type:"meeting",title:"",description:"",address:"",hourlyCost:null,schedule:[],scheduleBreak:[],holidays:[],workWeekends:[],requestPause:null},this.room.schedule.length<7)for(;this.room.schedule.length<7;)this.room.schedule.push([{avail:!0,from:"00:00",to:"24:00"}]);this.room.scheduleBreak.length<1&&(this.room.scheduleBreak=[{avail:!1,from:"13:00",to:"14:00"}])},e.prototype.getWeekDay=function(t){return["Понедельник","Вторник","Среда","Четверг","Пятница","Суббота","Воскресение"][t]||""},Object.defineProperty(e.prototype,"hasCommonError",{get:function(){var t=this.$validator.errorBag;return t.has("type")||t.has("title")||t.has("description")||t.has("address")||t.has("hourlyCost")||t.has("requestPause")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hasScheduleError",{get:function(){var t=this.$validator.errorBag;if(t.has("schedule")||t.has("scheduleBreak"))return!0;for(var e=0;e<7;e++)if(this.hasScheduleItemError(e))return!0;return t.has("scheduleBreakFrom")||t.has("scheduleBreakTo")},enumerable:!0,configurable:!0}),e.prototype.hasScheduleItemError=function(t){var e=this.$validator.errorBag;return e.has("scheduleAvail"+t)||e.has("scheduleFrom"+t)||e.has("scheduleTo"+t)},e.prototype.cancel=function(){this.$emit("cancel")},e}(n.a);p([r.i(s.Model)()],f.prototype,"awaitOfSubmit",void 0),p([r.i(s.Model)()],f.prototype,"errorMessage",void 0),p([r.i(s.Prop)(Object)],f.prototype,"inputRoom",void 0),p([r.i(s.Model)()],f.prototype,"room",void 0),p([r.i(s.Watch)("inputRoom",{immediate:!0})],f.prototype,"onChangeInputRoom",null),f=p([a()({template:r(118)})],f)},function(t,e,r){"use strict";r.d(e,"a",function(){return p});var o=r(0),n=(r.n(o),r(1)),i=r.n(n),a=r(188),s=r(2),c=(r.n(s),r(173)),u=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function o(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),l=this&&this.__decorate||function(t,e,r,o){var n,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,o);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(i<3?n(a):i>3?n(e,r,a):n(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a},p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.viewForm=!1,e.currentItem=null,e}return u(e,t),e.prototype.roomCreated=function(t){this.$store.commit("addItem",t),this.viewForm=!1},e.prototype.roomUpdated=function(t){this.$store.commit("updateItem",t),this.viewForm=!1},e.prototype.openForm=function(t){this.currentItem=t,this.viewForm=!0},Object.defineProperty(e.prototype,"list",{get:function(){return this.$store.state.list},enumerable:!0,configurable:!0}),e.prototype.mounted=function(){this.$store.dispatch("fetchManagerList")},e.prototype.destroyed=function(){this.$store.commit("clearList")},e}(o);l([r.i(s.Model)()],p.prototype,"viewForm",void 0),l([r.i(s.Model)()],p.prototype,"currentItem",void 0),p=l([i()({template:r(119),store:a.a,components:{"room-form":c.a}})],p)},function(t,e,r){"use strict";r.d(e,"a",function(){return f});var o=r(0),n=r.n(o),i=r(1),a=r.n(i),s=r(2),c=(r.n(s),r(52)),u=r(21),l=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function o(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),p=this&&this.__decorate||function(t,e,r,o){var n,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,o);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(i<3?n(a):i>3?n(e,r,a):n(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a},f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.existent=!(!e.inputService||!e.inputService.id),e.service=e.inputService?e.inputService:{id:null,title:null,isActive:!0,description:null,customerRole:null,tariff:[]},e.awaitOfSubmit=!1,e.errorMessage="",e}return l(e,t),Object.defineProperty(e.prototype,"customerRoles",{get:function(){return c.a.state.rolesByUserType.customer||[]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rolesLabels",{get:function(){return c.a.state.rolesLabels},enumerable:!0,configurable:!0}),e.prototype.mounted=function(){c.a.dispatch("fetchData")},e.prototype.submit=function(){var t=this;this.errorMessage="",this.$validator.validateAll().then(function(){t.awaitOfSubmit=!0,t.existent?u.a.update(t.inputService.id,t.service).then(function(e){t.awaitOfSubmit=!1,e.success&&e.service?t.$emit("service:updated",e.service):t.errorMessage=e.firstError}):u.a.create(t.service).then(function(e){t.awaitOfSubmit=!1,e.success&&e.service?t.$emit("service:new",e.service):t.errorMessage=e.firstError})},function(){})},e.prototype.remove=function(){var t=this;confirm("Вы уверены что хотите удалить данную услугу? Услуга будет удалена полностью, включая тех арендаторов, которые уже успели ее активировать.")&&(this.errorMessage="",this.awaitOfSubmit=!0,u.a.remove(this.inputService.id).then(function(e){t.awaitOfSubmit=!1,e.success&&t.$emit("service:removed",t.inputService.id)}))},e.prototype.addTariff=function(){this.service.tariff.push({title:null,monthlyCost:null,isActive:!0})},e.prototype.removeTariff=function(t){confirm("Вы уверены, что хотите удалить данный тариф?")&&this.service.tariff.splice(t,1)},e}(n.a);p([r.i(s.Prop)(Object)],f.prototype,"inputService",void 0),p([r.i(s.Model)()],f.prototype,"existent",void 0),p([r.i(s.Model)()],f.prototype,"service",void 0),p([r.i(s.Model)()],f.prototype,"awaitOfSubmit",void 0),p([r.i(s.Model)()],f.prototype,"errorMessage",void 0),f=p([a()({template:r(120)})],f)},function(t,e,r){"use strict";r.d(e,"a",function(){return f});var o=r(0),n=r.n(o),i=r(1),a=r.n(i),s=r(2),c=(r.n(s),r(21)),u=r(175),l=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function o(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),p=this&&this.__decorate||function(t,e,r,o){var n,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,o);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(i<3?n(a):i>3?n(e,r,a):n(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a},f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.list=[],e.hasInactive=!1,e.currentService=null,e.viewForm=!1,e}return l(e,t),e.prototype.fetchList=function(){var t=this;this.hasInactive=!1,this.list=[],c.a.managerList().then(function(e){t.list=e.list;for(var r=0,o=t.list;r<o.length;r++){if(!o[r].isActive){t.hasInactive=!0;break}}})},e.prototype.beforeDestroy=function(){this.list=[]},e.prototype.mounted=function(){this.fetchList()},e.prototype.openDialog=function(t){this.$refs["modal-window"].show(),this.currentService=t,this.viewForm=!0},e.prototype.newService=function(t){this.$refs["modal-window"].hide(),t.isActive||this.hasInactive||(this.hasInactive=!0),this.list.push(t)},e.prototype.updatedService=function(t){this.$refs["modal-window"].hide(),this.hasInactive=!1;for(var e in this.list)this.list[e].id==t.id&&(this.list[e]=t),this.list[e].isActive||(this.hasInactive=!0)},e.prototype.removedService=function(t){this.$refs["modal-window"].hide();for(var e in this.list)this.list[e].id==t&&this.list.splice(parseInt(e),1)},e}(n.a);p([r.i(s.Model)()],f.prototype,"list",void 0),p([r.i(s.Model)()],f.prototype,"hasInactive",void 0),p([r.i(s.Model)()],f.prototype,"currentService",void 0),p([r.i(s.Model)()],f.prototype,"viewForm",void 0),f=p([a()({template:r(121),components:{"service-form":u.a}})],f)},function(t,e,r){"use strict";r.d(e,"a",function(){return v});var o=r(0),n=r.n(o),i=r(1),a=r.n(i),s=r(2),c=(r.n(s),r(18)),u=r(13),l=r(10),p=r(5),f=r(28),d=r(27),h=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function o(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),m=this&&this.__decorate||function(t,e,r,o){var n,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,o);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(i<3?n(a):i>3?n(e,r,a):n(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a};a.a.registerHooks(["beforeRouteEnter","beforeRouteUpdate"]);var v=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.category=null,e.ticket=null,e.details=null,e.showMessageForm=!1,e}return h(e,t),e.prototype.updateData=function(){var t=this,e=this.$refs["message-panel"];e.visible=!0,e.toggle(),u.a.ticketDetails(this.ticket.id).then(function(e){t.setData(e)},function(){})},e.prototype.setData=function(t){this.ticket=t.ticket,this.details=t},e.prototype.setCategory=function(t){this.category=t,p.a.commit("setTitle","#"+this.ticket.number+" - "+t.name),p.a.commit("setPageTitle","Заявки")},Object.defineProperty(e.prototype,"categoryRoute",{get:function(){return this.category&&this.category.id?{name:"manager_ticket_list",params:{category:this.category.id}}:{name:"manager_ticket_root"}},enumerable:!0,configurable:!0}),e.prototype.beforeRouteEnter=function(t,e,r){var o=t.params.category?t.params.category:t.params.service;l.a.dispatch("checkCategory",o).then(function(e){u.a.ticketDetails(t.params.ticket).then(function(t){r(function(r){r.setData(t),r.setCategory(e)})},function(){return r({name:"403"})})},function(){return r({name:"403"})})},e.prototype.beforeRouteUpdate=function(t,e,r){var o=t.params.category?t.params.category:t.params.service;l.a.dispatch("checkCategory",o).then(function(e){u.a.ticketDetails(t.params.ticket).then(function(t){r(function(r){r.setData(t),r.setCategory(e)})},function(){return r({name:"403"})})},function(){return r({name:"403"})})},e}(n.a);m([r.i(s.Model)()],v.prototype,"category",void 0),m([r.i(s.Model)()],v.prototype,"ticket",void 0),m([r.i(s.Model)()],v.prototype,"details",void 0),m([r.i(s.Model)()],v.prototype,"showMessageForm",void 0),v=m([a()({template:r(122),store:c.a,components:{"message-form":f.a,"ticket-history":d.a}})],v)},function(t,e,r){"use strict";r.d(e,"a",function(){return m});var o=r(0),n=r.n(o),i=r(1),a=r.n(i),s=r(10),c=r(5),u=r(2),l=(r.n(u),r(6)),p=r(16),f=r(29),d=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function o(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),h=this&&this.__decorate||function(t,e,r,o){var n,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,o);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(i<3?n(a):i>3?n(e,r,a):n(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a};a.a.registerHooks(["beforeRouteEnter","beforeRouteUpdate"]);var m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.category=null,e}return d(e,t),Object.defineProperty(e.prototype,"allCategories",{get:function(){return{id:null,name:"Все",managerRole:null,customerRole:null}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"categories",{get:function(){return[this.allCategories].concat(s.a.state.list)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"userType",{get:function(){return l.a.state.userData.userType},enumerable:!0,configurable:!0}),e.prototype.selectCategory=function(t){var e={};e=t&&t.id?{name:"manager_ticket_list",params:{category:t.id}}:{name:"manager_ticket_root"},p.a.push(e)},e.prototype.setCategory=function(t){t?c.a.commit("setTitle","Заявки: "+t.name):c.a.commit("setTitle","Заявки"),this.category=t||this.allCategories},e.prototype.beforeRouteEnter=function(t,e,r){t.params.category?s.a.dispatch("checkCategory",t.params.category).then(function(t){r(function(e){return e.setCategory(t)})},function(){r(function(t){return t.setCategory(null)})}):r(function(t){return t.setCategory(null)})},e.prototype.beforeRouteUpdate=function(t,e,r){var o=this;t.params.category?s.a.dispatch("checkCategory",t.params.category).then(function(t){o.setCategory(t),r()},function(){o.setCategory(null),r()}):this.setCategory(null)},e}(n.a);h([r.i(u.Model)()],m.prototype,"category",void 0),m=h([a()({template:r(123),components:{"ticket-table":f.a}})],m)},function(t,e,r){"use strict";r.d(e,"a",function(){return h});var o=r(0),n=r.n(o),i=r(1),a=r.n(i),s=r(2),c=(r.n(s),r(32)),u=r(30),l=r(22),p=r(52),f=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function o(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),d=this&&this.__decorate||function(t,e,r,o){var n,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,o);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(i<3?n(a):i>3?n(e,r,a):n(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a},h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.userId=e.user?e.user.id:0,e.userData=e.user?e.user:{name:"",email:"",status:1,userType:"customer"},e.password="",e.roles=[],e.customerId=e.user&&e.user.customer?e.user.customer.id:0,e.customer=e.user&&e.user.customer?e.user.customer:{name:"",currentAgreement:""},e.awaitOfSubmit=!1,e.errorMessage="",e}return f(e,t),Object.defineProperty(e.prototype,"customers",{get:function(){return l.a.state.list},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rolesLabels",{get:function(){return p.a.state.rolesLabels},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rolesHierarchy",{get:function(){return p.a.state.rolesHierarchy},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rolesByUserType",{get:function(){return p.a.state.rolesByUserType},enumerable:!0,configurable:!0}),e.prototype.mounted=function(){var t=this;p.a.dispatch("fetchData"),l.a.dispatch("clear").then(function(){l.a.dispatch("fetchList")}),this.roles=[],this.userId&&c.a.details(this.userId).then(function(e){for(var r=0,o=e.roles;r<o.length;r++){var n=o[r];t.roles.push(n)}t.$validator.errorBag.clear()})},e.prototype.chooseParentRole=function(t){if(-1!=this.roles.indexOf(t))for(var e=0,r=this.rolesHierarchy[t];e<r.length;e++){var o=r[e],n=this.roles.indexOf(o);-1!=n&&this.roles.splice(n,1)}},Object.defineProperty(e.prototype,"rolesStr",{get:function(){return this.roles.join()},enumerable:!0,configurable:!0}),e.prototype.onCustomerIdSet=function(t){var e=this;l.a.dispatch("getCustomer",t).then(function(t){return e.customer=t}).catch(function(){e.customer={name:"",currentAgreement:""}})},e.prototype.generatePassword=function(){for(var t="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",e="",r=0,o=t.length;r<8;++r)e+=t.charAt(Math.floor(Math.random()*o));this.password=e},e.prototype.submit=function(){var t=this;this.errorMessage="";var e=null,r=function(r){return!!r.valid||(t.errorMessage=r.firstError,t.awaitOfSubmit=!1,e&&(u.a.remove(e).then(function(){}),l.a.dispatch("removeCustomer",e),e=null),!1)},o=function(e){var o={name:t.userData.name,email:t.userData.email,userType:t.userData.userType,role:[]};e&&(o.customer=e);for(var n=0,i=t.roles;n<i.length;n++){var a=i[n];o.role.push({code:a})}t.userId?(o.status=t.userData.status,c.a.update(t.userId,o).then(function(e){t.awaitOfSubmit=!1,r(e)&&(t.awaitOfSubmit=!1,t.$emit("user:updated",e.user))})):(o.password=t.password,c.a.create(o).then(function(e){t.awaitOfSubmit=!1,r(e)&&(t.awaitOfSubmit=!1,t.userId=e.user.id,t.$emit("user:new",e.user))}))};this.$validator.validateAll().then(function(){if(t.awaitOfSubmit=!0,"manager"==t.userData.userType)return void o(null);t.customerId?u.a.update(t.customerId,t.customer).then(function(t){r(t)&&(o(t.customer.id),l.a.dispatch("updateCustomer",t.customer))}):u.a.create(t.customer).then(function(t){r(t)&&(e=t.customer.id,o(t.customer.id),l.a.dispatch("addCustomer",t.customer))})}).catch(function(){})},e.prototype.remove=function(){var t=this;confirm("Пользователь будет удален безвозвратно. Вы уверены что хотите удалить пользователя?")&&(this.awaitOfSubmit=!0,this.errorMessage="",c.a.remove(this.userId).then(function(e){t.awaitOfSubmit=!1,e.success?t.$emit("user:remove",t.userId):t.errorMessage="Не удалось удалить пользователя."}))},e}(n.a);d([r.i(s.Prop)(Object)],h.prototype,"user",void 0),d([r.i(s.Model)()],h.prototype,"userData",void 0),d([r.i(s.Model)()],h.prototype,"password",void 0),d([r.i(s.Model)()],h.prototype,"roles",void 0),d([r.i(s.Model)()],h.prototype,"customerId",void 0),d([r.i(s.Model)()],h.prototype,"customer",void 0),d([r.i(s.Model)()],h.prototype,"awaitOfSubmit",void 0),d([r.i(s.Model)()],h.prototype,"errorMessage",void 0),d([r.i(s.Watch)("customerId")],h.prototype,"onCustomerIdSet",null),h=d([a()({template:r(124)})],h)},function(t,e,r){"use strict";r.d(e,"a",function(){return v});var o=r(0),n=r.n(o),i=r(1),a=r.n(i),s=r(2),c=(r.n(s),r(3)),u=r.n(c),l=r(189),p=r(48),f=r(179),d=r(22),h=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function o(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),m=this&&this.__decorate||function(t,e,r,o){var n,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,o);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(i<3?n(a):i>3?n(e,r,a):n(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a},v=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.currentUser=null,e.viewForm=!1,e}return h(e,t),Object.defineProperty(e.prototype,"list",{get:function(){return this.$store.state.list},enumerable:!0,configurable:!0}),e.prototype.beforeUpdate=function(){this.dtHandler&&u()(this.$refs.table).DataTable().destroy()},e.prototype.updated=function(){this.dtHandler=u()(this.$refs.table).DataTable(p.a)},e.prototype.mounted=function(){this.$store.dispatch("fetchList")},e.prototype.beforeDestroy=function(){this.$store.commit("clear"),d.a.commit("clear")},e.prototype.openDialog=function(t){this.$refs["modal-window"].show(),this.currentUser=t,this.viewForm=!0},e.prototype.newUser=function(t){this.$refs["modal-window"].hide(),this.$store.dispatch("addUser",t)},e.prototype.updatedUser=function(t){this.$refs["modal-window"].hide(),this.$store.dispatch("updateUser",t)},e.prototype.removedUser=function(t){this.$refs["modal-window"].hide(),this.$store.dispatch("removeUser",t)},e}(n.a);m([r.i(s.Model)()],v.prototype,"currentUser",void 0),m([r.i(s.Model)()],v.prototype,"viewForm",void 0),v=m([a()({template:r(125),store:l.a,components:{"user-form":f.a}})],v)},function(t,e,r){"use strict";r.d(e,"a",function(){return f});var o=r(0),n=r.n(o),i=r(1),a=r.n(i),s=r(2),c=(r.n(s),r(17)),u=r(16),l=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function o(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),p=this&&this.__decorate||function(t,e,r,o){var n,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,o);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(i<3?n(a):i>3?n(e,r,a):n(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a},f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.errorMessage="",e.username="",e.password="",e.awaitOfSubmit=!1,e}return l(e,t),e.prototype.login=function(t){var e=this;t.preventDefault(),this.errorMessage="",this.awaitOfSubmit||this.$validator.validateAll().then(function(){e.awaitOfSubmit=!0,c.a.login(e.username,e.password).then(function(t){if(t.loggedIn)return void c.a.checkAuth().then(function(t){e.awaitOfSubmit=!1,u.a.push({name:"customer"==t.user.userType?"cabinet":"dashboard"})},function(){return e.awaitOfSubmit=!1});e.awaitOfSubmit=!1,t.isLocked?e.errorMessage="Ваш аккаунт заблокирован":t.isNeedActivation?e.errorMessage="Требуется активация аккаунта. Обратитесь к администратору.":e.errorMessage=t.errorMessage}).catch(function(){return e.awaitOfSubmit=!1})}).catch(function(){})},e}(n.a);p([r.i(s.Model)()],f.prototype,"errorMessage",void 0),p([r.i(s.Model)()],f.prototype,"username",void 0),p([r.i(s.Model)()],f.prototype,"password",void 0),p([r.i(s.Model)()],f.prototype,"awaitOfSubmit",void 0),f=p([a()({template:r(126)})],f)},function(t,e,r){"use strict";r.d(e,"a",function(){return p});var o=r(0),n=r.n(o),i=r(1),a=r.n(i),s=r(2),c=(r.n(s),r(17)),u=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function o(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),l=this&&this.__decorate||function(t,e,r,o){var n,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,o);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(i<3?n(a):i>3?n(e,r,a):n(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a},p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.awaitOfSubmit=!1,e.errorMessage="",e.email="",e.success=!1,e}return u(e,t),e.prototype.remember=function(t){var e=this;t.preventDefault(),this.errorMessage="",this.awaitOfSubmit||this.$validator.validateAll().then(function(){e.awaitOfSubmit=!0,c.a.rememberPassword(e.email).then(function(t){e.awaitOfSubmit=!1,e.success=t.success,t.valid||(e.errorMessage=t.firstError)})}).catch(function(){})},e}(n.a);l([r.i(s.Model)()],p.prototype,"awaitOfSubmit",void 0),l([r.i(s.Model)()],p.prototype,"errorMessage",void 0),l([r.i(s.Model)()],p.prototype,"email",void 0),l([r.i(s.Model)()],p.prototype,"success",void 0),p=l([a()({template:r(127)})],p)},function(t,e,r){"use strict";r.d(e,"a",function(){return d});var o=r(0),n=r.n(o),i=r(1),a=r.n(i),s=r(3),c=r.n(s),u=r(2),l=(r.n(u),r(17)),p=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function o(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),f=this&&this.__decorate||function(t,e,r,o){var n,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,o);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(i<3?n(a):i>3?n(e,r,a):n(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a};a.a.registerHooks(["beforeRouteLeave","beforeRouteEnter"]);var d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.awaitOfSubmit=!1,e.success=!1,e.password="",e.errorMessage="",e}return p(e,t),e.prototype.mounted=function(){c()("body").addClass("login")},e.prototype.beforeRouteLeave=function(t,e,r){c()("body").removeClass("login"),r()},e.prototype.beforeRouteEnter=function(t,e,r){var o=parseInt(t.params.checkerId||0),n=t.params.checkerCode||"";(o<1||isNaN(o)||!n)&&r("404"),r()},e.prototype.changePassword=function(t){var e=this;t.preventDefault(),this.errorMessage="",this.awaitOfSubmit||this.$validator.validateAll().then(function(){e.awaitOfSubmit=!0;var t=parseInt(e.$route.params.checkerId),r=e.$route.params.checkerCode;l.a.restorePassword(t,r,e.password).then(function(t){e.awaitOfSubmit=!1,e.success=t.success,t.valid||(e.errorMessage=t.firstError)})}).catch(function(){})},e}(n.a);f([r.i(u.Model)()],d.prototype,"awaitOfSubmit",void 0),f([r.i(u.Model)()],d.prototype,"success",void 0),f([r.i(u.Model)()],d.prototype,"password",void 0),f([r.i(u.Model)()],d.prototype,"errorMessage",void 0),d=f([a()({template:r(128)})],d)},function(t,e,r){"use strict";r.d(e,"a",function(){return d});var o=r(0),n=r.n(o),i=r(1),a=r.n(i),s=r(3),c=r.n(s),u=r(181),l=r(182),p=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function o(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),f=this&&this.__decorate||function(t,e,r,o){var n,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,o);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(i<3?n(a):i>3?n(e,r,a):n(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a};a.a.registerHooks(["beforeRouteLeave"]);var d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return p(e,t),e.prototype.mounted=function(){c()("body").addClass("login")},e.prototype.beforeRouteLeave=function(t,e,r){c()("body").removeClass("login"),r()},e}(n.a);d=f([a()({template:r(129),components:{"login-form":u.a,"remember-password-form":l.a}})],d)},function(t,e,r){"use strict";r.d(e,"a",function(){return k});var o=r(184),n=r(165),i=r(183),a=r(167),s=r(166),c=r(168),u=r(180),l=r(170),p=r(164),f=r(163),d=r(162),h=r(176),m=r(160),v=r(161),y=r(178),g=r(177),b=r(174),w=r(172),k=[{path:"/",name:"login",component:o.a,meta:{needNotAuth:!0}},{path:"/change-password/:checkerId/:checkerCode",name:"restore-password",component:i.a,meta:{needNotAuth:!0}},{path:"/auth/cabinet",name:"cabinet",component:n.a,meta:{needType:"customer",pageTitle:"Личный кабинет"},children:[{path:"/auth/cabinet/index",name:"cabinet_index",component:c.a},{path:"/auth/cabinet/ticket/:category",name:"cabinet_ticket_list",component:p.a,meta:{needType:"customer",pageTitle:"Заявки"}},{path:"/auth/cabinet/ticket/:category/create",name:"cabinet_ticket_create",component:f.a,meta:{needType:"customer",pageTitle:"Заявки"}},{path:"/auth/cabinet/ticket/:category/:ticket",name:"cabinet_ticket_details",component:d.a,meta:{needType:"customer",pageTitle:"Заявка"}},{path:"/auth/service/:service",name:"cabinet_service_page",component:m.a,meta:{needType:"customer",pageTitle:"Услуги"}},{path:"/auth/service/:service/ticket/create",name:"cabinet_service_ticket_create",component:f.a,meta:{needType:"customer",pageTitle:"Услуги"}},{path:"/auth/service/:service/ticket/:ticket",name:"cabinet_service_ticket_details",component:v.a,meta:{needType:"customer",pageTitle:"Услуги"}}]},{path:"/auth/manager",name:"dashboard",component:n.a,meta:{needType:"manager",pageTitle:"Панель управления"},children:[{path:"/auth/manager/index",name:"dashboard_index",component:c.a},{path:"/auth/manager/user",name:"manager_user_list",component:u.a,meta:{needRole:"ROLE_USER_MANAGEMENT",pageTitle:"Управление пользователями"}},{path:"/auth/manager/customer",name:"manager_customer_list",component:l.a,meta:{needRole:"ROLE_USER_MANAGEMENT",pageTitle:"Управление арендаторами"}},{path:"/auth/manager/ticket",name:"manager_ticket_root",component:y.a,meta:{needType:"manager",pageTitle:"Заявки"}},{path:"/auth/manager/ticket/:category",name:"manager_ticket_list",component:y.a,meta:{needType:"manager",pageTitle:"Заявки"}},{path:"/auth/manager/ticket/:category/:ticket",name:"manager_ticket_details",component:g.a,meta:{needType:"manager",pageTitle:"Заявка"}},{path:"/auth/manager/service",name:"manager_service_list",component:h.a,meta:{needRole:"ROLE_SERVICE_MANAGEMENT",pageTitle:"Дополнительные услуги"}},{path:"/auth/manager/rent/room",name:"manager_room_list",component:b.a,meta:{needRole:"ROLE_RENT_MANAGEMENT",pageTitle:"Переговорные комнаты"}},{path:"/auth/manager/rent/room/:id",name:"manager_room_calendar",component:w.a,meta:{needRole:"ROLE_RENT_MANAGEMENT",pageTitle:"Переговорные комнаты"}}]},{path:"/404",name:"404",component:a.a},{path:"/403",name:"403",component:s.a}]},function(t,e,r){"use strict";r.d(e,"a",function(){return c});var o=r(34),n=r(132),i=(r.n(n),r(6)),a=r(11),s=function(){function t(t){this.url=t,this.registeredEvents=[]}return t.prototype.connect=function(){this.socket||(this.socket=n(this.url),i.a.state.isAuth&&this.joinUser(i.a.state.userData.id))},t.prototype.joinUser=function(t){this.socket.emit("join_user",t)},t.prototype.registerEvent=function(t,e){this.socket.on(t,e),-1===this.registeredEvents.indexOf(t)&&this.registeredEvents.push(t)},t.prototype.registerFetchNewNotifications=function(){this.registerEvent("fetchNewNotifications",function(t){i.a.state.isAuth&&i.a.state.userData.id==t&&a.a.dispatch("fetchNew")})},t.prototype.disconnect=function(){if(this.socket){for(var t=0,e=this.registeredEvents;t<e.length;t++){var r=e[t];this.socket.off(r)}this.registeredEvents=[],this.socket.close(),this.socket=null}},t.prototype.isConnected=function(){return!(!this.socket||!this.socket.connected)},t}(),c=new s(o.a.comet.url)},function(t,e,r){"use strict";r.d(e,"a",function(){return i});var o=r(12),n=function(){function t(t){this.backendService=t}return t.prototype.resend=function(t,e,r){return void 0===r&&(r=null),this.backendService.makeRequest("POST","resend-incoming-call",{incoming_call_resend:{customer:e,callerId:t,comment:r}}).then(function(t){return t.data})},t}(),i=new n(o.a)},function(t,e,r){"use strict";r.d(e,"a",function(){return i});var o=r(7),n=r(31),i=new o.a.Store({state:{list:[]},mutations:{addItems:function(t,e){t.list=t.list.concat(t.list,e)},addItem:function(t,e){t.list.push(e)},updateItem:function(t,e){for(var r in t.list)t.list[r].id==e.id&&(t.list[r]=e)},removeItem:function(t,e){for(var r=0,o=t.list;r<o.length;r++){var n=o[r];if(e&&n.id==e){var i=t.list.indexOf(n);t.list.splice(i,1)}}},clearList:function(t){t.list.splice(0,t.list.length)}},actions:{fetchManagerList:function(t){return new Promise(function(e){n.a.list().then(function(r){t.commit("addItems",r),e(!0)},function(){e(!1)})})}}})},function(t,e,r){"use strict";r.d(e,"a",function(){return i});var o=r(7),n=r(32),i=new o.a.Store({state:{list:[]},mutations:{addUsers:function(t,e){t.list=t.list.concat(e)},addUser:function(t,e){t.list.push(e)},clear:function(t){t.list=[]},removeUser:function(t,e){for(var r in t.list)t.list[r].id==e&&t.list.splice(parseInt(r),1)},updateUser:function(t,e){for(var r in t.list)e.id&&t.list[r].id==e.id&&(t.list[r]=e)}},actions:{fetchList:function(t){return new Promise(function(e,r){if(t.state.list.length>0)return e();var o=1,i=0,a=function(){n.a.list(o).then(function(r){t.commit("addUsers",r.list),i+=r.list.length,o++,r.totalCount>i?a():e()}).catch(function(){return r()})};a()})},addUser:function(t,e){return new Promise(function(r){t.commit("addUser",e),r()})},updateUser:function(t,e){return new Promise(function(r){t.commit("updateUser",e),r()})},removeUser:function(t,e){return new Promise(function(r){t.commit("removeUser",e),r()})},getUser:function(t,e){return new Promise(function(r,o){t.dispatch("fetchList").then(function(){for(var n=0,i=t.state.list;n<i.length;n++){var a=i[n];if(a.id==e)return void r(a)}o()}).catch(o)})},clear:function(t){return new Promise(function(e){t.commit("clear"),e()})}}})},function(t,e,r){"use strict";r.d(e,"a",function(){return o});var o={locale:"ru",dictionary:{ru:{messages:{email:function(){return"Неверный формат e-mail"},required:function(){return"Поле обязательно для заполнения"}}}}}},,function(t,e){},function(t,e,r){t.exports=r(56)}],[193]);